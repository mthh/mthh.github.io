<!DOCTYPE html>
<html lang="fr" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <title>Cours Technologies Web - LP ESSIG - 2021</title>
        
        <meta name="robots" content="noindex" />
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="src/custom.css">
        
        <link rel="stylesheet" href="src/bootstrap-scoped.min.css">
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try {
                  sidebar = localStorage.getItem('mdbook-sidebar');
                } catch(e) {
                  sidebar = 'visible';
                }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div id="sidebar-scrollbox" class="sidebar-scrollbox">
                <ol class="chapter"><li class="expanded affix "><a href="0.html">Accueil</a></li><li class="expanded "><a href="1-Intro.html"><strong aria-hidden="true">1.</strong> Éléments théoriques</a></li><li class="expanded "><a href="2-HTML_CSS.html"><strong aria-hidden="true">2.</strong> Intro HTML 5 / CSS 3</a></li><li class="expanded "><a href="3-structure-style.html"><strong aria-hidden="true">3.</strong> Structurer et styler un document HTML</a></li><li class="expanded "><a href="4-css-bootstrap.html"><strong aria-hidden="true">4.</strong> Le framework Bootstrap</a></li><li class="expanded "><a href="5-serveur-client1.html"><strong aria-hidden="true">5.</strong> Programmation Web coté serveur en Python</a></li><li class="expanded "><a href="6-serveur-client2.html"><strong aria-hidden="true">6.</strong> Interactions serveur/client, formulaires et BD</a></li><li class="expanded "><a href="7-serveur-client3.html"><strong aria-hidden="true">7.</strong> Interactions serveur/client (suite)</a></li><li class="expanded "><a href="8-javascript.html"><strong aria-hidden="true">8.</strong> Javascript - Théorie et pratique</a></li><li class="expanded "><a href="tbd.html"><strong aria-hidden="true">9.</strong> Technos Web... quoi d'autre ?</a></li><li class="spacer"></li><li class="expanded affix "><a href="glossaire.html">Glossaire - Mémo</a></li><li class="expanded affix "><a href="page_pdf.html">Version PDF des TP</a></li><li class="expanded affix "><a href="tp_data.html">Données TP &amp; Corrections</a></li><li class="expanded affix "><a href="exam.html">Précédents sujets d'examen</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Cours Technologies Web - LP ESSIG - 2021</h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div style="text-align: center">
<h1><a class="header" href="#cours-technologies-web" id="cours-technologies-web">Cours Technologies Web</a></h1>
<h1><a class="header" href="#lp-essig---université-grenoble-alpes" id="lp-essig---université-grenoble-alpes">LP ESSIG - Université Grenoble Alpes</a></h1>
<p><br><br><br></p>
<p>Sur cette page sont disponibles les différents cours / TP en version HTML ainsi qu'en version PDF.</p>
<p>Le contenu de cette page est actualisé au fil de votre progression avant chaque séance.</p>
<br>
<p>Objectifs de ce cours :</p>
<div style="text-align: left">
<ul>
<li>Avoir connaissance des principaux éléments (protocoles, spécifications, etc.) qui composent les technonologies web.</li>
<li>Connaitre les principaux éléments nécessaires à la création de page web (HTML, CSS).</li>
<li>Comprendre l'architecture client / serveur appliquée à la création de sites web dynamiques.</li>
<li>Avoir connaissance d'une partie des possibilités offertes par le langage Javascript.</li>
</ul>
</div>
<p><br><br></p>
<h4><a class="header" href="#supports-de-cours--a-hrefmailtomatthieuviryuniv-grenoble-alpesfrmatthieu-virya" id="supports-de-cours--a-hrefmailtomatthieuviryuniv-grenoble-alpesfrmatthieu-virya">Supports de cours : <a href="mailto:matthieu.viry@univ-grenoble-alpes.fr">Matthieu Viry</a></a></h4>
<h4><a class="header" href="#préparé-sur-la-base-des-supports-de-marlène-villanova-oliver" id="préparé-sur-la-base-des-supports-de-marlène-villanova-oliver"><em>(préparé sur la base des supports de Marlène Villanova-Oliver)</em></a></h4>
</div>
<h1><a class="header" href="#cours-dintroduction-aux-technos-web" id="cours-dintroduction-aux-technos-web">Cours d'introduction aux Technos Web</a></h1>
<h1><a class="header" href="#Éléments-théoriques" id="Éléments-théoriques">Éléments théoriques</a></h1>
<br>
<br>
<div style="text-align: center;"><h4>
Voir le <a target="blank" href="1-Intro-Internet-web/index.html">cours sous forme de slides<img src="img/magnify-clip-ltr.svg" /></a></h4>
</div>
<h1><a class="header" href="#cours--tp" id="cours--tp">Cours / TP</a></h1>
<h1><a class="header" href="#introduction-à-la-création-de-pages-web-en-html-5--css-3" id="introduction-à-la-création-de-pages-web-en-html-5--css-3">Introduction à la création de pages Web en HTML 5 / CSS 3</a></h1>
<p>HTML est l’abréviation de <em>HyperText Markup Language</em>. Il s'agit d'un langage qui formalise l'écriture d'un document web à l’aide de balises.<br />
Une page HTML est un fichier texte contenant des balises permettant de structurer le contenu de la page (titres, paragraphes, images, liens, etc.).<br />
La mise en forme du contenu est prise en charge par un autre fichier codé dans le langage <em>Cascasding Style Sheet</em> (appelé une feuille de style en cascade). L'expression de « cascade » permet ici de désigner la possibilité, pour un document HTML, d'avoir un style hérité de plusieurs de ces feuilles de style.</p>
<p>Ce TP est une brève introduction à ces 2 langages complémentaires.</p>
<h2><a class="header" href="#1-environnement-de-travail" id="1-environnement-de-travail">1. Environnement de travail</a></h2>
<p>L’environnement dans lequel nous allons travailler comprend :</p>
<ul>
<li>un éditeur de texte, par exemple <code>NotePad++</code> ou <code>Brackets</code>, pour créer et modifier du code,</li>
<li>le navigateur de votre choix (Firefox de préférence, Chrome, Microsoft Edge, etc.) pour visualiser les pages créées et naviguer d’une page à l’autre.</li>
</ul>
<h2><a class="header" href="#2-html--principe-général-des-balises" id="2-html--principe-général-des-balises">2. HTML : principe général des balises</a></h2>
<div class="img-center">
<p><img src="img/logo_html5.png" alt=" " /></p>
</div>
<h3><a class="header" href="#21-balises-html" id="21-balises-html">2.1 Balises HTML</a></h3>
<p>Les <strong>balises</strong> structurent le contenu en délimitant les différentes parties du document HTML (titre, paragraphe, ...). Elles fonctionnent par paire: une balise ouvrante <code>&lt;nom_balise&gt;</code>, une balise fermante <code>&lt;/nom_balise&gt;</code> délimitant ensemble une partie du contenu, représenté par une chaine de caractères. Exemple d’une balise délimitant un paragraphe :</p>
<pre><code class="language-html">&lt;p&gt;ici le texte du paragraphe&lt;/p&gt;
</code></pre>
<p>L’exemple suivant montre la syntaxe permettant de placer une image dans la page Web. Dans la balise ouvrante, on trouve des paires attribut/valeur :</p>
<pre><code class="language-html">&lt;img src=&quot;smiley.gif&quot; alt=&quot;Smiley face&quot; height=&quot;42&quot; width=&quot;42&quot;&gt;&lt;/img&gt;
</code></pre>
<ul>
<li><code>src</code> permet d’indiquer le chemin vers le fichier image</li>
<li><code>alt</code> définit le texte de substitution à afficher éventuellement</li>
<li><code>height</code> et <code>width</code> donnent les dimensions de l’image.</li>
</ul>
<p>Dans certain cas, une seule balise – à la fois ouvrante et fermante – est utilisée : <code>&lt;nom_balise /&gt;</code>, celà ne l'empêche pas de contenir des attributs ; en réalité on l'utilise notamment pour la balise <code>&lt;img&gt;</code> et on écrira donc plus souvent :</p>
<pre><code class="language-html">&lt;img src=&quot;smiley.gif&quot; alt=&quot;Smiley face&quot; height=&quot;42&quot; width=&quot;42&quot; /&gt;
</code></pre>
<p>Les jeux de balises peuvent être imbriquées entre elles :</p>
<pre><code class="language-html">&lt;body&gt;
	&lt;h1&gt;du texte&lt;/h1&gt;
	&lt;p&gt;du texte encore, avec une image
	&lt;img …&gt;&lt;/img&gt;
	et la fin du texte
	&lt;/p&gt;
&lt;/body&gt;
</code></pre>
<blockquote>
<p><strong>Remarque</strong> : Lorsque plusieurs balises sont imbriquées, une règle simple s'applique : une balise ouverte à l'intérieur d'une autre doit obligatoirement être refermée avant la fermeture de sa balise mère.</p>
</blockquote>
<h3><a class="header" href="#22-structure-générale-dun-document-html" id="22-structure-générale-dun-document-html">2.2 Structure générale d’un document HTML</a></h3>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;meta charset=&quot;utf-8&quot;/&gt;
		&lt;meta name=&quot;Language&quot; content=&quot;fr&quot; /&gt;
		&lt;meta name=&quot;Description&quot; content=&quot;cette page…&quot; /&gt;
		&lt;title&gt;Titre de la page&lt;/title&gt;
	&lt;/head&gt;
	&lt;body&gt;
		Corps de la page, ce qui est visible...
	&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>La première ligne du document est indispensable : elle indique qu'il s'agit d'une page HTML. En HTML5 on écrit simplement <code>&lt;!DOCTYPE html&gt;</code> (vous pouvez rencontrer des fichiers HTML de versions antérieures avec un doctype beaucoup plus compliqué...).</p>
<p>Ensuite, la balise <code>&lt;html&gt;  &lt;/html&gt;</code> englobera l’ensemble des autres balises de la page. Elle contient deux paires de balises:</p>
<ul>
<li>La balise <code>&lt;head&gt;  &lt;/head&gt;</code> délimitant l’entête du document et contenant diverses informations sur le document lui-même (métadonnées). Son contenu n’est pas visible dans la page interprétée par le navigateur. À noter :
<ul>
<li>l’encodage du texte <code>&lt;meta charset=&quot;utf-8&quot;/&gt;</code> pour éviter les problèmes d’affichages des caractères spéciaux</li>
<li>La balise <code>&lt;title&gt;Titre de la page&lt;/title&gt;</code> qui contient le titre (assez court) qui s’affiche dans l’onglet de la fenêtre du navigateur.</li>
</ul>
</li>
<li>La balise <code>&lt;body&gt; &lt;/body&gt;</code> délimitant le corps du document. Cette portion contient la partie visible du document HTML. C’est ici qu’on trouvera les autres balises (de différents types) structurant le document.</li>
</ul>
<h4><a class="header" href="#exercice-1--création-dune-page--une-introduction-au-langage-html" id="exercice-1--création-dune-page--une-introduction-au-langage-html">Exercice 1 : Création d’une page – une introduction au langage HTML</a></h4>
<p>La page qui va nous servir d’exemple est la page d’accueil du site web d’un centre commercial. La page <code>accueil.html</code> est à récupérer à l'emplacement suivant : <a href="data/TP2.zip">TP2.zip</a>, puis nous allons :</p>
<ul>
<li>la visualiser dans l’éditeur de texte (lancez l’éditeur, puis ouvrez le fichier depuis le menu) : vous voyez le code HTML</li>
<li>la visualiser dans le navigateur : vous voyez le code interprété par le navigateur (« la page web »)</li>
</ul>
<p><strong>🚀 <em>Nous allons compléter le code du fichier <code>accueil.html</code> en suivant les instructions données en commentaires. Attention, une erreur de syntaxe s'est également glissée dans ce fichier, il faut la corriger !</em></strong></p>
<blockquote>
<p><strong>Remarque</strong> : Vous passerez d’un outil à l’autre pour modifier et visualiser ce code (i.e. de l’éditeur au navigateur), sans fermer ces logiciels mais en enregistrant vos modifications dans l’éditeur et en actualisant la page dans le navigateur pour que le code soit réinterprété.</p>
</blockquote>
<h4><a class="header" href="#exercice-2--introduction-à-lutilisation-des-hyperliens" id="exercice-2--introduction-à-lutilisation-des-hyperliens">Exercice 2 : introduction à l’utilisation des hyperliens</a></h4>
<p>Plusieurs types de liens existent. Pour l’instant nous allons voir les liens envoyant vers une autre page (du web ou que vous avez créée).</p>
<p>Pour pointer vers une page du web, on utilisera :</p>
<pre><code class="language-html">&lt;a href=&quot;https://www.stid-grenoble.fr/&quot;&gt;Lien vers le site de STID&lt;/a&gt;
</code></pre>
<p>ce qui affiche : <a href="https://www.stid-grenoble.fr/">Lien vers le site de STID</a>.</p>
<p>Pour pointer vers une de ses propres pages, il suffit de donner le chemin vers le fichier comme valeur pour l’attribut <code>href</code>.</p>
<blockquote>
<p><strong>Remarque</strong> : Un mécanisme existe pour demander au navigateur d'ouvrir la cible du lien si possible dans un nouvel onglet ou sinon dans une nouvelle fenêtre. Il faut pour celà utiliser l'attribut <code>target</code> et lui donner la valeur <code>_blank</code> :</p>
</blockquote>
<pre><code class="language-html">&lt;a href=&quot;https://fr.wikipedia.org/&quot; target=&quot;_blank&quot;&gt;Wikipedia&lt;/a&gt;
</code></pre>
<p>🚀 <strong>Consignes</strong>:</p>
<ul>
<li>Créez une nouvelle page appelée <code>partenaires.html</code> et placez-la au même endroit que le fichier <code>accueil.html</code>.</li>
<li>Éditez le document <code>partenaires.html</code> pour ajouter un lien vers le site du département STID <em>(/!\ attention, la cible de ce lien doit s'ouvrir dans un nouvel onglet car on ne veut pas que les visiteurs quittent notre site !)</em>.</li>
<li>Insérez un lien vers la page <code>partenaires.html</code> dans le fichier <code>accueil.html</code>.</li>
<li>En plus (ou à la place) d'utiliser un morceau de texte, on souhaite que l'utilisateur puisse accéder à la page  <code>partenaires.html</code> en cliquant sur l'image ajoutée précédemment. Comment devez-vous vous-y prendre ?</li>
</ul>
<h2><a class="header" href="#3-css--objectifs-et-avantage" id="3-css--objectifs-et-avantage">3. CSS : Objectifs et avantage</a></h2>
<div class="img-center">
<p><img src="img/logo_css3.png" alt=" " /></p>
</div>
<p>Une feuille de style est un document associé à un document HTML et qui indique comment devra être affiché tel ou tel élément de la page.</p>
<p>Par exemple, une feuille de style permettra de présenter :</p>
<ul>
<li>tous les liens en italique, soulignés et en bleu</li>
<li>tous les liens cliqués en italique, soulignés et en vert</li>
<li>tous les paragraphes de cours à connaître en police Comic, de taille 11, en noir, surlignés en gris et centrés</li>
</ul>
<p>Le but recherché est de mettre en place une <strong>indépendance entre le contenu d’une page web et sa présentation</strong>, et ce pour garantir :</p>
<ul>
<li>une meilleure lisibilité du code source puisque les 2 aspects (contenu et style) sont séparés</li>
<li>un gain de temps quand il s’agit de procéder à des modifications : pour changer, pour tous les titres, la taille de police, il suffit de changer une valeur à un seul endroit et la modification sera répercutée partout.</li>
<li>une réutilisation aisée d’un contenu (pour lui appliquer d’autres styles) ou d’une présentation (qu’on appliquera à d’autres contenus).</li>
</ul>
<h3><a class="header" href="#31-syntaxe" id="31-syntaxe">3.1 Syntaxe</a></h3>
<p>Il existe 3 façons de définir le style d'éléments en utilisant la syntaxe des CSS. Par exemple, pour que la couleur de fond d’un document HTML soit rouge, on pourra :</p>
<ol>
<li>Utiliser l'attribut « style » des balises HTML. Exemples :</li>
</ol>
<ul>
<li><code>&lt;body style=&quot;background-color: red;&quot;&gt;</code></li>
<li><code>&lt;p style=&quot;font-family: cursive&quot;&gt;Contenu du paragraphe en police manuscrite&lt;/p&gt;</code></li>
</ul>
<ol start="2">
<li>Utiliser la balise HTML « style » (dans l'en-tête de la page XHTML, entre <code>&lt;head&gt;</code> et <code>&lt;/head&gt;</code>). Exemple :</li>
</ol>
<pre><code class="language-xml">&lt;style type=&quot;text/css&quot;&gt;
	body { background-color: red; }
&lt;/style&gt;
</code></pre>
<ol start="3">
<li>Utiliser une feuille de style externe et placer un lien vers la feuille de style dans l'en-tête de la page HTML.
Les instructions de style sont placées dans un fichier texte dont l’extension est <code>.css</code> alors que le contenu est dans le fichier HTML appelant. Nous privilégierons cette 3ème solution pour coder le style à appliquer à nos pages HTML.
Une feuille de style externe est ainsi constituée d’une série de blocs d’instructions composés chacun:
<ul>
<li>d’un sélecteur,</li>
<li>d’une accolade ouvrante,</li>
<li>d’une série de couples propriété/valeur séparés par des points virgules,</li>
<li>et d’une accolade fermante.</li>
</ul>
</li>
</ol>
<div class="center">
<p><img src="img/tmp_css_selector.png" alt="Sélecteur et déclaration de la règle (propriété / valeur)" title="Sélecteur et déclaration (propriété / valeur)" /></p>
</div>
<p>Pour revenir à l’exemple, on écrira ainsi un fichier texte contenant l’instruction <code>body { background-color: red; }</code> et on associera ce fichier à un document HTML : pour établir le lien avec la feuille de style (supposons qu’elle soit nommée <code>mafeuille.css</code>), on écrira dans l’entête du fichier HTML (i.e. entre les balises <code>&lt;head&gt; &lt;/head&gt;</code>) :</p>
<pre><code class="language-html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;mafeuille.css&quot; /&gt;
</code></pre>
<h4><a class="header" href="#exercice-3--découverte-des-css" id="exercice-3--découverte-des-css">Exercice 3 : Découverte des CSS</a></h4>
<p>Nous allons laisser de côté l'exemple de la page web du site commercial le temps d'un exercice.
Rendez-vous sur la page <a href="https://www.w3schools.com/css/tryit.asp?filename=trycss_default">https://www.w3schools.com/css/tryit.asp?filename=trycss_default</a> du site w3schools pour découvrir les CSS de manière interactive.</p>
<p>Prenez connaissance du document HTML qui vous est présenté (à gauche).</p>
<blockquote>
<p><strong>Remarque</strong> : dans cet outil, la balise <code>&lt;style&gt;</code> est utilisée (cf. 2ème syntaxe présentée).</p>
</blockquote>
<p><strong>🚀 Consignes</strong> :</p>
<p>Modifiez les instructions comme indiqué :</p>
<ul>
<li>pour <code>body</code>, changer la couleur par #550066 (cliquez sur le bouton ‘Run’ pour visualiser le résultat après chaque modification)</li>
<li>pour <code>h1</code>,  utilisez la couleur jaune et alignez le texte à gauche</li>
<li>pour <code>p</code>, passez en Arial 16 pixels, écrit en blanc (<code>color: white;</code>)</li>
<li>ajouter d’autres textes encadrés par des balises <code>&lt;h1&gt;&lt;/h1&gt;</code> et <code>&lt;p&gt;&lt;/p&gt;</code></li>
<li>modifier à nouveau les caractéristiques de style applicables aux balises <code>&lt;h1&gt;&lt;/h1&gt;</code> et <code>&lt;p&gt;&lt;/p&gt;</code></li>
</ul>
<h4><a class="header" href="#exercice-4--liaison-entre-un-fichier-html-et-un-fichier-css" id="exercice-4--liaison-entre-un-fichier-html-et-un-fichier-css">Exercice 4 : Liaison entre un fichier HTML et un fichier CSS</a></h4>
<p><em>Retour à l'exemple des exercices 1 et 2...</em></p>
<p><strong>🚀 Consignes</strong> :</p>
<ol>
<li>Dans l’entête du fichier <code>accueil.html</code> (celui de la page d’accueil du site web du centre commercial), établissez le lien vers la feuille de style fournie (<code>styleAccueil.css</code>).</li>
<li>Visualisez le fichier HTML dans le navigateur.</li>
<li>Ouvrez ensuite le fichier <code>styleAccueil.css</code> avec l’éditeur de texte.</li>
<li>Modifiez et/ou ajoutez d’autres propriétés et/ou d’autres sélecteurs et visualisez le résultat :
<ul>
<li>Changez la taille de l'image afin qu'elle n'occupe que 100px de la largeur de la page,</li>
<li>Changez le style du titre <code>h1</code> pour quelque chose de plus sobre,</li>
<li>Essayer de trouver sur quel(s) élément(s) il est possible de jouer pour éloigner le titre <code>h1</code> du sous-titre <code>h2</code>.</li>
</ul>
</li>
</ol>
<h3><a class="header" href="#32-pour-aller-plus-loin-avec-les-css" id="32-pour-aller-plus-loin-avec-les-css">3.2 Pour aller plus loin avec les CSS</a></h3>
<p>Jusqu’ici, vous avez écrit des instructions de style qui s’appliquent à une balise (les mêmes balises ex. <code>&lt;h1&gt;</code> ont un seul et même style). Nous allons voir deux mécanismes supplémentaires portés par les attributs HTML <code>class</code> et <code>id</code> qui permettent d’appliquer des styles différents aux différentes occurrences d’une même balise.</p>
<p>Les classes. On définit autant de classes que nécessaires pour la balise concernée et on associe un style à chacune des classes. La notation suivante est adoptée :</p>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">p.typeA { color: blue; }
p.typeB { color: red; }
</code></pre>
<p><u>Code XHTML:</u></p>
<pre><code class="language-html">&lt;p&gt;Un paragraphe sans style particulier&lt;p&gt;
&lt;p class=&quot;typeA&quot;&gt;Un paragraphe qui utilise le style défini par p.typeA dans la CSS&lt;/p&gt;
&lt;p class=&quot;typeB&quot;&gt;Un autre qui utilise le style défini par p.typeB dans la CSS&lt;/p&gt;
&lt;p class=&quot;typeA&quot;&gt;De nouveau un paragraphe qui utilise le style défini par p.typeA&lt;/p&gt;
&lt;p class=&quot;typeB&quot;&gt;et un paragraphe qui utilise également le style défini par p.typeB&lt;/p&gt;
</code></pre>
<p><u>Résultat:</u></p>
<div class="res"><p>Un paragraphe sans style particulier<p><p style="color: blue;">Un paragraphe qui utilise le style défini par p.typeA dans la CSS</p><p style="color: red;">Un autre qui utilise le style défini par p.typeB dans la CSS</p><p style="color: blue;">De nouveau un paragraphe qui utilise le style défini par p.typeA</p><p style="color: red;">et un paragraphe qui utilise également le style défini par p.typeB</p></div>
<p>Il existe une autre façon de procéder pour permettre l’application de styles différents à une même balise. Il s’agit d’utiliser non pas une classe (attribut <code>class</code>) mais un identifiant (attribut <code>id</code>).</p>
<p>Le principe est le même dans les deux cas mais la différence est qu’on utilisera l’attribut <code>class</code> lorsque le style est applicable à plusieurs endroits dans le document alors qu’on utilisera l’attribut <code>id</code> quand le style est spécifique à un endroit particulier dans le document.</p>
<p>En conséquence, la valeur d’un <code>id</code> est unique dans le document.</p>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">p#abc {
	color: blue;
	text-align: center;
}

p#ident1 { color: green; }
</code></pre>
<p><u>Code XHTML:</u></p>
<pre><code class="language-html">&lt;p&gt;Un paragraphe sans style particulier&lt;p&gt;
&lt;p id=&quot;abc&quot;&gt;Seul paragraphe utilisant le style défini par p#abc dans la CSS&lt;/p&gt;
&lt;p id=&quot;ident1&quot;&gt;Seul qui utilise le style défini par p#ident1 dans la CSS&lt;/p&gt;
</code></pre>
<p><u>Résultat:</u></p>
<div class="res">	<p>Un paragraphe sans style particulier<p>	<p style="color: blue;text-align: center;">Seul paragraphe utilisant le style défini par p#abc dans la CSS</p>	<p style="color: green;">Seul qui utilise le style défini par p#ident1 dans la CSS</p></div>
<h3><a class="header" href="#33-quelques-autres-sélecteurs-css-que-vous-pourrez-rencontrer" id="33-quelques-autres-sélecteurs-css-que-vous-pourrez-rencontrer">3.3 Quelques autres sélecteurs CSS que vous pourrez rencontrer...</a></h3>
<h4><a class="header" href="#la-sélection-de-plusieurs-éléments-séparés-par-une-virgule--" id="la-sélection-de-plusieurs-éléments-séparés-par-une-virgule--"><strong>La sélection de plusieurs éléments</strong> séparés par une virgule <code>,</code> :</a></h4>
<pre><code class="language-css">h1, h2, h3 {
	color: green;
}
</code></pre>
<p>Ici plusieurs types d'éléments (<code>h1</code>, <code>h2</code> et <code>h3</code>) sont sélectionnés pour appliquer à tous une même règle.</p>
<h4><a class="header" href="#le-sélecteur-dattributs-avec-la-notation-entre-crochets-" id="le-sélecteur-dattributs-avec-la-notation-entre-crochets-"><strong>Le sélecteur d'attributs</strong> avec la notation entre crochets :</a></h4>
<pre><code class="language-css">img[src] {
	border: solid 1px gray;
}
</code></pre>
<p>Ce sélecteur sélection les éléments qui possèdent l'attribut donné entre crochet. Ici la règle ne sera appliquée qu'aux  images qui ont un attribut <code>src</code>.</p>
<h4><a class="header" href="#le-sélecteur-déléments-enfants-directs-avec-le-combinateur--" id="le-sélecteur-déléments-enfants-directs-avec-le-combinateur--"><strong>Le sélecteur d'éléments enfants</strong> directs avec le <strong>combinateur</strong> <code>&gt;</code> :</a></h4>
<pre><code class="language-css">ul.type-A &gt; li {
	margin: 2em;
}
</code></pre>
<p>Ici la règle de style va s'appliquer seulement aux éléments de type <code>li</code> qui sont enfants directs d'un élément <code>ul</code> avec la classe <code>type-A</code> .</p>
<h4><a class="header" href="#le-sélecteur-déléments-descendants-avec-le-combinateur---espace-" id="le-sélecteur-déléments-descendants-avec-le-combinateur---espace-"><strong>Le sélecteur d'éléments descendants</strong> avec le <strong>combinateur</strong> <code> </code> (espace) :</a></h4>
<pre><code class="language-css">div span {
	color: red;
}
</code></pre>
<p>Ici la règle de style va s'appliquer à tous les éléments de type <code>span</code> qui sont enfants (pas nécessairement directs) d'un élément <code>div</code>.</p>
<h4><a class="header" href="#des-sélections-encores-plus-fines-avec-les-sélecteur-de-pseudo-classe" id="des-sélections-encores-plus-fines-avec-les-sélecteur-de-pseudo-classe">Des sélections encores plus fines avec les sélecteur de pseudo-classe</a></h4>
<p>Nous verrons qu'il existe encore plusieurs manières de manipuler les sélecteurs CSS. Il est par exemple possible de cibler un élément seulement lorsque il est dans un état particulier : on parle alors de <strong>sélecteur de pseudo-classe</strong>.
Par exemple il est possible d'appliquer un style particulier aux liens (éléments <code>&lt;a&gt;</code>) qui ont déjà été cliqués par l'utilisateur en ciblant les liens appropriés avec la pseudo-classe <code>:visited</code> :</p>
<pre><code class="language-css">a:visited {
	color: darkblue;
}
</code></pre>
<p>Cette possibilité va permettre d'étendre de manière puissante le mécanisme de sélection vu jusqu'ici grâce à l'existence de pseudo-classes telles que : <code>:hover</code> (spécification de l'apparence d'un élément lors du survole avec le pointeur), <code>:disabled</code> (pour cibler un élément désactivé), <code>:only-child</code> (sélection d'un élément qui est le seul enfant de son parent), etc.</p>
<p>Ainsi, la pseudo-classe <code>:nth-child</code> va rendre possible de cibler chaque élément qui est le <code>n</code>ième enfant, quel que soit sont type, de son parent. Si nous avons 5 paragraphes dans un même élément de type <code>div</code> il est possible de sélectionner le second de la manière suivante :</p>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">p:nth-child(2) {
	color: red;
}
</code></pre>
<p><u>Code XHTML:</u></p>
<pre><code class="language-html">&lt;div&gt;
	&lt;p&gt;The first paragraph.&lt;/p&gt;
	&lt;p&gt;The second paragraph.&lt;/p&gt;
	&lt;p&gt;The third paragraph.&lt;/p&gt;
	&lt;p&gt;The fourth paragraph.&lt;/p&gt;
	&lt;p&gt;The fifth paragraph.&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p><u>Résultat:</u></p>
<div class="res">
	<p>The first paragraph.</p>
	<p style="color: red;">The second paragraph.</p>
	<p>The third paragraph.</p>
	<p>The fourth paragraph.</p>
	<p>The fifth paragraph.</p>
</div>
<p>C'est également avec cet élément <code>:nth-child</code> qu'il va être possible de sélectionner tous les enfants dont l'indice est paire ou impaire en utilisant les mots-clés <code>even</code> ou <code>odd</code>.</p>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">p:nth-child(even) {
	background: green;
}
p:nth-child(odd) {
	background: gray;
}
</code></pre>
<p><u>Code XHTML:</u></p>
<pre><code class="language-html">&lt;div&gt;
	&lt;p&gt;The first paragraph.&lt;/p&gt;
	&lt;p&gt;The second paragraph.&lt;/p&gt;
	&lt;p&gt;The third paragraph.&lt;/p&gt;
	&lt;p&gt;The fourth paragraph.&lt;/p&gt;
	&lt;p&gt;The fifth paragraph.&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p><u>Résultat:</u></p>
<div class="res">
	<p style="background: gray;">The first paragraph.</p>
	<p style="background: green;">The second paragraph.</p>
	<p style="background: gray;">The third paragraph.</p>
	<p style="background: green;">The fourth paragraph.</p>
	<p style="background: gray;">The fifth paragraph.</p>
</div>
<h1><a class="header" href="#structurer-et-styler-un-document-html" id="structurer-et-styler-un-document-html">Structurer et styler un document HTML</a></h1>
<p>Lors de ce TP vous allez manipuler plusieurs nouvelles balises HTML.<br />
Dans un premier temps nous allons découvrir rapidement leurs usages.<br />
Dans un second temps vous devrez les utiliser pour compléter et mettre en forme une page web.</p>
<h2><a class="header" href="#1-le-modèle-de-boite-css" id="1-le-modèle-de-boite-css">1. Le &quot;modèle de boite CSS&quot;</a></h2>
<p>En CSS, tous les éléments sont inclus dans une &quot;boite&quot;. Il existe deux types de boites :</p>
<ul>
<li>
<p><strong>en ligne</strong> <em>(inline)</em> :</p>
<ul>
<li>la boite ne créé pas de retour à la ligne et s'insère dans le flux du contenu ;</li>
<li>les propriétés <code>width</code> et <code>height</code> ne s'appliquent pas ;</li>
<li>les propriétés <code>padding</code>, <code>margin</code> peuvent être appliquées mais ne vont pas déplacer les éléments voisins sur l'axe vertical (top / bottom) et peuvent créer un chevauchement ;</li>
<li><strong>sert surtout à associer un style à une partie d'un texte (au sein d'un bloc de texte ou d'un paragraphe)</strong> ;</li>
<li>le conteneur générique de ce type est l'élément <code>&lt;span&gt;</code> ;</li>
<li>d'autres éléments <em>en ligne</em> : <code>&lt;a&gt;</code>, <code>&lt;em&gt;</code>, <code>&lt;strong&gt;</code> par exemple.</li>
</ul>
</li>
<li>
<p><strong>en bloc</strong> <em>(block)</em> :</p>
<ul>
<li>la boite s'étend en largeur pour remplir tout l'espace de son conteneur ;</li>
<li>elle se positionne sur une nouvelle ligne et va engendrer un retour à la ligne avant l'élément qui la suite ;</li>
<li>les propriétés <code>width</code> et <code>height</code> s'appliquent ;</li>
<li>les propriétés <code>padding</code>, <code>margin</code> et <code>border</code> vont repousser les éléments voisins ;</li>
<li><strong>sert à agencer le contenu de la page et à regrouper des éléments ensemble</strong> ;</li>
<li>le conteneur générique de ce type est l'élément <code>&lt;div&gt;</code> ;</li>
<li>d'autres éléments <em>en bloc</em> : <code>&lt;p&gt;</code> ou les titres <code>&lt;h1&gt;</code>, <code>&lt;h2&gt;</code>, et d'autres éléments de sectionnement comme <code>&lt;section&gt;</code>, <code>&lt;article&gt;</code>, etc.</li>
</ul>
</li>
</ul>
<p>Ce modèle de boite CSS prend la forme suivante :</p>
<div class="img-center">
<p><img src="img/dessin_css_box.png" alt="Le modèle de boite CSS" /></p>
</div>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">.styled {
  margin: 5px;
  border: solid 2px black;
  padding: 22px;
  background-color: cornsilk;
  box-shadow: 10px 5px red;
}

.keyword {
  color: red;
  font-style: italic;
  /* La propriété suivante ne sera pas appliquée car
   elle ne s'applique pas aux éléments en ligne :  */
  height: 300px;
}
</code></pre>
<p><u>Code XHTML:</u></p>
<pre><code class="language-html">&lt;div class=&quot;styled&quot;&gt;
 &lt;p&gt;Some &lt;span class=&quot;keyword&quot;&gt;interesting&lt;/span&gt; content in a paragraph.&lt;/p&gt;
 &lt;p&gt;Another paragraph with more &lt;span class=&quot;keyword&quot;&gt;highlighted&lt;/span&gt; keywords.&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p><u>Résultat:</u></p>
<div style="margin: 5px; border: solid 2px black; padding: 22px; background-color: cornsilk; box-shadow: 10px 5px red;">
 <p>Some <span style="color: red; font-style: italic; height: 300px;">interesting</span> content in a paragraph.</p>
 <p>Another paragraph with more <span style="color: red; font-style: italic; height: 300px;">highlighted</span> keywords.</p>
</div>
<h2><a class="header" href="#2-formats-et-unités-de-valeurs-css" id="2-formats-et-unités-de-valeurs-css">2. Formats et unités de valeurs CSS</a></h2>
<h3><a class="header" href="#21-quelques-unités-acceptées-par-les-propriétés-margin-padding-width-height-et-font-size" id="21-quelques-unités-acceptées-par-les-propriétés-margin-padding-width-height-et-font-size">2.1 Quelques unités acceptées par les propriétés <code>margin</code>, <code>padding</code>, <code>width</code>, <code>height</code> et <code>font-size</code></a></h3>
<p>Ces propriétés CSS (ce ne sont pas les seules) acceptent des valeurs sous forme d'une &quot;longueur&quot;.<br />
Cette longueur peut-être spécifiée de manière relative ou absolue.</p>
<table><thead><tr><th>Unités absolues</th><th>Description</th></tr></thead><tbody>
<tr><td><code>px</code></td><td>Pixel</td></tr>
<tr><td><code>cm</code>, <code>in</code>, <code>mm</code></td><td>Centimètre, Pouce, Millimètre</td></tr>
<tr><td><code>pt</code>, <code>pc</code></td><td>Point, Pica</td></tr>
</tbody></table>
<br>
<table><thead><tr><th>Unité relative</th><th>Description</th></tr></thead><tbody>
<tr><td><code>%</code></td><td>Taille relative à l'élément parent</td></tr>
<tr><td><code>em</code></td><td>Relative à la taille de police de l'élément</td></tr>
<tr><td><code>rem</code></td><td>Relative à la taille de police de l'élément racine</td></tr>
</tbody></table>
<blockquote>
<p><strong>Remarque</strong>: Lors de l'utilisation de la valeur 0 il n'est pas nécessaire de spécifier d'unité.</p>
</blockquote>
<h3><a class="header" href="#22-les-formats-de-valeurs-acceptés-par-les-propriétés-margin-et-padding" id="22-les-formats-de-valeurs-acceptés-par-les-propriétés-margin-et-padding">2.2 Les formats de valeurs acceptés par les propriétés <code>margin</code> et <code>padding</code></a></h3>
<ul>
<li>
<p><code>padding: 10px 5px 15px 20px;</code></p>
<ul>
<li>lecture dans le sens des aiguilles d'une montre</li>
<li>signifie : top -&gt; 10px, right -&gt; 5px, bottom -&gt; 15px, left -&gt; 20px</li>
</ul>
</li>
<li>
<p><code>padding: 10px 5px 15px;</code></p>
<ul>
<li>signifie : top -&gt; 10px, right and left -&gt; 5px bottom -&gt; 15px</li>
</ul>
</li>
<li>
<p><code>padding: 10px 5px;</code></p>
<ul>
<li>signifie : top and bottom -&gt; 10px, right and left -&gt; 5px</li>
</ul>
</li>
<li>
<p><code>padding: 10px;</code></p>
<ul>
<li>signifie : top, right, left and bottom -&gt; 10px</li>
</ul>
</li>
<li>
<p>Il est possible d'utiliser les autres unités existantes (<code>%</code>, <code>em</code>, etc.).</p>
</li>
<li>
<p>Il est possible de les spécifier une à une (en utilisant les propriétés <code>padding-top</code>, <code>padding-right</code>, <code>padding-bottom</code>, <code>padding-left</code>).</p>
</li>
</ul>
<h3><a class="header" href="#23-la-valeur-spéciale-auto" id="23-la-valeur-spéciale-auto">2.3 La valeur spéciale &quot;auto&quot;</a></h3>
<p>Lors de l'utilisation de la valeur <code>auto</code>, la valeur calculée pour la propriété en question est ajustée automatiquement en fonction du contenu et/ou du contexte de l'élément concerné.</p>
<p>Cette fonctionnalité peut être très pratique dans certains cas puisqu'elle va permettre :</p>
<ul>
<li>de centrer horizontalement les éléments <em>en bloc</em> avec l'utilisation de la déclaration <code>margin: auto;</code> (les marges, étirées au maximum et de mêmes longueurs de chaque coté de l'élément vont avoir pour effet de le centrer)</li>
<li>d'ajouter une barre de défilement lorsque cela sera nécessaire pour garder le contenu dans l'élément contenant avec l'utilisation de la déclaration <code>overflow: auto;</code></li>
<li>d'afficher correctement des images dont la largeur auraient été définie de manière relative au conteneur avec la déclaration <code>height: auto;</code></li>
</ul>
<blockquote>
<p><strong>Remarque</strong>: seul un petit nombre de propriétés supporte l'utilisation de cette valeur.</p>
</blockquote>
<h2><a class="header" href="#3-tableaux-html" id="3-tableaux-html">3. Tableaux HTML</a></h2>
<p>La construction d'un tableau HTML nécessite l'utilisation de plusieurs balises :</p>
<ul>
<li><code>&lt;table&gt; &lt;/table&gt;</code> pour délimiter l'ensemble du tableau</li>
<li><code>&lt;thead&gt; &lt;/thead&gt;</code> pour désigner <strong>les lignes constituant l'en-tête</strong> du tableau</li>
<li><code>&lt;tbody&gt; &lt;/tbody&gt;</code> pour désigner <strong>les lignes constituant le corps</strong> du tableau</li>
<li><code>&lt;th&gt; &lt;/th&gt;</code> pour désigner <strong>une cellule</strong> de <strong>l'en-tête</strong> du tableau</li>
<li><code>&lt;td&gt; &lt;/td&gt;</code> pour désigner <strong>une cellule</strong> du <strong>corps</strong> du tableau</li>
<li><code>&lt;tr&gt; &lt;/tr&gt;</code> pour désigner <strong>une ligne de cellules</strong> (aussi bien dans l'en-tête que dans le corps du tableau, elle contient donc des éléments <code>td</code> ou des éléments <code>th</code>)</li>
</ul>
<p>Ainsi le code d'un tableau simple contenant 2 colonnes et 3 lignes (dont celle de l'en-tête) prendra la forme suivante :</p>
<pre><code class="language-html">&lt;table&gt;
  &lt;thead&gt;  &lt;!-- Début de l'en-tête --&gt;
    &lt;tr&gt;
      &lt;th&gt;Nom colonne 1&lt;/th&gt;
      &lt;th&gt;Nom colonne 2&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt; &lt;!-- Fin de l'en-tête --&gt;
  &lt;tbody&gt;  &lt;!-- Début du corps du tableau --&gt;
    &lt;tr&gt;
      &lt;td&gt;Data ligne 1 - colonne 1&lt;/td&gt;
      &lt;td&gt;Data ligne 1 - colonne 2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Data ligne 2 - colonne 1&lt;/td&gt;
      &lt;td&gt;Data ligne 2 - colonne 2&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt; &lt;!-- Fin du corps du tableau --&gt;
&lt;/table&gt;
</code></pre>
<h2><a class="header" href="#4-listes-ordonnées-ou-non-en-html" id="4-listes-ordonnées-ou-non-en-html">4. Listes (ordonnées ou non) en HTML</a></h2>
<p>Il existe deux éléments HTML qui permettent de désigner un liste :</p>
<ul>
<li>les balises <code>&lt;ol&gt; &lt;/ol&gt;</code> désignent une liste ordonnée (<u>o</u>rdered <u>l</u>ist)</li>
<li>les balises <code>&lt;ul&gt; &lt;/ul&gt;</code> désignent une liste non-ordonnée (<u>u</u>nordered <u>l</u>ist)</li>
</ul>
<p>Ces balises délimitent <em>la liste</em> (i.e. l'élément qui contient les items de la liste). Chaque item d'une liste est représenté par la balises <code>&lt;li&gt; &lt;/li&gt;</code>.</p>
<p>Ainsi une liste non ordonnée (liste de course par exemple) prendra la forme suivante :</p>
<pre><code class="language-html">&lt;ul&gt;
  &lt;li&gt;Avocat&lt;/li&gt;
  &lt;li&gt;Citron&lt;/li&gt;
  &lt;li&gt;Tomate&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>Une liste ordonnée (instructions de directions par exemple) prendra la forme suivante :</p>
<pre><code class="language-html">&lt;ol&gt;
  &lt;li&gt;Tournez à gauche&lt;/li&gt;
  &lt;li&gt;Continuez 500m puis prendre la contre-allée&lt;/li&gt;
  &lt;li&gt;Vous êtes arrivé chez le vendeur de fruits et légumes&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
<p>Vous pouvez remarquer que les listes disposent d'un style par défaut. Ce style est modifiable avec la propriété CSS <a href="https://developer.mozilla.org/fr/docs/Web/CSS/list-style"><code>list-style</code></a></p>
<h2><a class="header" href="#5-groupage-des-éléments-et-organisation-générale-dune-page" id="5-groupage-des-éléments-et-organisation-générale-dune-page">5. Groupage des éléments et organisation générale d'une page</a></h2>
<p><img src="img/layout_web_page.png" alt="Exemple d'organisation de page Web" title="Exemple d'organisation de page Web" /></p>
<h2><a class="header" href="#6-autres-propriétés-css-utiles-pour-ajuster-lorganisation-de-votre-page" id="6-autres-propriétés-css-utiles-pour-ajuster-lorganisation-de-votre-page">6. Autres propriétés CSS utiles pour ajuster l'organisation de votre page</a></h2>
<ul>
<li>
<p><a href="https://developer.mozilla.org/fr/docs/Web/CSS/position"><code>position</code></a> : permet de spécifier le type de positionnement pour un élément (les valeurs possibles sont : <code>static</code> (par défaut), <code>relative</code>, <code>absolute</code>, <code>sticky</code>, <code>fixed</code>)</p>
</li>
<li>
<p><a href="https://developer.mozilla.org/fr/docs/Web/CSS/display"><code>display</code></a> ; permet de spécifier le type de rendu pour un élement (en ligne ou en bloc) et la disposition utilisé pour ses enfants (valeurs utiles : <code>inline</code> et <code>block</code> pour définir comment l'élément participe au flux des éléments ; <code>flow</code>, <code>table</code>, <code>flex</code> pour définir comment les éléments s'organisent à l'intérieur ; <code>inline-block</code> pour obtenir des blocs en ligne à l'intérieur de l'élément ; <code>none</code> pour ne pas afficher l'élément).</p>
</li>
</ul>
<h2><a class="header" href="#6-mise-en-pratique-1" id="6-mise-en-pratique-1">6. Mise en pratique (1)</a></h2>
<p><strong>🚀 Consignes</strong>:</p>
<ol>
<li>
<p>Récupérer les données du jour : <a href="data/TP3.zip">TP3.zip</a> et extraire le contenu de l'archive sur votre ordinateur</p>
</li>
<li>
<p>Ouvrir la page <code>index.html</code> (dans votre navigateur et dans votre éditeur de code). Cette page contient déjà plusieurs blocs de texte formattés sous la forme de paragraphes.</p>
</li>
<li>
<p>Éditer cette page pour insérer l'image (<code>prog.png</code>) de l'évolution de la fréquentation de notre centre commercial.</p>
</li>
<li>
<p>Éditer cette page pour intégrer le tableau correspondant aux données du fichier <code>data.csv</code> en utilisant l'élément HTML <code>table</code> (cette table devra être agréable à lire, vous veillerez donc à l'espacement dans les cellules ainsi qu'à son style : bordure, couleur de la ligne d'en-tête et couleur des lignes qui contiennent les données, etc.)</p>
</li>
<li>
<p>Effectuer le reste de la mise en page :</p>
<ul>
<li>barre / menu de navigation plus agréable à utiliser (utilisation de règles CSS pour changer l'apparence du lien au survol, pour faire disparaître les 'puces' qui correspondent à chaque item de la liste, etc.)</li>
<li>pied-de-page contenant votre nom et les mentions légales éventuelles (<em>copyright</em>, etc.)</li>
</ul>
</li>
<li>
<p>Si le contenu de votre page dépasse la taille de votre écran, vous devrez veiller à ce que votre page ait un comportement approprié (présence de barre de défilement sur le coté, <em>quid</em> du positionnement du menu de navigation, etc.)</p>
</li>
</ol>
<p><strong>🚀 Faire valider l'apparence de votre page Web</strong></p>
<p><strong>🚀 Vous pouvez également valider votre code HTML et votre code CSS en ligne : <a href="https://validator.w3.org/">https://validator.w3.org/</a></strong></p>
<blockquote>
<p><strong>Remarque</strong> : Vous trouverez ci-dessous plusieurs captures d'écran de styles appliqués au même contenu HTML, celui qui vous êtes censé créer.<br />
Vous pouvez vous en inspirer lors de la réalisation de votre page, mais n'hésitez pas à faire preuve d'imagination !</p>
</blockquote>
<h2><a class="header" href="#7-mise-en-pratique-2" id="7-mise-en-pratique-2">7. Mise en pratique (2)</a></h2>
<p><em>À réaliser après avoir valider la partie précédente</em></p>
<p><strong>🚀 Consignes</strong>:</p>
<ol>
<li>
<p>Vous voulez intégrer un encart contenant une carte permettant de localiser l'emplacement de notre centre commercial. Une des manières les plus simples consiste à utiliser la fonctionnalité appropriée du projet OpenStreetMap. Rendez-vous sur le site www.openstreetmap.org et utilisez la fonctionnalité &quot;Partager&quot; qui permet d'obtenir un code HTML que vous pourrez intégrer à votre page. Ce code HTML contient notamment une balise <code>&lt;iframe&gt;</code>.</p>
<ul>
<li>Vous veillerez à ce que l'export inclue le <em>marker</em> indiquant la position de notre centre commercial.</li>
<li>Vous veillerez à ce que la carte s'insère de manière harmonieuse au reste de la page.</li>
</ul>
</li>
<li>
<p>Il est maintenant nécessaire d'ajouter une barre de recherche à notre page. Nous n'avons pas encore abordé les éléments HTML permettant de faire saisir des informations à l'utilisateur. Le principal d'entre-eux est l'élément <code>&lt;input&gt;</code>. Prenez connaissance des différents types de champs qu'il permet de créer en lisant la documentation en ligne : <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/Input">https://developer.mozilla.org/fr/docs/Web/HTML/Element/Input</a> puis ajouter un élément <code>&lt;input&gt;</code> à votre page.</p>
<ul>
<li>Vous veillerez à ce que cet élément s'insère de manière harmonieuse au reste de la page (localisation dans la barre de navigation, ou dans un panneau latéral par exemple).</li>
</ul>
</li>
</ol>
<hr />
<h4><a class="header" href="#exemples" id="exemples">Exemples</a></h4>
<div class="center">
<p><img src="img/tp3_style1.png" alt="Exemple de style (1)" /></p>
<p><img src="img/tp3_style2.png" alt="Exemple de style (2)" /></p>
<p><img src="img/tp3_style_table.png" alt="Exemple de style pour le tableau" /></p>
</div>
<hr />
<h2><a class="header" href="#8-retour-sur-quelques-aspects-du-positionnement-des-éléments" id="8-retour-sur-quelques-aspects-du-positionnement-des-éléments">8. Retour sur quelques aspects du positionnement des éléments</a></h2>
<h3><a class="header" href="#81-le-centrage-dun-élément-dans-la-page-dans-son-conteneur-" id="81-le-centrage-dun-élément-dans-la-page-dans-son-conteneur-">8.1 Le centrage d'un élément (dans la page, dans son conteneur, ...)</a></h3>
<p>Ici en définissant une largeur (<code>width</code>) et des marges automatiques (<code>margin: auto</code>) sur un élément en bloc ; puis en demandant à centrer le texte autour de l'axe vertical au sein de cet élément (<code>text-align: center</code>).</p>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">.a {
  width: 50%;
  padding: 3px;
  background-color: lightgreen;
  border: solid 1px gray;
}

.b {
  margin: auto;
}

.c {
  text-align: center;
}
</code></pre>
<p><u>Code XHTML:</u></p>
<pre><code class="language-html">&lt;section&gt;
   &lt;div class=&quot;a&quot;&gt;Bloc utilisant la propriété 'width', non centré&lt;/div&gt;
&lt;/section&gt;
&lt;hr&gt;
&lt;section&gt;
   &lt;div class=&quot;a b&quot;&gt;Bloc utilisant la propriété 'width', centré ('margin:auto')&lt;/div&gt;
&lt;/section&gt;
&lt;hr&gt;
&lt;section&gt;
   &lt;div class=&quot;a b c&quot;&gt;Bloc utilisant la propriété 'width', centré ('margin:auto') et texte aligné au centre&lt;/div&gt;
&lt;/section&gt;
</code></pre>
<p><u>Résultat:</u></p>
<div class="res">
  <section>
     <section style="padding: 3px; border: solid 1px gray; width: 50%; background-color: lightgreen;">Bloc utilisant la propriété 'width', non centré</section>
  </section>
  <hr>
  <section>
     <section style="padding: 3px; border: solid 1px gray; width: 50%; margin: auto; background-color: lightgreen;">Bloc utilisant la propriété 'width', centré ('margin:auto')</section>
  </section>
  <hr>
  <section>
     <section style="padding: 3px; border: solid 1px gray; width: 50%; margin: auto; background-color: lightgreen;text-align: center;">Bloc utilisant la propriété 'width', centré ('margin:auto') et texte aligné au centre</section>
  </section>
</div>
<h3><a class="header" href="#82-utilisation-de-display-inline-block-pour-avoir-des-blocs-en-ligne-" id="82-utilisation-de-display-inline-block-pour-avoir-des-blocs-en-ligne-">8.2 Utilisation de <code>display: inline-block;</code> pour avoir des blocs en ligne :</a></h3>
<p>Les blocs qui utilisent cette propriété vont se comporter comme des éléments en bloc (respect des propriétés <code>width</code>, <code>height</code>, etc.) mais ne vont pas créer de retour à la ligne avant / après l'élément, lui permettant de s'afficher à coté de ses éléments frères.</p>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">.a {
  background-color: cornsilk;
  border: solid 1px gray;
  padding: 4px;
  width: 30%;
}

.b {
  display: inline-block;
}
</code></pre>
<p><u>Code XHTML:</u></p>
<pre><code class="language-html">&lt;div&gt;
 &lt;div class=&quot;a&quot;&gt;Bloc 1&lt;/div&gt;
 &lt;div class=&quot;a&quot;&gt;Bloc 2&lt;/div&gt;
 &lt;div class=&quot;a&quot;&gt;Bloc 3&lt;/div&gt;
&lt;/div&gt;
&lt;hr&gt;
&lt;div&gt;
 &lt;div class=&quot;a b&quot;&gt;Bloc 1&lt;/div&gt;
 &lt;div class=&quot;a b&quot;&gt;Bloc 2&lt;/div&gt;
 &lt;div class=&quot;a b&quot;&gt;Bloc 3&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><u>Résultat:</u></p>
<div>
  <section>
   <section style="background-color: cornsilk;border: solid 1px gray;padding: 4px; width: 30%;">Bloc 1</section>
   <section style="background-color: cornsilk;border: solid 1px gray;padding: 4px; width: 30%;">Bloc 2</section>
   <section style="background-color: cornsilk;border: solid 1px gray;padding: 4px; width: 30%;">Bloc 3</section>
  </section>
  <hr>
  <section>
   <section style="background-color: cornsilk;border: solid 1px gray;padding: 4px; display: inline-block; width: 30%;">Bloc 1</section>
   <section style="background-color: cornsilk;border: solid 1px gray;padding: 4px; display: inline-block; width: 30%;">Bloc 2</section>
   <section style="background-color: cornsilk;border: solid 1px gray;padding: 4px; display: inline-block; width: 30%;">Bloc 3</section>
  </section>
</div>
<h3><a class="header" href="#83-lutilisation-de-la-propriété-position-pour-changer-le-type-de-positionnement-dun-élément" id="83-lutilisation-de-la-propriété-position-pour-changer-le-type-de-positionnement-dun-élément">8.3 L'utilisation de la propriété <code>position</code> pour changer le type de positionnement d'un élément</a></h3>
<p><em>(voir la démonstration sur <a href="https://developer.mozilla.org/fr/docs/Web/CSS/position">https://developer.mozilla.org/fr/docs/Web/CSS/position</a>)</em></p>
<ul>
<li>
<p>positionnement relatif avec <code>position: relative</code> :</p>
<ul>
<li>l'élément est décalé à l'aide des propriétés <code>top</code>, <code>right</code>, <code>left</code>, <code>bottom</code> par rapport à sa position normale dans le flux du document</li>
<li>celà n'affecte pas les boites voisines mais l'élément peut prendre place au dessus de ses éléments frères</li>
</ul>
</li>
<li>
<p>positionnement absolu avec <code>position: absolute</code> :</p>
<ul>
<li>l'élément est positionné à l'aide des propriétés <code>top</code>, <code>right</code>, <code>left</code>, <code>bottom</code></li>
<li>l'élément est sorti du flux et ne participe plus au positionnement de ses éléments frères</li>
</ul>
</li>
<li>
<p>positionnement fixe avec <code>position: fixed</code> :</p>
<ul>
<li>l'élément reste fixe dans la page : il n'est pas affecté par le défillement de la page</li>
<li>il s'agit d'un positionnement absolu : l'élément est sorti du flux et ne participe plus au positionnement de ses éléments frères</li>
</ul>
</li>
<li>
<p>positionnement en adhérence avec <code>position: sticky</code> :</p>
<ul>
<li>il s'agit d'un positionnement relatif jusqu'à un seuil donné puis l'élément se comporte ensuite comme un élément fixe</li>
</ul>
</li>
</ul>
<p><em>La différence de participation au flux des éléments entre <code>sticky</code> et <code>fixed</code> est la raison pour laquelle il pouvait être plus judicieux d'utiliser <code>sticky</code> pour positionner de manière fixe l'élément <code>header</code> ou l'élément <code>footer</code> tout en permettant sa contribution au flux des éléments lors des exercices du TP3.</em></p>
<h3><a class="header" href="#84-la-possibilité-de-faire-flotter-des-éléments" id="84-la-possibilité-de-faire-flotter-des-éléments">8.4 La possibilité de faire &quot;flotter&quot; des éléments</a></h3>
<p>La propriété <code>float</code> permet de faire sortir l'élément du flux et de le pousser dans la direction indiquée par la valeur de la propriété (<code>float:right</code> ou <code>float:left</code>).<br />
Ses éléments frères vont venir prendre place autour de lui.<br />
Lorsque l'on souhaite interdire le voisinage avec un élément flottant et reprendre le flux normal du document, on utilise la propriété <code>clear</code> (avec la valeur <code>right</code>, <code>left</code> ou <code>both</code> selon le besoin).</p>
<h4><a class="header" href="#-pour-les-répartir-sur-la-page-1" id="-pour-les-répartir-sur-la-page-1">... pour les répartir sur la page (1)</a></h4>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">.s {
  text-align: center;
  background: lightgreen;
  padding: 4px;
}

.left {
  float: left;
  width: 48%;
}

.right {
  float: right;
  width: 48%;
}
</code></pre>
<p><u>Code XHTML:</u></p>
<pre><code class="language-html">&lt;div class=&quot;left s&quot;&gt;Bloc de gauche&lt;/div&gt;
&lt;div class=&quot;right s&quot;&gt;Bloc de droite&lt;/div&gt;
&lt;div style=&quot;clear: both;&quot;&gt;&lt;/div&gt; &lt;!-- Cela va permettre au titre
            en dessous des blocs verts de ne pas venir se coller à eux --&gt;
</code></pre>
<p><u>Résultat:</u></p>
<div>
  <section style="float: left;width: 48%; text-align: center; background: lightgreen; padding: 4px;">Bloc de gauche</section>
  <section style="float: right;width: 48%; text-align: center; background: lightgreen; padding: 4px;">Bloc de droite</section>
  <div style="clear: both;"></div> <!-- Cela va permettre à mon titre en dessous de ne pas venir se coller aux deux blocs verts -->
</div>
<h4><a class="header" href="#-pour-les-répartir-sur-la-page-2" id="-pour-les-répartir-sur-la-page-2">... pour les répartir sur la page (2)</a></h4>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">.s {
  text-align: center;
  background: lightgreen;
  padding: 4px;
  margin: 4px;
  border: solid 1px black;
}

.floatbox {
  float: left;
  width: 22%;
}
</code></pre>
<p><u>Code XHTML:</u></p>
<pre><code class="language-html">&lt;div class=&quot;floatbox s&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;floatbox s&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;floatbox s&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;floatbox s&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;floatbox s&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;floatbox s&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;floatbox s&quot;&gt;7&lt;/div&gt;
</code></pre>
<p><u>Résultat:</u></p>
<div>
<section style="float: left;width: 22%;text-align: center;background: lightgreen;padding: 4px;margin: 4px;border: solid 1px black;">1</section>
<section style="float: left;width: 22%;text-align: center;background: lightgreen;padding: 4px;margin: 4px;border: solid 1px black;">2</section>
<section style="float: left;width: 22%;text-align: center;background: lightgreen;padding: 4px;margin: 4px;border: solid 1px black;">3</section>
<section style="float: left;width: 22%;text-align: center;background: lightgreen;padding: 4px;margin: 4px;border: solid 1px black;">4</section>
<section style="float: left;width: 22%;text-align: center;background: lightgreen;padding: 4px;margin: 4px;border: solid 1px black;">5</section>
<section style="float: left;width: 22%;text-align: center;background: lightgreen;padding: 4px;margin: 4px;border: solid 1px black;">6</section>
<section style="float: left;width: 22%;text-align: center;background: lightgreen;padding: 4px;margin: 4px;border: solid 1px black;">7</section>
</div>
<h1><a class="header" href="#le-framework-bootstrap" id="le-framework-bootstrap">Le framework Bootstrap</a></h1>
<div class="center">
<p><img src="img/bootstrap_logo.png" alt="Logo de Bootstrap" /></p>
</div>
<h2><a class="header" href="#1-introduction" id="1-introduction">1. Introduction</a></h2>
<p>Le développement de sites web requiert une très bonne connaissance des langages du web (HTML, CSS, JavaScript), mais leur apprentissage, pour en maitriser tous les aspects, peut être long et difficile.</p>
<p>Des frameworks (ou cadriciels) sont proposés pour faciliter cette tâche. Un framework est une collection de briques de code bien structurées et prêtes à l'emploi permettant de faciliter le développement et la maintenance d'un projet informatique. L'un des plus utilisés est <a href="http://getbootstrap.com/">Bootstrap</a>.</p>
<p><strong>Bootstrap est un kit CSS</strong>, <strong>incluant aussi des composant HTML et javascript</strong>, créé par les développeurs de Twitter. Il est devenu le framework CSS de référence et est disponible en <em>open source</em>. Au 26/01/2021, la dernière version est la <strong><code>v5.0.0-beta1</code></strong> (la version <strong><code>4.5.3</code></strong> est la dernière mise-à-jour en v4.x).</p>
<p>Ce framework :</p>
<ul>
<li>facilite l'utilisation des règles CSS pour concevoir des sites attractifs et adaptatifs <em>(Responsive Web Design)</em></li>
<li>utilise une grille d'affichage pour agencer les différentes boîtes d'affichage des sites et s'adaptant immédiatement différents type de supports (ordinateurs, tablettes, smartphones)</li>
</ul>
<h3><a class="header" href="#11-avantages" id="11-avantages">1.1 Avantages</a></h3>
<ul>
<li>portabilité <em>(cross-browser)</em> : présentation similaire quel que soit le navigateur</li>
<li>homogénéité : ensemble de styles prédéfinis partagés, éléments complémentaires (barres de navigation, boutons...) uniformisés</li>
<li>simplicité : système de grille pour positionner des éléments</li>
<li>adaptabilité <em>(responsive)</em> : par défaut l'affichage s'adapte à la taille de l'écran <em>(mobile-first)</em></li>
<li>facilité d'utilisation : avec des connaissances de base en HTML et CSS</li>
</ul>
<blockquote>
<p><strong>Remarque</strong>: D'autres framework CSS connus sont par exemples <a href="https://get.foundation/">Foundation</a>, <a href="https://bulma.io/">Bulma</a> ou <a href="https://semantic-ui.com/">Semantic UI</a>. Ils proposent des fonctionnalités similaires.</p>
</blockquote>
<h3><a class="header" href="#12-utilisation" id="12-utilisation">1.2 Utilisation</a></h3>
<p>Pour utiliser Bootstrap dans une page HTML il faut inclure un ou plusieurs des fichiers distribués : <a href="http://getbootstrap.com/getting-started/">http://getbootstrap.com/getting-started/</a>.
Plusieurs approches peuvent être utilisées pour inclure le(s) fichier(s) nécessaires (elles offrent différentes options et/ou correspondent à différents contextes de travail) :</p>
<ol>
<li>
<p>Téléchargement en local des fichiers distribués depuis le site Web de Bootstrap et inclusion dans la page HTML de manière habituelle : l'archive zippée proposée est décompressée et vous faites référence (par des liens relatifs) à ces fichiers dans votre document HTML.</p>
</li>
<li>
<p><strong>Utilisation d'un CDN</strong> <em>(<a href="https://fr.wikipedia.org/wiki/R%C3%A9seau_de_diffusion_de_contenu">Content Delivery Network - réseau de diffusion de contenu</a>)</em>, une infrastructure de serveurs <em>&quot;qui coopèrent afin de mettre à disposition du contenu ou des données à des utilisateurs&quot;</em>. Ce procédé permet d'optimiser le temps de chargement (performance des serveurs contactés, mise en cache du contenu par le navigateur Web, diminution de la charge du serveur servant le reste de la page, etc.). L'inclusion dans la page HTML est similaire, il suffit simplement d'utiliser l'URL d'un de ces <em>CDN</em> :</p>
</li>
</ol>
<pre><code class="language-html">&lt;head&gt;
  &lt;link rel=&quot;stylesheet&quot;
        href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css&quot;
        integrity=&quot;sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1&quot;
        crossorigin=&quot;anonymous&quot;&gt;
&lt;/head&gt;
</code></pre>
<ol start="3">
<li>Utilisation d'un gestionnaire de paquets Javascript (<code>npm</code>, <em>node package manager</em>, par exemple) - cette solution ne sera par abordée dans le cadre de ce TP.</li>
</ol>
<blockquote>
<p><strong>Remarque:</strong> Dans le cadre des premières parties de ce TP nous n'aborderons pas les fonctionnalités JavaScript offertes par Bootstrap et nous n'inclurons donc que le fichier CSS qui est distribué. Pour utiliser ses fonctionnalités Javascript, vous devriez inclure le fichier javascript de Bootstrap (<code>bootstrap.js</code>) ainsi qu'une bibliothèque qu'il utilise : <code>Popper.js</code>.</p>
</blockquote>
<h2><a class="header" href="#2-le-système-de-grille" id="2-le-système-de-grille">2. Le système de grille</a></h2>
<blockquote>
<p>Documentation officielle :</p>
<ul>
<li><a href="https://getbootstrap.com/docs/5.0/layout/grid/">Bootstrap Docs - Grid system</a></li>
</ul>
</blockquote>
<h3><a class="header" href="#21-en-théorie" id="21-en-théorie">2.1 En théorie</a></h3>
<p>Une des difficultés avec HTML + CSS est la maîtrise du placement des éléments dans une page.</p>
<p>Pour faciliter celui-ci Bootstrap propose un système de <strong>grille</strong> <em>(grid)</em> composée de <strong>12 colonnes</strong> <em>(col)</em>, et d’un nombre de <strong>lignes</strong> <em>(row)</em> potentiellement illimité. Les élements de contenu sont placés dans cette grille, en utilisant une ou plusieurs de ses cellules.</p>
<p>Ce système de dimensionnement à les propriétés suivantes :</p>
<ul>
<li>
<p>la <strong>largeur des colonnes</strong> est exprimée en % de la largeur de la fenêtre de visualisation</p>
</li>
<li>
<p>la <strong>hauteur des lignes</strong> est fixée par la hauteur de son contenu et prend la hauteur du plus gros élément qu'elle contient</p>
</li>
</ul>
<p><img src="img/grid_bootstrap1.png" alt="Système de grille" /></p>
<p>La puissance de Bootstrap réside dans le fait que le système de grille est <em>responsive</em> :</p>
<p><strong>Les colonnes d'une même ligne se réorganisent automatiquement selon la largeur de la fenêtre d'affichage : si la fenêtre est suffisamment large, elles sont côte à côte, sinon elles s'empilent</strong>.</p>
<p>Il est également possible de jouer sur la taille des contenus, voir de les faire disparaître.</p>
<h3><a class="header" href="#22-en-pratique" id="22-en-pratique">2.2 En pratique</a></h3>
<h4><a class="header" href="#221-les-classes-à-utiliser" id="221-les-classes-à-utiliser">2.2.1 Les classes à utiliser</a></h4>
<p>On utilise ce système de grille grâce à des <strong>classes CSS</strong> particulières qui vont être associées à des éléments HTML pour déterminer leur largeur en nombre de colonnes.</p>
<p><strong>Concrêtement il va falloir :</strong></p>
<ul>
<li>
<p><strong>un conteneur</strong> (<code>&lt;div&gt;</code>, <code>&lt;section&gt;</code>, ..) ayant la classe :</p>
<ul>
<li><code>container</code> pour une grille de largeur fixe (définit selon les tailles d'écrans), centrée sur la page, ou bien</li>
<li><code>container-fluid</code> pour une grille occupant toute la largeur de l'écran (<code>width: 100%</code>), ou bien</li>
<li><code>container-{breakpoint}</code> pour une grille occupant toute la largeur de l'écran jusqu'au breakpoint définit.</li>
</ul>
</li>
<li>
<p><strong>définir une ligne</strong> avec la classe <code>row</code></p>
</li>
<li>
<p><strong>définir une colonne de la ligne</strong> avec <code>col-{breakpoint}-{width}</code></p>
<ul>
<li>où <em><strong><code>breakpoint</code></strong></em> correspond à la largeur d'écran au dessous de laquelle l'élément s'empile avec ses frères : <code>sm</code>, <code>md</code>, <code>lg</code> ou <code>xl</code>,</li>
<li>où <em><strong><code>width</code></strong></em> correspond à la largeur de la colonne, en nombre de colonnes élémentaires, de 1 à 12.</li>
</ul>
</li>
</ul>
<p><u>Exemple:</u></p>
<pre><code class="language-html">&lt;div class=&quot;container&quot;&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-sm-4&quot;&gt;One of three columns&lt;/div&gt;
    &lt;div class=&quot;col-sm-4&quot;&gt;One of three columns&lt;/div&gt;
    &lt;div class=&quot;col-sm-4&quot;&gt;One of three columns&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-lg-6&quot;&gt;One of two columns&lt;/div&gt;
    &lt;div class=&quot;col-lg-6&quot;&gt;One of two columns&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-md-2&quot;&gt;Third row, 1st column&lt;/div&gt;
    &lt;div class=&quot;col-md-7&quot;&gt;Third row, 2nd column&lt;/div&gt;
    &lt;div class=&quot;col-md-3&quot;&gt;Third row, 3rd column&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><u>Résultat:</u></p>
<div class="res twbs">
  <section class="container">
    <section class="row">
      <section class="col-sm-4">One of three columns</section>
      <section class="col-sm-4">One of three columns</section>
      <section class="col-sm-4">One of three columns</section>
    </section>
    <section class="row">
      <section class="col-lg-6">One of two columns</section>
      <section class="col-lg-6">One of two columns</section>
    </section>
    <section class="row">
      <section class="col-md-2">Third row, 1st column</section>
      <section class="col-md-7">Third row, 2nd column</section>
      <section class="col-md-3">Third row, 3rd column</section>
    </section>
  </section>
</div>
<h4><a class="header" href="#222-point-de-rupture" id="222-point-de-rupture">2.2.2 Point de rupture</a></h4>
<table class="twbs table table-bordered table-striped">
  <thead>
    <tr>
      <th></th>
      <th class="text-center">
        Extra small<br>
        <small>&lt;576px</small>
      </th>
      <th class="text-center">
        Small<br>
        <small>≥576px</small>
      </th>
      <th class="text-center">
        Medium<br>
        <small>≥768px</small>
      </th>
      <th class="text-center">
        Large<br>
        <small>≥992px</small>
      </th>
      <th class="text-center">
        X-large<br>
        <small>≥1200px</small>
      </th>
      <th class="text-center">
        XX-large<br>
        <small>≥1400px</small>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th class="text-nowrap" scope="row">Max container width</th>
      <td>None (auto)</td>
      <td>540px</td>
      <td>720px</td>
      <td>960px</td>
      <td>1140px</td>
      <td>1320px</td>
    </tr>
    <tr>
      <th class="text-nowrap" scope="row">Class prefix</th>
      <td style="text-align: center;padding: 3px;"><code>.col-</code></td>
      <td style="text-align: center;padding: 3px;"><code>.col-sm-</code></td>
      <td style="text-align: center;padding: 3px;"><code>.col-md-</code></td>
      <td style="text-align: center;padding: 3px;"><code>.col-lg-</code></td>
      <td style="text-align: center;padding: 3px;"><code>.col-xl-</code></td>
      <td style="text-align: center;padding: 3px;"><code>.col-xxl-</code></td>
    </tr>
    <tr>
      <th class="text-nowrap" scope="row"># of columns</th>
      <td colspan="5">12</td>
    </tr>
    <tr>
      <th class="text-nowrap" scope="row">Gutter width</th>
      <td colspan="5">30px (15px on each side of a column)</td>
    </tr>
    <tr>
      <th class="text-nowrap" scope="row">Nestable</th>
      <td colspan="5">Yes</td>
    </tr>
    <tr>
      <th class="text-nowrap" scope="row">Column ordering</th>
      <td colspan="5">Yes</td>
    </tr>
  </tbody>
</table>
<h4><a class="header" href="#223-illustration-de-leffet-des-breakpoints" id="223-illustration-de-leffet-des-breakpoints">2.2.3 Illustration de l'effet des <em>breakpoints</em></a></h4>
<p><img src="img/twbs10t.png" alt="Dispositif d'affichage extra-large" /></p>
<hr />
<p><img src="img/twbs20t.png" alt="Dispositif d'affichage large" /></p>
<hr />
<p><img src="img/twbs30t.png" alt="Dispositif d'affichage medium" /></p>
<hr />
<p><img src="img/twbs40t.png" alt="Dispositif d'affichage small" /></p>
<hr />
<p><img src="img/twbs50t.png" alt="Dispositif d'affichage extra-small" /></p>
<p>Version interactive : <a href="data/TP4/example_grid_layout.html">ici</a>.</p>
<h4><a class="header" href="#224-possibilité-de-ne-pas-spécifier-la-largeur-pour-des-colonnes-de-mêmes-tailles-" id="224-possibilité-de-ne-pas-spécifier-la-largeur-pour-des-colonnes-de-mêmes-tailles-">2.2.4 Possibilité de ne pas spécifier la largeur pour des colonnes de mêmes tailles :</a></h4>
<p><u>Exemple:</u></p>
<pre><code class="language-html">&lt;div class=&quot;container&quot;&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-sm&quot;&gt;One of three columns&lt;/div&gt;
    &lt;div class=&quot;col-sm&quot;&gt;One of three columns&lt;/div&gt;
    &lt;div class=&quot;col-sm&quot;&gt;One of three columns&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-lg&quot;&gt;One of two columns&lt;/div&gt;
    &lt;div class=&quot;col-lg&quot;&gt;One of two columns&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-md-2&quot;&gt;Third row, 1st column&lt;/div&gt;
    &lt;div class=&quot;col-md-7&quot;&gt;Third row, 2nd column&lt;/div&gt;
    &lt;div class=&quot;col-md-3&quot;&gt;Third row, 3rd column&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><u>Résultat:</u></p>
<div class="res twbs">
  <section class="container">
    <section class="row">
      <section class="col-sm">One of three columns</section>
      <section class="col-sm">One of three columns</section>
      <section class="col-sm">One of three columns</section>
    </section>
    <section class="row">
      <section class="col-lg">One of two columns</section>
      <section class="col-lg">One of two columns</section>
    </section>
    <section class="row">
      <section class="col-md-2">Third row, 1st column</section>
      <section class="col-md-7">Third row, 2nd column</section>
      <section class="col-md-3">Third row, 3rd column</section>
    </section>
  </section>
</div>
<h4><a class="header" href="#225-utilisation-sans-spécifier-de-point-de-rupture-" id="225-utilisation-sans-spécifier-de-point-de-rupture-">2.2.5 Utilisation sans spécifier de point de rupture :</a></h4>
<p><u>Exemple:</u></p>
<pre><code class="language-html">&lt;div class=&quot;container&quot;&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col&quot;&gt;One of seven columns&lt;/div&gt;
    &lt;div class=&quot;col&quot;&gt;One of seven columns&lt;/div&gt;
    &lt;div class=&quot;col&quot;&gt;One of seven columns&lt;/div&gt;
    &lt;div class=&quot;col&quot;&gt;One of seven columns&lt;/div&gt;
    &lt;div class=&quot;col&quot;&gt;One of seven columns&lt;/div&gt;
    &lt;div class=&quot;col&quot;&gt;One of seven columns&lt;/div&gt;
    &lt;div class=&quot;col&quot;&gt;One of seven columns&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col&quot;&gt;One of two columns&lt;/div&gt;
    &lt;div class=&quot;col&quot;&gt;One of two columns&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-md-2&quot;&gt;Third row, 1st column&lt;/div&gt;
    &lt;div class=&quot;col-md-7&quot;&gt;Third row, 2nd column&lt;/div&gt;
    &lt;div class=&quot;col-md-3&quot;&gt;Third row, 3rd column&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><u>Résultat:</u></p>
<div class="res twbs">
  <section class="container">
    <section class="row">
      <section class="col">One of seven columns</section>
      <section class="col">One of seven columns</section>
      <section class="col">One of seven columns</section>
      <section class="col">One of seven columns</section>
      <section class="col">One of seven columns</section>
      <section class="col">One of seven columns</section>
      <section class="col">One of seven columns</section>
    </section>
    <section class="row">
      <section class="col">One of two columns</section>
      <section class="col">One of two columns</section>
    </section>
    <section class="row">
      <section class="col-md-2">Third row, 1st column</section>
      <section class="col-md-7">Third row, 2nd column</section>
      <section class="col-md-3">Third row, 3rd column</section>
    </section>
  </section>
</div>
<h2><a class="header" href="#3-autres-composants-de-bootstrap" id="3-autres-composants-de-bootstrap">3. Autres composants de Bootstrap</a></h2>
<p>Ce framework permet également, toujours par l'utilisation de classes qu'il définie, d'appliquer des styles cohérents à un certain nombre d'éléments html (<code>img</code>, <code>button</code>, <code>input</code>, etc.) ainsi que de composer des éléments plus complexes (<code>dropdown menus</code>, <code>navbar</code>, etc.).</p>
<h3><a class="header" href="#31-intégration-dimages-responsive" id="31-intégration-dimages-responsive">3.1 Intégration d'images <em>responsive</em></a></h3>
<blockquote>
<p>Documentation officielle :</p>
<ul>
<li><a href="https://getbootstrap.com/docs/5.0/content/images/">Bootstrap Docs - Image</a></li>
<li><a href="https://getbootstrap.com/docs/5.0/utilities/borders/">Bootstrap Docs - Borders</a></li>
</ul>
</blockquote>
<p>Comme avec le système de grille, il va être possible d'appliquer simplement aux images des classes CSS qui vont permettre de facilier leur intégration dans une page <em>responsive</em>.
Quelques-unes des classes utilisables sont les suivantes :</p>
<ul>
<li>la classe <code>img-fluid</code> permet de rendre l'image responsive,</li>
<li>la classe <code>img-thumbnail</code> permet de rendre l'image responsive et de lui ajouter une marge arrondie de 1px (effet vignette),</li>
<li>la classe <code>rounded</code> permet d'arrondir les angles de l'image,</li>
<li>la classe <code>rounded-circle</code> permet de découper l'image selon une ellipse.</li>
</ul>
<h3><a class="header" href="#32-un-composant-simple--le-bouton" id="32-un-composant-simple--le-bouton">3.2 Un composant simple : le bouton</a></h3>
<blockquote>
<p>Documentation officielle :</p>
<ul>
<li><a href="https://getbootstrap.com/docs/5.0/components/buttons/">Bootstrap Docs - Buttons</a></li>
</ul>
</blockquote>
<p>Ces éléments peuvent être facilement combinés pour en créer de plus complexes, comme ici avec :</p>
<h5><a class="header" href="#bouton-contenant-un-a-hrefhttpsgetbootstrapcomdocs50componentsbadgeexamplebadgea-" id="bouton-contenant-un-a-hrefhttpsgetbootstrapcomdocs50componentsbadgeexamplebadgea-">Bouton contenant un <a href="https://getbootstrap.com/docs/5.0/components/badge/#example">badge</a> :</a></h5>
<p><u>Code HTML:</u></p>
<pre><code class="language-html">&lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot;&gt;
  Notifications &lt;span class=&quot;badge badge-light&quot;&gt;4&lt;/span&gt;
&lt;/button&gt;
</code></pre>
<p><u>Résultat:</u></p>
<div class="res twbs" style="transform: scale(1.4)translate(107px, -2px);display: table-row;">
  <button type="button" class="btn btn-primary">
    Notifications <span class="badge badge-light">4</span>
  </button>
</div>
<p><br><br></p>
<h5><a class="header" href="#groupe-de-3-boutons-sans-se-soucier-des-angles-à-arrondir-" id="groupe-de-3-boutons-sans-se-soucier-des-angles-à-arrondir-">Groupe de 3 boutons sans se soucier des angles à arrondir :</a></h5>
<p><u>Code HTML:</u></p>
<pre><code class="language-html">&lt;div class=&quot;btn-group&quot; role=&quot;group&quot; aria-label=&quot;Basic example&quot;&gt;
  &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot;&gt;Left&lt;/button&gt;
  &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot;&gt;Middle&lt;/button&gt;
  &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot;&gt;Right&lt;/button&gt;
&lt;/div&gt;
</code></pre>
<p><u>Résultat:</u></p>
<div class="res twbs" style="transform: scale(1.4)translate(107px, -2px);display: table-row;">
  <section class="btn-group" role="group" aria-label="Basic example">
    <button type="button" class="btn btn-secondary">Left</button>
    <button type="button" class="btn btn-secondary">Middle</button>
    <button type="button" class="btn btn-secondary">Right</button>
  </section>
</div>
<h2><a class="header" href="#4-mise-en-pratique---exercice-1" id="4-mise-en-pratique---exercice-1">4. Mise en pratique - Exercice 1</a></h2>
<p><strong>🚀 Consignes</strong>:</p>
<ol>
<li>
<p>Récupérer les données du jour : <a href="data/TP4.zip">TP4.zip</a> et extraire le contenu de l'archive sur votre ordinateur.</p>
</li>
<li>
<p>Ouvrir la page <code>page_bootstrap1.html</code> (dans votre navigateur et dans votre éditeur de code). Cette page contient déjà plusieurs blocs de texte formattés sous la forme de paragraphes et organisés dans 3 <code>&lt;article&gt;</code> et dans 2 <code>&lt;section&gt;</code>.</p>
</li>
<li>
<p>Inclure le fichier CSS de bootstrap dans la section <code>head</code> du document HTML en utilisant un CDN :</p>
</li>
</ol>
<pre><code class="language-html">&lt;head&gt;
  ...
  &lt;link
    rel=&quot;stylesheet&quot;
    href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css&quot;
    integrity=&quot;sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1&quot;
    crossorigin=&quot;anonymous&quot;&gt;
  ...
&lt;/head&gt;
</code></pre>
<ol start="4">
<li>
<p>On souhaite organiser la page en utilisant le système de grille de Bootstrap présenté précédemment afin qu'elle présente son contenu de manière <em>responsive</em>. Les instructions concernant le style des éléments et le comportement relatif à la taille de la fenêtre du navigateur sont présentées ci-dessous :</p>
<ul>
<li>les <em>articles</em> doivent être affichés sur un fond de couleur <code>aliceblue</code>, avoir des bords arrondis (<code>border-radius</code>) à une longueur de 10px, et utiliser une marge interne (<code>padding</code>) de 12.5 pixels.</li>
<li>les <em>articles</em> doivent être placés sur une même ligne et occuper une largeur identique si la largeur de la fenêtre est plus grande ou égale à 768 pixels, sinon ils s'empilent. Lorsqu'ils s'empilent ils doivent être séparés d'un espace de 10px.</li>
<li>les <em>sections</em> doivent être affichées sur un fond de couleur <code>cornsilk</code>, avoir des bords arrondis (<code>border-radius</code>) à une longueur de 10px, et utiliser une marge interne (<code>padding</code>) de 8 pixels.</li>
<li>les <em>sections</em> doivent être placées sur une même ligne et occuper une largeur identique si la largeur de la fenêtre est plus grande ou égale à 768 pixels, sinon elles s'empilent. Lorsqu'ils s'empilent ils doivent être séparés d'un espace de 10px.</li>
</ul>
</li>
</ol>
<p>Pour cet exercice comme pour les deux suivants, vous écrirez vos règles CSS directement dans le fichier HTML, entre les balises <code>&lt;style&gt; &lt;/style&gt;</code> à insérer dans l'en-tête du document (cf. TP2).</p>
<p>Le résultat attendu est présenté ci-dessous.</p>
<div class="center">
<p><img src="img/tp4_ex1_resultat_large.png" alt="Résultat en largeur extra-large" />
<img src="img/tp4_ex1_resultat_small.png" alt="Résultat en largeur small" /></p>
</div>
<h2><a class="header" href="#5-mise-en-pratique---exercice-2" id="5-mise-en-pratique---exercice-2">5. Mise en pratique - Exercice 2</a></h2>
<p><strong>🚀 Consignes</strong>:</p>
<ol>
<li>
<p>Copiez la page <code>page_bootstrap1.html</code> vers <code>page_bootstrap2.html</code>. C'est sur ce nouveau document que vous travaillez désormais.</p>
</li>
<li>
<p>Modifier le document de manière à ce que, lorsque la largeur de la fenêtre est supérieure à 768px, les <em>articles</em> occupent respectivement 25%, 50% et 25% de la largeur de la page.</p>
</li>
<li>
<p>Veillez à ce que le texte des <em>articles</em> et des <em>sections</em> soit désormais justifié.</p>
</li>
</ol>
<p><img src="img/tp4_ex2_resultat_large.png" alt="Résultat en largeur extra-large" /></p>
<h2><a class="header" href="#5-mise-en-pratique---exercice-3" id="5-mise-en-pratique---exercice-3">5. Mise en pratique - Exercice 3</a></h2>
<p><strong>🚀 Consignes</strong>:</p>
<ol>
<li>
<p>Copiez la page <code>page_bootstrap2.html</code> vers <code>page_bootstrap3.html</code>. C'est sur ce nouveau document que vous travaillez désormais.</p>
</li>
<li>
<p>Nous souhaitons intégrer les images qui correspondent à nos 3 articles. Elles doivent s'insérer de manière harmonieuse avec l'article correspondant. Les images à utiliser sont les suivantes :</p>
<ul>
<li>https://upload.wikimedia.org/wikipedia/commons/c/cc/ESC_large_ISS022_ISS022-E-11387-edit_01.JPG (Vue aérienne de l'aéroport international de Hobart en Tasmanie)</li>
<li>https://upload.wikimedia.org/wikipedia/commons/7/73/MatanuskaGlacierPanorama.jpg (Le glacier Matanuska en Alaska)</li>
<li>https://upload.wikimedia.org/wikipedia/commons/1/15/Ile-large-2017-port.jpg (Vue aérienne de l'île du Large)</li>
</ul>
<p>Veillez à ce que la première et la troisième image présentent un effet de vignette. La seconde image devra être découpée selon une forme d'ellipse.</p>
</li>
<li>
<p>Centrez le titre de la page.</p>
</li>
</ol>
<p><img src="img/tp4_ex3_resultat_large.png" alt="Résultat en largeur extra-large" /></p>
<h2><a class="header" href="#6-des-composants-plus-complexes--navbar-dropdown-menu-etc---exercice-4" id="6-des-composants-plus-complexes--navbar-dropdown-menu-etc---exercice-4">6. Des composants plus complexes : <em>navbar</em>, <em>dropdown menu</em>, etc. - Exercice 4</a></h2>
<p>Les exemples précédents ont pour vocation de fournir une introduction à la manière dont fonctionne <code>Bootstrap</code>.</p>
<p>Certaines de ses fonctionnalités nécessitent l'ajout de dépendances Javascript (<code>Popper.js</code>). Vous devez les inclure dans votre fichier HTML, en utilisant la balise <code>&lt;script&gt;</code>, de préférence à la fin de l'élément <code>&lt;body&gt;</code>.</p>
<p>En utilisant l'approche <em>CDN</em> :</p>
<pre><code class="language-html">&lt;body&gt;
  &lt;!--
      Le contenu habituel de votre page ici ...
  --&gt;
  &lt;script src=&quot;https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js&quot; integrity=&quot;sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js&quot; integrity=&quot;sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
</code></pre>
<p>Vous pouvez maintenant bénéficier de certains éléments de Bootstrap qui nécessitent ces bibliothèques Javascript, et ce sans saisir de code Javascript supplémentaire (sauf si nécessaire). C'est par exemple le cas des barres de navigation et des menus déroulants.</p>
<ol>
<li>
<p>Copiez la page <code>page_bootstrap3.html</code> vers <code>page_bootstrap4.html</code>. C'est sur ce nouveau document que vous travaillez désormais.</p>
</li>
<li>
<p>Votre page inclue déjà le fichier CSS de Bootstrap. Vous devez maintenant inclure les deux bibliothèques Javascript requises (<code>Bootstrap</code> et <code>Popper.js</code>) dans votre page comme montré dans l'extrait de code précédent.</p>
</li>
<li>
<p>Rendez-vous sur la page de documentation des barres de navigation : <a href="https://getbootstrap.com/docs/5.0/components/navbar/">https://getbootstrap.com/docs/5.0/components/navbar/</a></p>
</li>
<li>
<p>Essayer d'inclure une barre de navigation noire contenant les entrées suivantes : <code>Accueil</code>, <code>Partenaires</code>, <code>Contact</code> et <code>À propos</code> (ce sont les mêmes intitulés que dans le TP3) ainsi qu'un élément permettant d'effectuer une recherche. Fiez-vous aux exemple de la documentation de Bootstrap.
Cette barre de navigation devra être <em>responsive</em>, lorsque la largeur de l'écran est inférieure à 992px, elle doit disparaître au profit de l'élément qui permet de la déplier (voir exemple ci-dessous).<br />
Vous pouvez également chercher dans la documentation comment faire en sorte que l'élément de recherche et son bouton forment un groupe comme sur le screenshot ci-dessous (ce n'est à priori pas le comportement que vous avez par défaut mais bootstrap propose des classes permettant de faire ça facilement).</p>
</li>
</ol>
<div class="center">
<p><strong>Largeur d'écran: 1250px</strong>
<img src="img/tp4_ex4_extralarge.png" alt="Résultat en largeur extra-large" /></p>
<p><strong>Largeur d'écran: 620px</strong>
<img src="img/tp4_ex4_small.png" alt="Résultat en largeur small" /></p>
</div>
<ol start="5">
<li>Si vous avez réussi avec succès les questions précédentes c'est que vous maitrisez déjà bien la documentation de Bootstrap. Essayer d'ajouter à la page en cours une <a href="https://getbootstrap.com/docs/5.0/components/modal/">fenêtre modale</a> dont l'ouverture serait déclanchée par un clic sur un <a href="https://getbootstrap.com/docs/5.0/components/buttons/">bouton</a>. L'ensemble des informations sont présentes dans la documentation. Vous êtes libre de choisir le contenu de la fenêtre modale ainsi que la manière dont le lien entre le boutton et la fenêtre modale est défini dans votre code.</li>
</ol>
<h1><a class="header" href="#programmation-web-coté-serveur-en-python" id="programmation-web-coté-serveur-en-python">Programmation Web coté serveur en Python</a></h1>
<h2><a class="header" href="#1-préambule" id="1-préambule">1. Préambule</a></h2>
<h3><a class="header" href="#11-langages-coté-client-et-langages-coté-serveur-" id="11-langages-coté-client-et-langages-coté-serveur-">1.1 Langages coté client et langages coté serveur ...</a></h3>
<p>HTML <em>(HyperText Markup Language)</em> et CSS <em>(Cascading Style Sheet)</em>, sont deux langages de simple affichage statique de contenus (statique car rien ne change, le contenu est toujours le même).</p>
<p>Les langages de script permettent de produire des pages web non statiques, c’est-à-dire dont le contenu peut varier en fonction de différentes conditions (et notamment des actions de l'utilisateur).</p>
<p>Il existe des langages côté client (le principal actuellement est Javascript) et des langages côté serveur.</p>
<p><strong>PHP</strong> est un célèbre exemple de langage de programmation qui s’exécute côté serveur. Ce langage permet de produire du code, visualisable par le client, qui peut différer en fonction de circonstances définies, ce qui introduit donc un certain dynamisme. Ce dynamisme peut être accru grâce à une connexion avec une base de données (PostGreSQL, MySQL, SQLite, etc.).</p>
<div class="center" style="border: solid 3px black; border-radius: 10px;">
<p><img src="1-Intro-Internet-web/img/traitement_page_serveur.png" alt="" /></p>
<p class="source center" style="font-size: 0.85em;">Source: Marlène Villanova-Oliver</p>
</div>
<p>La figure ci-dessus (également présentée dans les slides du 1er cours) présente l’architecture couplant un langage de programmation et une base de données afin de générer, sur le serveur, du contenu dynamique lors d'une requête en provenance d'un client (navigateur Web) : c'est ce que nous allons implémenter dans les 2 prochains TP.<br />
<strong>Nous n'utiliserons pas le langage PHP mais le langage Python avec le <em>micro-framework</em> <code>Flask</code>.</strong></p>
<p>Il existe de nombreux <em>frameworks</em> de programmation de <strong>serveur</strong> Web dans un multitude de langages, par exemple :</p>
<ul>
<li>en PHP : <code>laravel</code>, <code>Symphony</code>,</li>
<li>en Python : <code>Django</code>, <code>Flask</code>, <code>cherry.py</code></li>
<li>en JavaScript avec node.js : <code>Express.js</code>,</li>
<li>en Java : <code>Spring</code>, ...</li>
<li>en Ruby : <code>Ruby on Rails</code>, ...</li>
</ul>
<p>Les logiciels <a href="https://fr.wikipedia.org/wiki/Apache_HTTP_Server"><code>Apache HTTP server</code></a> et <a href="https://fr.wikipedia.org/wiki/NGINX"><code>NGINX</code></a> sont également des serveurs HTTP.</p>
<p>Au même titre, il existe différents <strong>clients</strong>, que vous utilisez ou connaissez déjà pour certains puisqu'il s'agit notamment des navigateurs Web :</p>
<ul>
<li><code>Chrome</code>, <code>Firefox</code>, <code>Microsoft Edge</code>, etc.</li>
<li>En ligne de commande : <a href="https://fr.wikipedia.org/wiki/CURL"><code>cURL</code></a>, <a href="https://fr.wikipedia.org/wiki/GNU_Wget"><code>Wget</code></a></li>
<li>Des bibliothèques proposent d'effectuer des requêtes HTTP dans la plupart des langages de programmation (<a href="https://requests.readthedocs.io/en/master/"><code>requests</code></a> et <a href="https://www.python-httpx.org/"><code>httpx</code></a> en Python par exemple)</li>
</ul>
<h3><a class="header" href="#12-le-protocole-http" id="12-le-protocole-http">1.2 Le protocole HTTP</a></h3>
<p>Dans le 1er cours, nous avons évoqué le protocole HTTP (pour <em>Hypertext Transfer Protocol</em>, littéralement &quot;protocole de transfert hypertexte&quot;). Il s'agit d'un <strong>protocole de communication client-serveur</strong> (se situant au niveau &quot;application&quot; du modèle en couches présenté à cette occasion et dont l'illustration est rappelée ci-dessous).</p>
<div class="center">
<p><img src="1-Intro-Internet-web/img/dataflow_ips_wikipedia.png" alt="" /></p>
<p class="source center" style="font-size: 0.85em;">Source: <a href="https://commons.wikimedia.org/wiki/File:Data_Flow_of_the_Internet_Protocol_Suite.PNG">Wikimedia Commons - user: renepick</a> / <a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA-3.0</a></p>
</div>
<div class="center">
<p><img src="1-Intro-Internet-web/img/client-server-mdn.png" alt="" /></p>
<p><span class="source" style="display: block;padding-right: 86px;font-size: 0.85em;">Source: <a href="https://developer.mozilla.org/files/4291/client-server.png">Mozilla Developpers Network</a></span></p>
</div>
<p>Le protocole HTTP définie plusieurs <strong>méthodes</strong>. Une méthode est une commande spécifiant au serveur un <strong>type de requête</strong>, lui demandant d'effectuer une action particulière sur la ressource désignée par l'URL qui accompagne cette méthode.</p>
<p>Les méthodes qui seront utilisées dans cette série de TP sont les suivantes (il s'agit également des plus utilisées):</p>
<ul>
<li><strong><code>GET</code></strong> : méthode pour demander une ressource (une requête <code>GET</code> est sans effet sur la ressource, on peut la répéter et obtenir le même résultat), c'est la méthode utilisée lors de la récupération d'une page Web par exemple.</li>
<li><strong><code>POST</code></strong> : méthode pour transmettre des données en vue de leur traitement (par exemple depuis un formulaire HTML)</li>
</ul>
<p><strong>→ Concrêtement, lorsqu'une page HTML est consultée, la première étape consiste à la récupérer : une requête HTTP de type <code>GET</code> sur l'url de la page est effectuée</strong>.</p>
<p><strong>→ De même, lorsque vous validez un formulaire, une requête HTTP de type <code>POST</code> est effectuée sur une url du serveur permettant de valider et de traiter le formulaire</strong>.</p>
<p>Ces autres méthodes sont parfois utilisées (notamment lors de l'utilisation d'une API de type REST pour les 3 dernières), gardez leur nom en tête pour savoir qu'il s'agit de méthodes HTTP si vous les rencontrez :</p>
<ul>
<li><code>HEAD</code> : méthode pour demander des informations sur la ressource, sans récupérer la ressource.</li>
<li><code>PUT</code> : méthode pour remplacer ou ajouter une ressource.</li>
<li><code>DELETE</code> : méthode pour supprimer une ressource.</li>
<li><code>PATCH</code> : méthode pour faire une modification partielle (contrairement à <code>PUT</code> qui la remplacerait) d'une ressource.</li>
</ul>
<h3><a class="header" href="#13-le-fil-rouge-de-ce-tp-et-des-suivants-" id="13-le-fil-rouge-de-ce-tp-et-des-suivants-">1.3 Le fil rouge de ce TP et des suivants ...</a></h3>
<p>Nous souhaitons construire <strong>une plate-forme collaborative permettant de noter et de donner un avis sur les bâtiments du campus</strong>. Cette tâche complexe peut-être décomposée en plusieurs sous-tâches:</p>
<ul>
<li>créer une base de données permettant de stocker cette information</li>
<li>donner à l'utilisateur la possibilité de consulter l'information (localisation des bâtiments notés et détails des notes/avis)</li>
<li>donner à l'utilisateur la possibilité de saisir une nouvelle information (ajout d'une note/avis à une localisation en ayant déjà où non)</li>
</ul>
<p>Aujourd'hui (<strong>TP5</strong>), nous verrons comment organiser le code coté serveur pour que différentes actions puissent être effectuées en fonction du type de requête ou du chemin de la requête <em>(i.e. comment passer d'un contenu statique à un contenu dynamique)</em> et nous verrons comment utiliser des <em>templates</em> HTML.</p>
<p>Le <strong>TP6</strong> servira à créer un formulaire dans la page HTML et à le traiter coté serveur pour ajouter son contenu dans une base de données <a href="https://www.sqlite.org/">SQLite</a>. Les informations présentes dans la base de données seront mobilisées pour être affichées coté client ; elles pourront également être mises à jour.</p>
<p>Le <strong>TP7</strong> servira à ajouter une carte interactive dans la page HTML. C'est cette carte qui sera utilisée comme interface pour l'ajout d'avis (lors du clic de l'utilisateur par exemple) ainsi que pour l'affichage de la localisation des avis présents dans la base de données (sous forme de <em>markers</em>). Cette carte fera appel à du code Javascript, exécuté directement dans le navigateur web du client. L'application construite pourra être déployée individuellement sur la plate-forme <a href="https://www.pythonanywhere.com/">PythonAnywhere</a>.</p>
<p>Le <strong>TP8</strong>, sera consacré au langage Javascript (aspects théoriques et pratiques) afin d'ajouter de l'interactivité et des fonctionnalités supplémentaire à l'application créée.</p>
<h2><a class="header" href="#2-la-bibliothèque-flask" id="2-la-bibliothèque-flask">2. La bibliothèque <code>Flask</code></a></h2>
<p>Il s'agit d'un <em>micro-framework</em> conçu pour développer une application Web coté serveur. À ce titre il va fournir des outils génériques pour créer ce type d'application tout en favorisant la mise en oeuvre de bonnes pratiques et en limitant l'écriture de code inutile. Le qualificatif <em>micro</em> décrit ici plusieurs réalités :</p>
<ul>
<li>vise à garder le code de base simple mais extensible,</li>
<li>n'est pas opiniâtre dans le choix d'une base de données,</li>
<li>au final, <code>Flask</code> s'occupe de l'essentiel (gérer les routes et les requêtes HTTP et permettre l'utilisation de <em>templates</em>) mais les autres tâches &quot;optionnelles&quot; (connexion à une DB, authentification, formulaires, etc.) sont laissées à des extensions.</li>
</ul>
<p><strong><code>Flask</code></strong> repose notamment sur deux bibliothèques dont il est utile d'avoir connaissance : <code>Werkzeug</code> (une boite à outils WSGI) et <code>Jinja2</code> (un moteur de <em>template</em>).</p>
<div class="center smallcontent">
<p><img src="https://flask.palletsprojects.com/en/1.1.x/_images/flask-logo.png" alt="" /></p>
</div>
<p><strong>Liens utiles:</strong></p>
<ul>
<li>Documentation officielle de <code>Flask</code>: <a href="https://flask.palletsprojects.com/en/1.1.x/">https://flask.palletsprojects.com/en/1.1.x/</a></li>
<li>Documentation officielle de <code>Jinja2</code>: <a href="https://jinja.palletsprojects.com/en/2.11.x/">https://jinja.palletsprojects.com/en/2.11.x/</a></li>
<li>Documentation officielle de <code>Werkzeug</code> : <a href="https://werkzeug.palletsprojects.com/en/0.16.x/">https://werkzeug.palletsprojects.com/en/0.16.x/</a></li>
<li>Liste de <em>plugins</em> et de ressources pour <code>Flask</code>: <a href="https://github.com/humiaozuzu/awesome-flask">https://github.com/humiaozuzu/awesome-flask</a></li>
</ul>
<h3><a class="header" href="#21-premier-pas-avec-flask---application-et-routes" id="21-premier-pas-avec-flask---application-et-routes">2.1 Premier pas avec Flask - Application et routes</a></h3>
<h4><a class="header" href="#application" id="application">Application</a></h4>
<p><u>Code :</u></p>
<pre><code class="language-python">from flask import Flask

app = Flask(__name__)

@app.route(&quot;/route1&quot;)
def root():
    return &quot;Hello from Flask!&quot;
</code></pre>
<p><span class="tryit">Pour tester</span> : <a href="http://mthh.pythonanywhere.com/route1">http://mthh.pythonanywhere.com/route1</a></p>
<p><u>Explications :</u></p>
<ul>
<li><code>app</code> désigne une application Flask;</li>
<li>la fonction <code>root</code> est appelée une <strong>vue</strong>. Elle retourne une chaîne de caractères, qui sera le contenu de la réponse. Par défaut, le statut de la réponse est 200, et le type de contenu est HTML, encodé en UTF-8;</li>
<li>la ligne qui précède la fonction <code>root</code> est un <strong><a href="https://www.python.org/dev/peps/pep-0318/">décorateur</a></strong>, il sert ici à spécifier l’URL pour laquelle cette vue doit être utilisée (sa <em><strong>route</strong></em>). Ce décorateur est une méthode de l'objet <code>app</code>, l'application Flask, créée au-dessus, dans laquelle s'inscrit cette route.</li>
</ul>
<h4><a class="header" href="#routes" id="routes">Routes</a></h4>
<p>En développement Web, on appelle <strong>route</strong> une URL ou un ensemble d’URLs conduisant à l’exécution d’une fonction donnée.</p>
<p>Dans Flask, les routes sont déclarées via le décorateur <code>@app.route</code>, comme dans l’exemple ci-dessus.
Une route peut être paramétrée, auquel cas le paramêtre sera passé à la fonction vue :</p>
<pre><code class="language-python">@app.route(&quot;/hello/&lt;name&gt;&quot;)
def hello(name):
    return &quot;Hello {}&quot;.format(name)
</code></pre>
<p><span class="tryit">Pour tester</span> : <a href="http://mthh.pythonanywhere.com/hello/John">http://mthh.pythonanywhere.com/hello/John</a></p>
<p>Les exemples ci-dessus vous permettent de personnaliser la réponse en fonction de la demande de l'utilisateur ou de faire effectuer des calculs coté serveur en bénéficiant de la puissance et de l'étendue des fonctionnalités offertes par python et son écosystème.</p>
<ul>
<li>Il est également possible de spécifier plusieurs paramètres lors de la définition d'une route en utilisant la forme <code>/hello/&lt;a&gt;/&lt;b&gt;</code> :</li>
</ul>
<pre><code class="language-python">@app.route(&quot;/add/&lt;a&gt;/&lt;b&gt;&quot;)
def add(a, b):
    return &quot;Result: {}&quot;.format(int(a) + int(b))
</code></pre>
<p><span class="tryit">Pour tester</span> : <a href="http://mthh.pythonanywhere.com/add/3/12">http://mthh.pythonanywhere.com/add/3/12</a></p>
<ul>
<li>Il est possible de spécifier le type attendu pour les paramètres de la route ; s'ils ne sont pas satisfaits, une réponse de type <code>404 - NOT FOUND</code> sera renvoyé par défaut :</li>
</ul>
<pre><code class="language-python">@app.route(&quot;/add/&lt;int:a&gt;/&lt;int:b&gt;&quot;)
def add(a, b):
    return &quot;Result: {}&quot;.format(a + b)
</code></pre>
<p><span class="tryit">Pour tester</span> : <a href="http://mthh.pythonanywhere.com/add/12/abc">http://mthh.pythonanywhere.com/add/12/abc</a></p>
<p>Un réponse <code>404 - NOT FOUND</code> sera également renvoyée si vous essayer d'accéder à une route qui n'est pas définie (ici <code>abdef</code>) :</p>
<p><span class="tryit">Pour tester</span> : <a href="http://mthh.pythonanywhere.com/abdef">http://mthh.pythonanywhere.com/abdef</a></p>
<ul>
<li>Par commoditée il est également possible de spécifier plusieurs routes conduisant à l'exécution d'une fonction :</li>
</ul>
<pre><code class="language-python">@app.route(&quot;/greetings&quot;)
@app.route(&quot;/greetings/&lt;name&gt;&quot;)
def greetings(name=None):
    return &quot;Hello {} !&quot;.format(name or 'world')
</code></pre>
<p><span class="tryit">Pour tester</span> : <a href="http://mthh.pythonanywhere.com/greetings">http://mthh.pythonanywhere.com/greetings</a>
<br>
<span class="tryit">Pour tester</span> : <a href="http://mthh.pythonanywhere.com/greetings/Paul">http://mthh.pythonanywhere.com/greetings/Paul</a></p>
<h4><a class="header" href="#méthodes-http" id="méthodes-http">Méthodes HTTP</a></h4>
<p>Lors de la création d'une route, il est possible de spécifier la ou les méthodes par laquelle elle est accessible. Dans les exemples précédents, comme aucune méthode n'était spécifiée explicitement, il s'agissait de la méthode <strong>GET</strong>. Ainsi notre première fonction aurait pu être écrite de la manière qui suit :</p>
<pre><code class="language-python">@app.route(&quot;/&quot;, methods=['GET'])
def root():
    return &quot;Hello from Flask!&quot;
</code></pre>
<p>Une route qui accepte seulement une méthode <strong>POST</strong> sera donc déclarée de la manière suivante :</p>
<pre><code class="language-python">@app.route('/valid-form', methods=['POST'])
</code></pre>
<p>Il pourra parfois être nécessaire de créer des routes qui acceptent les deux méthodes. Prenons l'exemple du code ci-dessous. La route <code>/update</code> est créée pour accepter les méthodes <strong>GET</strong> et <strong>POST</strong> :</p>
<pre><code class="language-python">from flask import request, render_template

@app.route('/update', methods=['GET', 'POST'])
def example():
    if request.method == 'GET':
        return render_template('update.html')
    elif request.method == 'POST':
        # traitement des données envoyées ...
        return 'Entry updated' !

</code></pre>
<ul>
<li>S'il s'agit d'une requête de type <strong>GET</strong>, la page qui correspond au <em>template</em> <code>update.html</code> sera retournée au client <em>(on s'imagine qu'elle contient notamment un formulaire permettant de mettre à jour une entrée dans la BD)</em>.</li>
<li>S'il s'agit d'une requête de type <strong>POST</strong>, les données envoyées sont traitées pour mettre à jour l'entrée <em>(cette action correspond à la validation et à l'envoi, par le client, du formulaire contenu dans la page auquel il a accedé précédement par la route <code>/update</code>)</em> :</li>
</ul>
<h3><a class="header" href="#22-templates" id="22-templates">2.2 <em>Templates</em></a></h3>
<p><strong><code>Flask</code></strong> dispose d'un mécanisme qui permet d'utiliser un <strong>modèle</strong> <em>(template)</em> de document dont certaines parties seront remplacées dynamiquement à l'exécution, avant d'être envoyé au client.</p>
<p>Les exemples présentés jusqu'ici ne renvoient que des chaînes de caractères. Comme indiqué plus haut, il s'agit en réalité de contenu HTML ; vous pouvez ainsi écrire des routes renvoyant du contenu HTML correctement formatté et généré de manière dynamique:</p>
<pre><code class="language-python">from datetime import date

@app.route(&quot;/pretty-add/&lt;int:a&gt;/&lt;int:b&gt;&quot;)
def pretty_add(a, b):
    current_date = date.today().isoformat()
    result = a + b
    return &quot;&quot;&quot;
    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
      &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot; /&gt;
        &lt;title&gt;Addition result page&lt;/title&gt;
      &lt;/head&gt;
      &lt;body style=&quot;text-align:center;&quot;&gt;
        &lt;h1&gt;Result page&lt;/h1&gt;
        &lt;p&gt;{} + {} = &lt;strong&gt;{}&lt;/strong&gt;&lt;/p&gt;
        &lt;hr/&gt;
        &lt;p&gt;&lt;em&gt;Computed on {}&lt;/em&gt;&lt;/p&gt;
      &lt;/body&gt;
    &lt;/html&gt;&quot;&quot;&quot;.format(a, b, result, current_date)
</code></pre>
<p><span class="tryit">Pour tester</span> : <a href="http://mthh.pythonanywhere.com/pretty-add/12/20">http://mthh.pythonanywhere.com/pretty-add/12/20</a></p>
<p>Si cette méthode est utilisable, elle va toutefois vite rendre votre code difficilement compréhensible et elle ne facilite pas la réutilisation de morceau de code qui pourraient l'être.</p>
<p>C'est ici que l'intérêt du <strong>moteur de <em>templates</em></strong> rentre en jeu. Ce dernier va permettre de stocker dans des fichiers séparés le <strong>modèle</strong> de nos pages HTML. Lors de l'exécution (avec la fonction <code>render_template</code> présentée ensuite), le modèle va être complété avec les paramètres fournis pour produire un document HTML utilisable par le client.</p>
<h4><a class="header" href="#syntaxe-utilisée-par-jinja2" id="syntaxe-utilisée-par-jinja2">Syntaxe utilisée par <code>Jinja2</code></a></h4>
<p>Reprenons l'exemple de notre route <code>pretty-add</code> définit ci-dessus ; il est possible de définir (dans un fichier <code>template/pretty-add.html</code> par exemple) le <em>template</em> suivant:</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;title&gt;Addition result page&lt;/title&gt;
  &lt;/head&gt;
  &lt;body style=&quot;text-align:center;&quot;&gt;
    &lt;h1&gt;Result page&lt;/h1&gt;
    &lt;p&gt;{{ a }} + {{ b }} = &lt;strong&gt;{{ result }}&lt;/strong&gt;&lt;/p&gt;
    &lt;hr/&gt;
    &lt;p&gt;&lt;em&gt;Computed on {{ current_date }}&lt;/em&gt;&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>... et de réécrire la fonction de la manière suivante :</p>
<pre><code class="language-python">from Flask import render_template

@app.route(&quot;/pretty-add/&lt;int:a&gt;/&lt;int:b&gt;&quot;)
def pretty_add(a, b):
    date_now = date.today().isoformat()
    result = a + b
    return render_template('pretty-add.html',
                           a=a,
                           b=b,
                           result=result,
                           current_date=date_now)
</code></pre>
<p>Dans cet exemple nous avons utilisé:</p>
<ul>
<li>des <strong>expressions</strong>, délimitées par les symboles <code>{{ ... }}</code> ; elles peuvent contenir des expressions Python et ici, lorsqu'on écrit <code>{{ result }}</code> on cherche donc à utiliser le contenu de la variable <code>result</code> pour l'afficher dans la page HTML qui sera renvoyée.</li>
</ul>
<p>D'autres constructions peuvent être utilisées:</p>
<ul>
<li>des <strong>déclarations</strong> <em>(statements)</em>, délimités avec les symboles <code>{% ... %}</code> (conditions, boucles, etc.),</li>
<li>des <strong>commentaires</strong>, délimités avec les symboles <code>{# ... #}</code>.</li>
</ul>
<blockquote>
<p><strong>Remarque:</strong> La fonction <code>render_template</code> accepte les variables attendues par le <em>template</em> (son premier argument) en tant qu'arguments optionnels nommés : on utilise le nom de la variable attendue dans le <em>template</em> comme clé et le nom de la variable dans le code actuel comme valeur (<code>current_date=date_now</code> dans l'exemple précédent).</p>
</blockquote>
<h4><a class="header" href="#exemple-avec-une-boucle" id="exemple-avec-une-boucle">Exemple avec une boucle</a></h4>
<p>Il va ainsi être possible d'utiliser, dans les <em>templates</em> des déclarations Python complexes ainsi que différents éléments utilisés habituellement pour le contrôle du flux d'exécution du programme. Regardez le code de ce <em>template</em> :</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;title&gt;My Webpage&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;ul id=&quot;navigation&quot;&gt;
    {% for item in navigation %}
        &lt;li&gt;&lt;a href=&quot;{{ item['href'] }}&quot;&gt;{{ item['caption'] }}&lt;/a&gt;&lt;/li&gt;
    {% endfor %}
    &lt;/ul&gt;

    &lt;h1&gt;My Webpage&lt;/h1&gt;
    &lt;p&gt;Hello {{ name }}&lt;/p&gt;

    {#
      A multi
          -line
        comment
    #}
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><u>Explications :</u></p>
<ul>
<li>La variable <code>navigation</code> est ici une <code>list</code> de <code>dict</code>, de la forme
<pre><code class="language-python">navigation = [
    {&quot;href&quot;: &quot;index.html&quot;, &quot;caption&quot;: &quot;Accueil&quot;},
    {&quot;href&quot;: &quot;partenaires.html&quot;, &quot;caption&quot;: &quot;Partenaires&quot;}
]
</code></pre>
il est possible d'utiliser la déclaration <strong><code>{% for item in navigation %}</code></strong> qui a le même effet qu'une boucle utilisant <code>for</code> en Python - la syntaxe utilisée ici nécessite toutefois de fermer le bloc correspondant à cette boucle avec la déclaration <strong><code>{% endfor %}</code></strong>.</li>
<li>La variable <code>name</code> est de type <code>str</code> et on l'affiche telle-quelle.</li>
<li>La dernier bloc <code>{# ... #}</code> correspond à un commentaire ; comme dans les autres langages, servez-vous en si nécessaire !</li>
<li>Les variables attendues (ici <code>navigation</code> et <code>name</code>) dans le <em>template</em> sont à donner en arguments optionnels et nommés de la fonction <code>render_template</code>.</li>
</ul>
<h4><a class="header" href="#réutilisation-de-templates" id="réutilisation-de-templates">Réutilisation de <em>templates</em></a></h4>
<p>Reprenons l'exemple des pages que nous avons créées dans les TP précédents : elles contenaient une barre de navigation et un <em>footer</em> qui avaient tous deux vocation à être les mêmes pour chacune des pages du site.</p>
<p>Grâce au <strong>mécanisme permettant d'inclure</strong> des <em>templates</em>, nous allons par exemple pouvoir définir dans des fichiers séparés les éléments réutilisables de notre site, pour les inclure depuis le <em>template</em> contenant le contenu principal de la page :</p>
<pre><code class="language-html">{% include 'header.html' %}
    Contenu principal de la page ici...
{% include 'footer.html' %}
</code></pre>
<p>Les <em>templates</em> appelés de cette manière ont accès aux mêmes variables que le <em>template</em> qui les a inclus.</p>
<h2><a class="header" href="#3---mise-en-pratique--exercice-1--inscription-à-pythonanywhere-et-démarrage-dun-projet-flask" id="3---mise-en-pratique--exercice-1--inscription-à-pythonanywhere-et-démarrage-dun-projet-flask">3 - Mise en pratique 🚀 Exercice 1 🚀 Inscription à PythonAnywhere et démarrage d'un projet <code>Flask</code></a></h2>
<h3><a class="header" href="#31-inscription-à-pythonanywhere" id="31-inscription-à-pythonanywhere">3.1 Inscription à PythonAnywhere</a></h3>
<p>L'inscription se passe à l'URL suivante : <a href="https://www.pythonanywhere.com/registration/register/beginner/">https://www.pythonanywhere.com/registration/register/beginner/</a>.</p>
<p>Cette plateforme va vous permettre d'éxecuter du code Python sur un serveur distant. Cette solution peut être utile si vous voulez vous libérer des contraintes liées à la plateforme sur laquelle vous travaillez (système d'exploitation, droits administrateurs, etc.).</p>
<p>Dans notre cas, elle va être utile car elle permet d'héberger une application Web (créee avec <code>Flask</code> mais aussi avec <code>Web2py</code> ou <code>Django</code>) et d'y accéder à une URL de la forme <strong><code>http://{pseudonyme}.pythonanywhere.com</code></strong>.</p>
<p>Suivez les indications suivantes pour y créer une application <code>Flask</code> vide.</p>
<ul>
<li>Après vous être enregistré et loggé sur la plateforme, cliquez sur le bouton <strong>&quot;Web&quot;</strong> :</li>
</ul>
<p><img src="img/pa1.png" alt="" /></p>
<ul>
<li>Cliquez sur le bouton &quot;Add a new web app&quot; :</li>
</ul>
<p><img src="img/pa2.png" alt="" /></p>
<ul>
<li>Une fenetre s'ouvre, cliquez sur &quot;next&quot; :</li>
</ul>
<p><img src="img/pa3.png" alt="" /></p>
<ul>
<li>Choisissez d'utiliser le <em>framework</em> <strong>Flask</strong> :</li>
</ul>
<p><img src="img/pa4.png" alt="" /></p>
<ul>
<li>Sélectionnez la version de Python avec laquelle vous avez l'habitude de travailler :</li>
</ul>
<p><img src="img/pa5.png" alt="" /></p>
<ul>
<li>Ne modifiez pas le chemin du fichier <code>flask_app.py</code> et cliquez sur &quot;next&quot; :</li>
</ul>
<p><img src="img/pa6.png" alt="" /></p>
<ul>
<li>L'application est créée et accessible à l'URL <strong><code>https://{pseudonyme}.pythonanywhere.com</code></strong>. Cliquez sur le bouton &quot;Files&quot; pour éditer le code de votre serveur :</li>
</ul>
<p><img src="img/pa7.png" alt="" /></p>
<ul>
<li>Naviguez dans l'arborescence jusqu'à trouver ce fichier. Cliquez pour l'ouvrir :</li>
</ul>
<p><img src="img/pa8.png" alt="" /></p>
<ul>
<li>Vous pouvez l'éditer (et le sauvegarder en faisant <kbd>ctrl</kbd> +  <kbd>s</kbd> par exemple).</li>
</ul>
<p><img src="img/pa9.png" alt="" /></p>
<ul>
<li>Après l'avoir édité, vous devez recharger votre <em>web app</em>. Cela peut se faire directement depuis la page de l'éditeur de code (image ci-dessous) ou depuis la section <strong>Web</strong> de votre espace <em>PythonAnywhere</em>.</li>
</ul>
<p><img src="img/pa10.png" alt="" /></p>
<p><strong>🚀 Rechargez votre application et vérifiez que tout fonctionne correctement</strong>, l'URL à utiliser est <strong><code>https://{pseudonyme}.pythonanywhere.com</code></strong>.</p>
<p><img src="img/pa10.png" alt="" /></p>
<blockquote>
<p><strong>Remarque:</strong> Vous pouvez consulter les logs d'erreur de l'application à l'adresse <small>https://www.pythonanywhere.com/user/{pseudonyme}/files/var/log/{pseudonyme}.pythonanywhere.com.error.log</small></p>
</blockquote>
<h3><a class="header" href="#32-premiers-pas-avec-flask-et-structure-du-projet" id="32-premiers-pas-avec-flask-et-structure-du-projet">3.2 Premiers pas avec Flask et structure du projet</a></h3>
<p>Dans le dossier <code>mysite</code> vous disposez dorénavant d'un fichier <code>flask_app.py</code>.</p>
<p>Il est également nécessaire de créer un dossier que vous nommerez <code>templates</code>. Dans le dossier <code>templates</code> vous décompresserez les données du jour : <a href="data/TP5.zip">données TP5</a> - il s'agit de 2 fichiers de <em>templates</em> utilisant <code>Jinja2</code>.</p>
<p>Vous devez donc avoir la structure de projet suivante:</p>
<pre><code>mysite
├── templates           &lt;--- Le dossier contenant nos modèles de documents HTML
│   ├── index.html
│   └── header.html     
└── flask_app.py        &lt;--- Le code de l'appli Web à réaliser
</code></pre>
<h2><a class="header" href="#4-mise-en-pratique--exercice-2--modification-de-lapplication" id="4-mise-en-pratique--exercice-2--modification-de-lapplication">4. Mise en pratique 🚀 Exercice 2 🚀 Modification de l'application</a></h2>
<ol>
<li>Ajoutez le morceau de code suivant dans le fichier <code>flask_app.py</code>, il s'agit des premiers avis fictifs à utiliser avant que nous ne constituions la base de données dans le TP suivant:</li>
</ol>
<pre><code class="language-python">entries = [
 {&quot;id_review&quot;: 1, &quot;id_batiment&quot;: 26, &quot;rate&quot;: 5, &quot;comment&quot;: &quot;Mattis molestie a iaculis at erat pellentesque adipiscing commodo.&quot;},
 {&quot;id_review&quot;: 2, &quot;id_batiment&quot;: 18, &quot;rate&quot;: 4, &quot;comment&quot;: &quot;Amet massa vitae tortor condimentum lacinia.&quot;},
 {&quot;id_review&quot;: 3, &quot;id_batiment&quot;: 31, &quot;rate&quot;: 3, &quot;comment&quot;: &quot;Imperdiet sed euismod nisi porta lorem mollis aliquam.&quot;},
 {&quot;id_review&quot;: 4, &quot;id_batiment&quot;: 22, &quot;rate&quot;: 1, &quot;comment&quot;: &quot;Dignissim enim sit amet venenatis. Urna cursus eget nunc scelerisque.&quot;},
 {&quot;id_review&quot;: 5, &quot;id_batiment&quot;: 26, &quot;rate&quot;: 4, &quot;comment&quot;: &quot;A pellentesque sit amet porttitor eget dolor morbi.&quot;},
 {&quot;id_review&quot;: 6, &quot;id_batiment&quot;: 18, &quot;rate&quot;: 3, &quot;comment&quot;: &quot;Consequat nisl vel pretium lectus quam id leo in vitae.&quot;},
]
</code></pre>
<ol start="2">
<li>
<p>Vous devez modifier la route existante afin que la route <code>/</code> et la route <code>/index</code> appellent toutes deux la fonction <code>root</code>. Cette fonction devra utiliser le <em>template</em> <code>index.html</code>. Vous devrez également ouvrir ce fichier de <em>template</em> pour voir les variables qui sont attendues et que vous devrez donner en argument à la fonction <code>render_template</code>.</p>
</li>
<li>
<p>Vous devez créer une nouvelle route du nom de <code>/review</code> doit accepter un argument de type <code>int</code>, l'identifiant de l'avis que l'utilisateur souhaite obtenir. Vous devez également écrire la fonction correspondante : pour un identifiant donné, elle doit renvoyer la note et l'avis sous forme d'un bloc de texte formatté de manière simple <em>(par exemple: &quot;Note X - Commentaire : xxxxx&quot;)</em>. Si aucun avis ne correspond à l'identifiant, elle retourne une chaîne de caractères vide.</p>
</li>
<li>
<p>Dans votre navigateur, vérifiez les points suivants avant de passer à l'exercice qui suit:</p>
</li>
</ol>
<ul>
<li>les routes <code>/</code> et <code>/index</code> fonctionnent et renvoient le même contenu (cf. image).</li>
<li>la route <code>/review</code> retourne une erreur <code>404 - NOT FOUND</code> alors que la route <code>/review/2</code> retourne bien le contenu de l'avis correspondant.</li>
</ul>
<div class="center">
<p><img src="img/tp5_ex2_index.png" alt="Capture d'écran de la route &quot;/index&quot;" />
<img src="img/tp5_ex2_review.png" alt="Capture d'écran de la route &quot;/review/2&quot;" /></p>
</div>
<h2><a class="header" href="#5-mise-en-pratique--exercice-3--utilisation-des-templates" id="5-mise-en-pratique--exercice-3--utilisation-des-templates">5. Mise en pratique 🚀 Exercice 3 🚀 Utilisation des <em>templates</em></a></h2>
<ol>
<li>En plus d'afficher le nombre d'avis présents dans la base, nous souhaitons afficher la totalité de la liste des avis sur la page d'accueil. Vous devez modifier le <em>template</em> <code>index.html</code> pour créer dynamiquement une liste HTML où chaque item correspondra à un avis de la <code>list</code> Python appellée <code>entries</code>. Un exemple similaire a été donné <a href="5-serveur-client1.html#exemple-avec-une-boucle">ici</a>.</li>
</ol>
<div class="center">
<p><img src="img/tp5_ex3_resultat.png" alt="Capture d'écran de la route &quot;/index&quot;" /></p>
</div>
<h1><a class="header" href="#interactions-serveurclient-formulaires-et-bd" id="interactions-serveurclient-formulaires-et-bd">Interactions serveur/client, formulaires et BD</a></h1>
<h2><a class="header" href="#1-préambule-1" id="1-préambule-1">1. Préambule</a></h2>
<p>Les objectifs de ce TP sont:</p>
<ul>
<li>de connecter l'application <strong><code>Flask</code></strong> à une base de données <strong>SQLite</strong>.</li>
<li>de créer un formulaire permettant d'ajouter une nouvelle entrée à cette base de données.</li>
</ul>
<p>Pour mobiliser les données de cette BD, nous n'aurons pas à saisir de requêtes SQL ; en effet nous allons utiliser un <strong>ORM</strong> (un <em>Object Relational Mapping</em> / un <em>Mapping</em> objet-relationnel) du nom de <a href="https://www.sqlalchemy.org/">SQLAlchemy</a>.</p>
<p><em>Il n'y a pas de code à saisir avant la fin cette partie où vous recontrerez à nouveau le symbole '🚀'.</em></p>
<h3><a class="header" href="#installation-et-création-de-la-base-de-données" id="installation-et-création-de-la-base-de-données">Installation et création de la base de données</a></h3>
<p>En utilisant <em>PythonAnywhere</em> cette bibliothèque est déjà installée, vous n'avez rien de particulier à faire.</p>
<p>Sinon il est possible d'installer SQLAlchemy et l'extension <code>flask_sqlalchemy</code> que nous allons utiliser avec Flask comme les autres packages Python. Si vous avez utilisé un environnement virtuel, veillez à ce qu'il soit activé avant d'effectuer la commande suivante :</p>
<pre><code class="language-bash"> pip install flask_sqlalchemy
</code></pre>
<h3><a class="header" href="#localisation-de-la-base-de-données" id="localisation-de-la-base-de-données">Localisation de la base de données</a></h3>
<p>Il est nécessaire d'indiquer à l'ORM où se situe la BD à laquelle se connecter, en l'occurence, dans le même dossier que le code de l'application, avec le nom <code>app.db</code>:</p>
<pre><code class="language-python">from flask import Flask
from flask_sqlalchemy import SQLAlchemy

# On stocke le chemin absolu du dossier qui contient le fichier
# qui s'éxecute :
basedir = os.path.abspath(os.path.dirname(__file__))

app = Flask(__name__)

# app.config est un dictionnaire :
app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///' + os.path.join(basedir, 'app.db')
db = SQLAlchemy(app)
</code></pre>
<h3><a class="header" href="#créer-un-modèle-correspondant-au-type-dentrées-que-nous-souhaitons" id="créer-un-modèle-correspondant-au-type-dentrées-que-nous-souhaitons">Créer un modèle correspondant au type d'entrées que nous souhaitons</a></h3>
<p>Nous souhaitons stocker nos notes et avis dans une table <code>Review</code>.
Celle-ci va pour l'instant n'avoir que trois colonnes :</p>
<ul>
<li><code>id_review</code> (l'identifiant unique de l'avis),</li>
<li><code>rate</code> (une note, de 1 à 5, où 5 représente la plus forte note),</li>
<li><code>comment</code> (un champ de texte libre, limité à 255 caractères mais qui peut être laissé vide).</li>
</ul>
<pre><code class="language-python">class Review(db.Model):
    id_review = db.Column(db.Integer, primary_key=True)
    rate = db.Column(db.Integer, nullable=False)
    comment = db.Column(db.String(255))
</code></pre>
<p>Ce code va permettre de modifier la base de données sans écrire de requêtes SQL mais en manipulant des objets Python.<br />
Notez que nous avons spécifié le type attendu (<code>db.Integer</code>, <code>db.String</code>, ..) pour chaque colonne (<code>db.Column</code>) de la table (ici <code>Review</code>) que vous allons manipuler à travers ce modèle.</p>
<h3><a class="header" href="#utiliser-le-modèle-pour-communiquer-avec-la-bd-dans-un-style-orienté-objet-1" id="utiliser-le-modèle-pour-communiquer-avec-la-bd-dans-un-style-orienté-objet-1">Utiliser le modèle pour communiquer avec la BD dans un style orienté-objet (1)</a></h3>
<p>On pourra par exemple créer une <em>review</em> et l'ajouter à la base de données avec le code suivant :</p>
<pre><code class="language-python">new_review = Review(
    rate=5,
    comment=&quot;Mattis molestie a iaculis at erat pellentesque adipiscing commodo.&quot;,
)

db.session.add(new_review)
db.session.commit()
</code></pre>
<p>Il n'est pas nécessaire d'indiquer l'identifiant de la <em>review</em> à créer : comme il s'agit d'une clé primaire, elle sera renseignée automatiquement lors de l'appel de la méthode <code>db.session.commit()</code> en fonction des entrées déjà présentes dans la table.</p>
<h3><a class="header" href="#utiliser-le-modèle-pour-communiquer-avec-la-bd-dans-un-style-orienté-objet-2" id="utiliser-le-modèle-pour-communiquer-avec-la-bd-dans-un-style-orienté-objet-2">Utiliser le modèle pour communiquer avec la BD dans un style orienté-objet (2)</a></h3>
<p>C'est également avec ce modèle <code>Review</code> qu'on pourra faire des requêtes sur la table correspondante :</p>
<pre><code class="language-python"># Renvoie toute les entrées de la table `Review`
all_review = Review.query.all()

# Effectue une requete sur la table `Review`
# en utilisant la clé primaire (ici id_review):
review2 = Review.query.get(2)
</code></pre>
<p>Il est possible d'accéder aux valeurs qui correspondent à chacun des champs de la table <code>Review</code> pour une entrée donnée :</p>
<pre><code class="language-python">print(review2.rate) # --&gt; 4
print(review2.comment) # --&gt; &quot;Amet massa vitae tortor condimentum lacinia.&quot;
</code></pre>
<h3><a class="header" href="#putting-it-all-together" id="putting-it-all-together">Putting it all together...</a></h3>
<p>Ce code correspond à l'adaptation du code obtenu à la fin du TP précédent, en se connectant cette fois à une base de données avec SQLAlchemy comme présenté ci-dessus.</p>
<p><strong>🚀 Prenez-en connaissance attentivement et copiez-le dans le fichier <code>flask_app.py</code> dans votre espace <em>PythonAnywhere</em></strong>.</p>
<p><strong>🚀 Récupérez le fichier <a href="data/TP6/app.db"><code>app.db</code></a>, il s'agit de votre base de données SQLite. Copiez le dans votre espace <em>PythonAnywhere</em> dans le même dossier que le fichier <code>flask_app.py</code></strong>.</p>
<pre><code class="language-python">from flask import Flask, render_template, request, url_for, redirect
from flask_sqlalchemy import SQLAlchemy
from datetime import date
import os

basedir = os.path.abspath(os.path.dirname(__file__))

app = Flask(__name__)
app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///' + os.path.join(basedir, 'app.db')
db = SQLAlchemy(app)


class Review(db.Model):
    id_review = db.Column(db.Integer, primary_key=True)
    rate = db.Column(db.Integer, nullable=False)
    comment = db.Column(db.String(255))


@app.route(&quot;/&quot;)
@app.route('/index')
def root():
    all_reviews = Review.query.all()
    return render_template('index.html',
                            list_reviews=all_reviews,
                            nb_reviews = len(all_reviews),
                            current_date=date.today().isoformat())

@app.route('/review/&lt;int:ident&gt;')
def review(ident):
    the_review = Review.query.get(ident)
    if the_review:
        return 'Rate: {} - Comment: {}'.format(the_review.rate, the_review.comment)
    else:
        return ''

# Ce morceau de code sert à créer la base de données avec les memes entrées
# que celles utilisées dans le TP précédent.
# Il sert à créer le fichier `app.db` que je vous ai fournis,
# il ne sera donc pas éxécuté.
# Pour l'exécuter, il faut saisir `flask init_db` dans le dossier avant le 1er
# démarage de l'application, dans le dossier où vous vous apprêtez
# à saisir `flask run` pour démarrer l'application
@app.cli.command(&quot;init_db&quot;)
def init_db():
    db.create_all()
    entries = [
     {&quot;id_review&quot;: 1, &quot;rate&quot;: 5, &quot;comment&quot;: &quot;Mattis molestie a iaculis at erat pellentesque adipiscing commodo.&quot;},
     {&quot;id_review&quot;: 2, &quot;rate&quot;: 4, &quot;comment&quot;: &quot;Amet massa vitae tortor condimentum lacinia.&quot;},
     {&quot;id_review&quot;: 3, &quot;rate&quot;: 3, &quot;comment&quot;: &quot;Imperdiet sed euismod nisi porta lorem mollis aliquam.&quot;},
     {&quot;id_review&quot;: 4, &quot;rate&quot;: 1, &quot;comment&quot;: &quot;Dignissim enim sit amet venenatis. Urna cursus eget nunc scelerisque.&quot;},
     {&quot;id_review&quot;: 5, &quot;rate&quot;: 4, &quot;comment&quot;: &quot;A pellentesque sit amet porttitor eget dolor morbi.&quot;},
     {&quot;id_review&quot;: 6, &quot;rate&quot;: 3, &quot;comment&quot;: &quot;Consequat nisl vel pretium lectus quam id leo in vitae.&quot;},
    ]

    for e in entries:
        a = Review(id_review = e['id_review'], rate = e['rate'], comment = e['comment'])
        db.session.add(a)
    db.session.commit()
</code></pre>
<h2><a class="header" href="#2-création-dun-formulaire-html-et-traitement-coté-serveur" id="2-création-dun-formulaire-html-et-traitement-coté-serveur">2. Création d'un formulaire HTML et traitement coté serveur</a></h2>
<p>Notre page d'accueil ne va plus se contenter de lister les avis déjà présents ; il va désormais être possible d'en ajouter de nouveaux grâce à un formulaire HTML.</p>
<p>Ce formulaire HTML sera remplit par le client, dans son navigateur Web puis envoyé (méthode HTTP <strong>POST</strong>) au serveur qui l'ajoutera à la base de données.</p>
<pre><code class="language-html">  &lt;!-- le début
              de votre fichier ici
    --&gt;
    &lt;div class=&quot;row&quot;&gt;                 &lt;!-- On utilise les lignes/colonnes Bootstrap ... --&gt;
      &lt;div class=&quot;col-md-4 mx-auto&quot;&gt;  &lt;!-- .. pour obtenir rapidement une disposition agréable --&gt;

        &lt;h3&gt;Ajout d'un nouvel avis&lt;/h3&gt;

        &lt;form action=&quot;{{ request.path }}&quot; method=&quot;post&quot;&gt;
          &lt;label for=&quot;rate&quot;&gt;Rate: &lt;/label&gt;
          &lt;output name=&quot;rateOutput&quot; id=&quot;ageOutputId&quot;&gt;5&lt;/output&gt;&lt;br&gt;&lt;br&gt;
          &lt;input type=&quot;range&quot; name=&quot;rate&quot; id=&quot;rateInput&quot; min=&quot;1&quot; max=&quot;5&quot; value=&quot;5&quot; class=&quot;form-control&quot; oninput=&quot;rateOutput.value = rateInput.value&quot;/&gt;
          &lt;label for=&quot;comment&quot;&gt;Comment&lt;/label&gt;&lt;br&gt;
          &lt;textarea name=&quot;comment&quot; maxlength=&quot;255&quot; placeholder=&quot;Laissez votre avis ici !&quot; class=&quot;form-control&quot;&gt;&lt;/textarea&gt;&lt;br&gt;
          &lt;input type=&quot;submit&quot; value=&quot;Envoyer&quot; class=&quot;btn btn-primary&quot; /&gt;
        &lt;/form&gt;

      &lt;/div&gt;
    &lt;/div&gt;
&lt;!-- le reste de votre fichier ici, normalement :

  &lt;hr /&gt;
  &lt;p&gt;Page générée le {{ current_date }}&lt;/p&gt;
&lt;/div&gt;

...etc..  --&gt;
</code></pre>
<p><u>Explications :</u></p>
<ul>
<li>Ce formulaire, définit par l'élément HTML <code>&lt;form&gt; &lt;/form&gt;</code> va être envoyé au chemin définit dans l'attribut <code>action</code> (ici la route actuelle à laquelle la page a été appelée, en utilisant le mécanisme de <em>template</em> vu précédemment), avec la méthode HTTP <code>post</code>.</li>
<li>Il contient un champ <code>&lt;input&gt;</code> de type <code>range</code> : c'est un <em>slider</em> numérique dont on peut définir les valeurs min et max attendues ; il va servir à renseigner la note, de 1 à 5, donnée par l'utilisateur.</li>
<li>Il contient un champ <code>&lt;textarea&gt;</code> : c'est un zone de saisie de texte qui peut s'étendre sur plusieurs lignes.</li>
<li>Il contient un élément <code>&lt;input&gt;</code> de type <code>submit</code> : celà créé un bouton qui a pour vocation à appeler l'action définit pour ce formulaire (cf. 1er point de cette liste). L'attribut <code>class</code> qu'il utilise lui permet d'utiliser un style de Bootstrap.</li>
</ul>
<p><strong>🚀 Ajoutez le code de ce formulaire au fichier <code>templates/index.html</code></strong>.</p>
<p>Lorsque l'utilisateur clique sur &quot;Envoyer&quot;, le formulaire est donc transmis au serveur avec la méthode <strong>POST</strong>.</p>
<p>Il est donc nécessaire d'adapter le code de notre application <code>Flask</code> pour gérer ce type de requête. Nous allons modifier le code de la route qui génère actuellement cette page:</p>
<pre><code class="language-python">from flask import request, url_for, redirect
#                 ^ À ajouter avec les autres imports


@app.route(&quot;/&quot;, methods=['GET', 'POST'])
@app.route('/index', methods=['GET', 'POST'])
def root():
    if request.method == 'GET':
        all_reviews = Review.query.all()
        return render_template('index.html',
                                list_reviews=all_reviews,
                                nb_reviews = len(all_reviews),
                                current_date=date.today().isoformat())
    elif request.method == 'POST':
        new_review = Review(
            rate=request.form['rate'],
            comment=request.form['comment'])
        db.session.add(new_review)
        db.session.commit()
        return redirect(url_for('root'))
</code></pre>
<p><u>Explications :</u></p>
<ul>
<li>Lorsqu'une requête HTTP de type <strong>GET</strong> à lieu sur cette route, l'application récupère l'ensemble des entrées de la table <code>Review</code> (avec <code>Review.query.all()</code>) puis elle appelle le <em>template</em> <code>index.html</code> en utilisant les arguments appropriées et vus précédemment.</li>
<li>Lorsqu'une requête HTTP de type <strong>POST</strong> à lieu sur cette route, l'application:
<ul>
<li>lit le formulaire (<code>request.form</code>) en accédant à la valeur des champs avec la notation entre crochets (<code>request.form['rate']</code> et <code>request.form['comment']</code>)</li>
<li>créée un objet correspondant à une nouvelle entrée (<code>new_review = Review(rate=data['rate'], comment=data['comment'])</code>)</li>
<li>ajoute cette entrée à la table <code>Review</code> avec <code>db.session.add(new_review)</code> et <code>db.session.commit()</code></li>
<li>renvoie la page actuelle (<code>redirect(url_for('root'))</code>), celà a pour effet de rafraichir la page dans le navigateur du client et de faire apparaître l'avis qu'il vient de laisser</li>
</ul>
</li>
</ul>
<p><strong>🚀 Lisez attentivement ce morceau de code, il mobilise le modèle <code>Review</code> présenté précedemment ainsi que les fonctionnalités d'ajout à la base de données.</strong></p>
<p><strong>🚀 Ajoutez-le à votre fichier <code>flask_app.py</code> en remplacement de la fonction <code>root</code> actuelle.</strong></p>
<p><strong>🚀 Après avoir sauvegardé votre code, recharger votre <em>web app</em>. Testez l'ajout de nouveaux avis grâce au formulaire qui vient d'être créé.</strong></p>
<p><img src="img/pa10.png" alt="" /></p>
<ul>
<li>Le résultat attendu est le suivant :</li>
</ul>
<p><img src="img/pa11.png" alt="" /></p>
<p><strong>🚀 Modifiez le code l'application pour ajouter un champ <code>name_reviewer</code> au modèle <code>Review</code>. Cette modification doit également se refléter dans le formulaire affiché à l'utilisateur qui doit maintenant proposer un champ &quot;Nom&quot;.<br />
Vous devrez modifier plusieurs éléments dans le fichier <code>flask_app.py</code> (le modèle, la création d'une nouvelle entrée, etc.) et dans le formulaire du fichier <code>index.html</code> (ajout d'un nouvel élément <code>&lt;input type=&quot;text&quot; /&gt;</code>, etc.).</strong></p>
<p><strong>🚀 Que se passe-t-il lors de l'utilisation de la BD avec ce nouveau modèle ?</strong></p>
<p>→ Lors de l'utilisation de ce nouveau modèle l'application génère un message d'erreur car la table qu'elle utilise dans la BD à laquelle nous sommes connectés ne comporte pas les champs nécessaires (la colonne <code>name</code> est manquante). Deux solutions sont possibles :</p>
<ul>
<li>si l'on souhaite conserver les entrées présentes, nous pouvons utiliser un outil comme <a href="https://alembic.sqlalchemy.org/en/latest/index.html">Alembic</a> qui va se charger de la <em>migration</em> de notre table</li>
<li>nous pouvons supprimer la BD SQLite et la recréer avec la fonctionnalité appropriée de notre application <code>Flask</code>.
Suivez les instructions qui suivent et qui nécessitent d'utiliser une console système :</li>
</ul>
<p><strong>🚀 Ouvrir une console <code>Bash</code> depuis la page de l'éditeur de code. Cette console s'ouvre dans le dossier contenant le fichier <code>flask_app.py</code> - c'est ici que nous souhaitons travailler.</strong></p>
<p><img src="img/pa13.png" alt="" /></p>
<p><strong>🚀 Saisir la commande qui suit :</strong>
<strong><code>rm app.db &amp;&amp; export FLASK_APP=flask_app.py &amp;&amp; flask init_db</code>.</strong></p>
<p><img src="img/pa14.png" alt="" /></p>
<p>Cette commande permet :</p>
<ul>
<li>De supprimer (<strong><code>rm</code></strong>, pour <em>remove</em>) le fichier (<strong><code>app.db</code></strong>) correspondant à votre base de données.</li>
<li>De définir la <a href="https://fr.wikipedia.org/wiki/Variable_d&#x27;environnement">variable d'environnement</a> <strong><code>FLASK_APP</code></strong> avec la valeur <strong><code>flask_app.py</code></strong> : celà sert à indiquer à l'utilitaire CLI <code>flask</code> le fichier de l'application avec lequel on souhaite travailler.</li>
<li>D'utiliser l'utilitaire CLI <strong><code>flask</code></strong> avec la commande <strong><code>init_db</code></strong> qui correspond à la commande permettant de créer et d'initialiser notre BD avec notre modèle <code>Review</code>, définit grâce au décorateur <code>@app.cli.command(&quot;init_db&quot;)</code> dans le fichier <code>flask_app.py</code>.</li>
</ul>
<p><strong>🚀 Rechargez la <em>web app</em> et tester l'ajout d'avis grâce à ce nouveau formulaire.</strong></p>
<p><img src="img/pa10.png" alt="" /></p>
<ul>
<li>Le résultat attendu est le suivant :</li>
</ul>
<div class="center">
<p><img src="img/pa12.png" alt="" /></p>
</div>
<h1><a class="header" href="#interactions-serveurclient-suite" id="interactions-serveurclient-suite">Interactions serveur/client (suite)</a></h1>
<p>Le but de ce TP est de continuer notre plateforme interactive de dépôt d'avis en lui ajoutant plusieurs fonctionnalités :</p>
<ul>
<li>les avis vont désormais avoir des coordonnées,</li>
<li>il va ainsi être possible de les localiser sur une carte,</li>
<li>et il va être possible d'utiliser la carte pour pré-remplir le formulaire.</li>
</ul>
<p><img src="img/tp7_1.png" alt="Capture d'écran de la page d'accueil du site" /></p>
<div class="center">
<p><strong>🚀 Regarder l'exemple sur le lien suivant: <a href="https://mthh.pythonanywhere.com/">https://mthh.pythonanywhere.com/</a> et relevez les nouvelles interactions qui ont été ajoutées <em>(que se passe-t-il lors d'un clic sur la carte, que se passe-t-il lors du clic sur l'un des autres éléments du menu de navigation, etc. ?)</em></strong></p>
<p><strong>Les différentes étapes de ce TP vont vous guider afin de reproduire et de personnaliser votre page d'une manière similaire.</strong></p>
<p><strong>Vous enverrez le lien de votre page à la fin du TP <em>(cet exercice n'est pas noté)</em>.</strong></p>
</div>
<h2><a class="header" href="#1-préambule-et-nouveaux-éléments" id="1-préambule-et-nouveaux-éléments">1. Préambule et nouveaux éléments</a></h2>
<h3><a class="header" href="#la-bd" id="la-bd">La BD</a></h3>
<ul>
<li>Deux nouveaux champs ont été ajoutées à notre modèle <code>Review</code>. Il est ainsi définit par le code Python suivant :</li>
</ul>
<pre><code class="language-python">class Review(db.Model):
    id_review = db.Column(db.Integer, primary_key=True)
    rate = db.Column(db.Integer, nullable=False)
    comment = db.Column(db.String(255))
    name = db.Column(db.String())
    latitude = db.Column(db.Float(precision=10), nullable=False) # &lt;- New !
    longitude = db.Column(db.Float(precision=10), nullable=False) # &lt;- New !
</code></pre>
<ul>
<li>
<p>Le code Python qui sert à générer les 5 premières entrées de la table a été mis à jour pour inclure des coordonnées, il vous est fourni plus bas.</p>
</li>
<li>
<p>L'utilisation du modèle <code>Review</code> revient donc maintenant à mobiliser la table suivante:</p>
</li>
</ul>
<table><thead><tr><th>id_review</th><th>name</th><th>comment</th><th>rate</th><th>latitude</th><th>longitude</th></tr></thead><tbody>
<tr><td>1</td><td>Cameran Duran</td><td><small>Mattis molestie a iaculis at erat pellentesque adipiscing commodo.</small></td><td>5</td><td>45.1913376954</td><td>5.7700002193</td></tr>
<tr><td>2</td><td>Nasim Erickson</td><td><small>Amet massa vitae tortor condimentum lacinia.</small></td><td>4</td><td>45.1915115994</td><td>5.7732725143</td></tr>
<tr><td>3</td><td>Guy Richardson</td><td><small>Imperdiet sed euismod nisi porta lorem mollis aliquam.</small></td><td>3</td><td>45.1922903805</td><td>5.7727360725</td></tr>
<tr><td>4</td><td>Veda Lott</td><td><small>Dignissim enim sit amet venenatis. Urna cursus eget nunc scelerisque.</small></td><td>1</td><td>45.1929812805</td><td>5.7674560725</td></tr>
<tr><td>5</td><td>Flavia Klein</td><td><small>A pellentesque sit amet porttitor eget dolor morbi.</small></td><td>4</td><td>45.1934789176</td><td>5.7725615994</td></tr>
</tbody></table>
<h3><a class="header" href="#javascript" id="javascript">Javascript</a></h3>
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Unofficial_JavaScript_logo_2.svg/200px-Unofficial_JavaScript_logo_2.svg.png" />
<p>Un langage de programmation multi-paradigme : orienté objet à prototype, impératif et fonctionnel <em>(il partage ces deux dernières caractéristiques avec Python par exemple)</em>.</p>
<p>Le langage est standardisé sous le nom d'<a href="https://fr.wikipedia.org/wiki/ECMAScript">ECMAScript</a> (c'est peut-être un terme que vous rencontrerez - notamment sous sa forme abrégée pour désigner les différentes versions du standard : <em>ES5</em>, <em>ES6</em>, etc.).</p>
<h4><a class="header" href="#leafletjs---javascript-library-for-mobile-friendly-interactive-maps" id="leafletjs---javascript-library-for-mobile-friendly-interactive-maps">Leaflet.js - <em>JavaScript library for mobile-friendly interactive maps</em></a></h4>
<p>Il s'agit d'une bibliothèque permettant de créer des cartes interactives. La bibliothèque est <em>mobile-friendly</em> par défaut et dispose de l'ensemble des fonctionnalités requise pour créer des cartes interactives personnalisées et avec vos propres données.</p>
<p><img src="img/tp7_leaflet_features.png" alt="Capture d'écran du site Web de Leaflet.js" /></p>
<p>Pour l'utiliser il est nécessaire d'inclure deux fichiers dans le document HTML correspondant :</p>
<ul>
<li>Un fichier CSS (extension <code>.css</code>) contenant des règles de styles</li>
<li>Un fichier JavaScript (extension <code>.js</code>) contenant le code source de la bibliothèque</li>
</ul>
<blockquote>
<p><strong>Remarques</strong>: D'autres bibliothèques permettent de créer des cartes interactives en JavaScript, les plus connues sont <a href="https://openlayers.org/">OpenLayers</a> et <a href="https://docs.mapbox.com/mapbox-gl-js/api/">Mapbox GL JS</a>.</p>
</blockquote>
<h4><a class="header" href="#jquery-popperjs-et-bootstrapjs" id="jquery-popperjs-et-bootstrapjs">JQuery, Popper.js et Bootstrap.js</a></h4>
<p>Ce sont les autres bibliothèques déjà importées dans notre page. Elles sont utiles pour obtenir le comportement <em>responsive</em> de la barre de navigation.</p>
<ul>
<li><a href="https://jquery.com/"><code>JQuery</code></a> est une bibliothèque très célèbre utilisée pour faciliter la création de page Web dynamiques - les principaux buts de la bibliothèque étant de faciliter le parcours et la modification du DOM, de permettre la manipulation d'évenements, d'animations et de transitions, et ce de manière <em>cross-browser</em>. Son utilisation peut être moins pertinente aujourd'hui (d'une part la plupart des fonctionnalités HTML / JS tendent à être implémentée de manière similaire entre les navigateurs et d'autre part des <em>framework</em> comme <code>React</code> ou <code>Vue.js</code> ne nécessitent pas de manipuler le DOM de la même manière). Certains aspects de JQuery peuvent être retrouvée dans des bibliothèques comme <code>d3.js</code>.</li>
<li><a href="https://popper.js.org/"><code>Popper.js</code></a> est une biliothèque qui se spécialise dans la création et le positionnement d'info-bulles et de petites fenêtres d'informations.</li>
<li><code>Bootstrap.js</code> désigne la partie JavaScript du <em>framework</em> Bootstrap ; elle utilise les deux biliothèques citées précédemment et c'est la raison pour la quelle on les a inclus.</li>
</ul>
<blockquote>
<p><strong>Liens utiles sur le JavaScript:</strong></p>
<ul>
<li>Mozilla Developpers Network - Premier pas en JavaScript : <a href="https://developer.mozilla.org/fr/docs/Learn/JavaScript/First_steps">https://developer.mozilla.org/fr/docs/Learn/JavaScript/First_steps</a></li>
<li>W3schools Javascript Tutorial : <a href="https://www.w3schools.com/js/">https://www.w3schools.com/js/</a></li>
<li>Eloquent JavaScript - 3rd edition (online, PDF, E-PUB, etc.) : <a href="https://eloquentjavascript.net/">https://eloquentjavascript.net/</a></li>
<li>Pour se faire la main en JavaScript il faut pratiquer... des <a href="https://www.w3schools.com/js/exercise_js.asp">exercices comme ceux de W3schools</a> puis des sites comme <a href="https://JavaScript30.com">JavaScript30</a> peuvent donner de bonnes occasions de pratiquer !</li>
</ul>
</blockquote>
<blockquote>
<p><strong>Liens utiles sur les fonctionnalités utilisées aujourd'hui:</strong></p>
<ul>
<li>Élément HTML <code>&lt;input&gt;</code> et ses attributs : <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input">https://developer.mozilla.org/fr/docs/Web/HTML/Element/input</a></li>
<li>Élément HTML <code>&lt;a&gt;</code> et ses attributs : <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/a">https://developer.mozilla.org/fr/docs/Web/HTML/Element/a</a></li>
<li>Élément HTML <code>&lt;fieldset&gt;</code> : <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/Fieldset">https://developer.mozilla.org/fr/docs/Web/HTML/Element/Fieldset</a></li>
<li>Documentation officielle de <code>Leaflet</code>: <a href="https://leafletjs.com/reference-1.6.0.html">https://leafletjs.com/reference-1.6.0.html</a></li>
<li>Liste de <em>plugins</em> et de ressources pour <code>Leaflet</code>: <a href="https://leafletjs.com/plugins.html">https://leafletjs.com/plugins.html</a></li>
</ul>
</blockquote>
<h2><a class="header" href="#2-découverte-des-nouveaux-morceaux-de-code" id="2-découverte-des-nouveaux-morceaux-de-code">2. Découverte des nouveaux morceaux de code</a></h2>
<p><strong>🚀 Récupérez les fichiers nécessaires à l'exercice d'aujourd'hui : <a href="data/TP7.zip">TP7</a> et ajoutez les en remplacement des fichier de l'exercice précédent dans votre espace <em>PythonAnywhere</em></strong>. Il s'agit de :</p>
<ul>
<li>
<p>la base de données SQLite (fichier <code>app.db</code>), dont la table <code>Review</code> a été mise à jour pour contenir les colonnes <code>latitude</code> et <code>longitude</code>.</p>
</li>
<li>
<p>le fichier <code>template/index.html</code> qui a été modifié pour ajouter une carte interactive (créée avec la bibliothèque Leaflet) - il n'est pas nécessaire de modifier le fichier <code>header.html</code></p>
</li>
<li>
<p>le ficher <code>flask_app.py</code> modifié de manière à inclure le nouveau modèle <code>Review</code> présenté plus haut.</p>
</li>
</ul>
<p><strong>🚀 Prenez connaissance des éléments nouveaux, notamment ceux qui ont été ajoutés au fichier <code>index.html</code>:</strong></p>
<ul>
<li>
<p>un élément HTML <code>&lt;div&gt;</code> a été ajouté avec l'identifiant <code>mymap</code></p>
</li>
<li>
<p>un quatrième fichier JavaScript a été importé (balises <code>&lt;script&gt;</code>) : il s'agit de la bibliothèque <code>Leaflet</code></p>
</li>
<li>
<p>du code JavaScript a été saisi (également entre les balises <code>&lt;script&gt;</code>) : c'est avec ces quelques lignes de codes que nous utilisons la bibliothèque <code>Leaflet</code> pour instancier un objet <code>L.map</code> (en lui indiquant l'identifiant du conteneur à utiliser pour la carte : <code>mymap</code>) et pour ajouter une première couche d'informations (une couche tuilée avec l'objet <code>L.tileLayer</code>). <em>Ce code vous sera expliqué plus en détail oralement.</em></p>
</li>
</ul>
<h2><a class="header" href="#-permettre-lenvoi-des-coordonnées-dans-le-formulaire-et-réparer-linsertion-dans-la-bd" id="-permettre-lenvoi-des-coordonnées-dans-le-formulaire-et-réparer-linsertion-dans-la-bd">🚀 Permettre l'envoi des coordonnées dans le formulaire et réparer l'insertion dans la BD</a></h2>
<blockquote>
<p><strong>Documentation utile</strong>:</p>
<ul>
<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input">https://developer.mozilla.org/fr/docs/Web/HTML/Element/input</a></li>
</ul>
</blockquote>
<ol>
<li>
<p><strong>Ajoutez 2 éléments <code>&lt;input&gt;</code> à notre formulaire</strong>. Choisissez le bon type d'élément (attribut <code>type</code>). Ils vont seulement servir à contenir les valeurs des coordonées du point cliqué mais ne seront pas éditables, vous utiliserez l'attribut <code>readonly</code> sur ces deux éléments HTML (avec l'utilisation de cet attribut ils seront bien envoyés avec le reste du formulaire sans pour autant être éditables par l'utilisateur). Vous devez donner un identifiant unique (attribut <code>id</code>) à chacun. Vous utiliserez également l'attribut <code>step</code> avec la valeur <code>any</code> (ceci à pour effet de désactiver la validation du champ basée sur l'intervalle autorisé entre les valeurs acceptées).</p>
</li>
<li>
<p><strong>Modifiez le code de la fonction Python <code>root</code></strong> : lorsqu'un formulaire est reçu (méthode <strong>POST</strong>), vous devez désormais aussi lire les champs <code>latitude</code> et <code>longitude</code> et utiliser leurs valeurs pour créer l'entrée qui va être ajoutée à la base de données. Cette étape est importante car les champs <code>latitude</code> et <code>longitude</code> ont été créés avec le paramètre <code>nullable=False</code> dans le modèle <code>Review</code>.</p>
</li>
<li>
<p><strong>Modifiez le contenu du fichier <code>index.html</code> pour inclure le code JavaScript qui suit</strong>. Vous devrez l'inclure immédiatement à la suite du code JavaScript existant, au sein de la même balise <code>&lt;script&gt; &lt;/script&gt;</code>. Attention, vous devrez peut-être le modifier pour utilisez les <strong>identifiants des deux éléments <code>&lt;input&gt;</code></strong> que vous venez de créer.</p>
</li>
</ol>
<pre><code class="language-js">// Ici on définit une fonction Javascript dont le contenu sera exécuté
// lors d'un clic sur la carte...
// Le 'e' correspond au nom de variable de l'argument de la fonction onMapClick
// Lorsque la fonction s'exécute (après un clic sur la carte donc)
// cette variable contient un objet de type
// [mouseevent](https://leafletjs.com/reference-1.6.0.html#mouseevent)
function onMapClick(e) {
    console.log(&quot;You clicked the map at &quot; + e.latlng);
    document.getElementById(&quot;inputLong&quot;).value = e.latlng.lng;
    document.getElementById(&quot;inputLat&quot;).value = e.latlng.lat;
}

// On associe la fonction créée au dessus à l'évenement &quot;click&quot;
// de l'objet mymap (notre carte interactive leaflet)
mymap.on('click', onMapClick);
</code></pre>
<ol start="4">
<li>
<p><strong>Rechargez la <em>web app</em> et testez que tout fonctionne correctement avant de passer à la suite:</strong></p>
<ul>
<li><strong>Lors d'un clic sur la carte, les deux éléments <code>&lt;input&gt;</code> doivent se remplir. Leur valeur ne doit pas être modifiable.</strong></li>
<li><strong>Lorsque vous envoyez le formulaire, la page doit se recharger correctement et lister le nouvel avis.</strong></li>
</ul>
</li>
</ol>
<h2><a class="header" href="#-donner-vie-aux-liens-À-propos-et-contact-de-la-barre-de-navigation" id="-donner-vie-aux-liens-À-propos-et-contact-de-la-barre-de-navigation">🚀 Donner vie aux liens <code>À propos</code> et <code>Contact</code> de la barre de navigation</a></h2>
<blockquote>
<p><strong>Documentation utile</strong>:</p>
<ul>
<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/a">https://developer.mozilla.org/fr/docs/Web/HTML/Element/a</a></li>
</ul>
</blockquote>
<ol>
<li>
<p><strong>Inspirez-vous de la page <a href="http://mthh.pythonanywhere.com/about">http://mthh.pythonanywhere.com/about</a> pour ajouter une page de ce type à votre site Web. Celà nécessite de créer un nouveau <em>template</em> et une nouvelle route dans l'application Python <code>flask_app.py</code>.</strong></p>
</li>
<li>
<p><strong>L'utilisateur doit pouvoir se rendre sur cette page en cliquant sur <code>À propos</code>. Il doit pouvoir revenir sur la page d'accueil en cliquant sur <code>Accueil</code>.</strong></p>
</li>
<li>
<p><strong>Le lien <code>Contact</code> doit également être modifié afin d'y associer une adresse email.</strong></p>
</li>
<li>
<p><strong>Rechargez la <em>web app</em> et testez que tout fonctionne correctement avant de passer à la suite.</strong></p>
</li>
</ol>
<h2><a class="header" href="#-afficher-des-markers-et-des-info-bulles-correspondant-à-la-localisation-des-avis" id="-afficher-des-markers-et-des-info-bulles-correspondant-à-la-localisation-des-avis">🚀 Afficher des <em>markers</em> et des info-bulles correspondant à la localisation des avis</a></h2>
<blockquote>
<p><strong>Documentation utile</strong>:</p>
<ul>
<li><a href="https://jinja.palletsprojects.com/en/2.11.x/">https://jinja.palletsprojects.com/en/2.11.x/</a></li>
<li><a href="https://leafletjs.com/">https://leafletjs.com/</a></li>
</ul>
</blockquote>
<ol>
<li>
<p><strong>Regardez le morceau de code présent en bas de la page <a href="https://leafletjs.com/">https://leafletjs.com/</a></strong> : les 3 dernières lignes montrent la création d'un <em>marker</em> et de l'info-bulle qui lui est associée, avec la bibliothèque Leaflet.</p>
</li>
<li>
<p><strong>Modifier le code du fichier <code>index.html</code> afin de créer un <em>marker</em> pour chaque avis.</strong> Vous allez utiliser la même fonctionnalité de <code>Jinja2</code> que celle qui nous permet de parcourir l'ensemble des avis (actuellement pour les afficher sous forme d'une liste HTML) afin de mobiliser le code vu dans le point précédent.</p>
</li>
<li>
<p><strong>Rechargez la <em>web app</em> et testez que tout fonctionne correctement avant de passer à la suite :</strong></p>
<ul>
<li><strong>Lorsque vous envoyez le formulaire, la page doit se recharger correctement et le nouvel avis doit apparaître sur la carte.</strong></li>
<li><strong>Lorsque vous cliquez sur un marker, la note et le commentaire doivent s'afficher dans une info-bulle.</strong></li>
</ul>
</li>
</ol>
<h2><a class="header" href="#-aller-plus-loin-dans-la-prise-en-compte-de-lutilisateur-1" id="-aller-plus-loin-dans-la-prise-en-compte-de-lutilisateur-1">🚀 Aller plus loin dans la prise en compte de l'utilisateur... (1)</a></h2>
<blockquote>
<p><strong>Documentation utile</strong>:</p>
<ul>
<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/Fieldset">https://developer.mozilla.org/fr/docs/Web/HTML/Element/Fieldset</a></li>
<li><a href="https://leafletjs.com/">https://leafletjs.com/</a></li>
</ul>
</blockquote>
<ol>
<li>
<p><strong>Le formulaire pourrait être désactivé par défaut avant que l'utilisateur ne clique une première fois sur la carte... Quel attribut devez vous utilisez pour ça ?</strong> <em>(n'hésitez pas à chercher sur le Web, à grouper tous vos champs dans un élément HTML <code>&lt;fieldset&gt;</code> si nécessaire, etc. !)</em></p>
</li>
<li>
<p><strong>Une fois les champs désactivés...il est nécessaire de les activer lors du clic de l'utilisateur. L'idée générale est la suivante :</strong></p>
<ul>
<li><strong>ce comportement devra être défini dans la fonction <code>onMapClick</code> dans le code Javascript, puisqu'elle est appellée lors d'un clic sur la carte</strong></li>
<li><strong>il vous faut récupérer l'élément HTML qui a été désactivé (avec <code>document.getElementById('...')</code>) et changer la valeur de l'attribut approprié.</strong> <em>(inspirez-vous du code JavaScript existant)</em></li>
</ul>
</li>
</ol>
<h2><a class="header" href="#-personnaliser-le-rendu" id="-personnaliser-le-rendu">🚀 Personnaliser le rendu...</a></h2>
<ol>
<li>
<p><strong>Utiliser des règles CSS (cf. <a href="2-HTML_CSS.html">TP2</a> et <a href="3-structure-style.html">TP3</a>) pour personnaliser l'apparence de votre site Web selon vos goûts (type de police différent pour une partie du document, couleurs des différents éléments, etc.).</strong></p>
</li>
<li>
<p><strong>Quelques idées...</strong></p>
<ul>
<li>&quot;habiller&quot; le formulaire autrement,</li>
<li>changer/ajuster l'emplacement des éléments dans la page <em>(veillez à conserver une disposition agréable des éléments, aussi bien sur un grand écran que sur un écran type <em>smartphone</em>)</em>,</li>
<li>des polices utilisables gratuitement sont disponibles sur <a href="https://fonts.google.com/">https://fonts.google.com/</a> <em>(des instructions sont fournis sur la démarche à suivre pour inclure puis utiliser ces polices)</em>,</li>
<li>pensez également à regarder la <a href="https://getbootstrap.com/docs/4.4/getting-started/introduction/">documentation de Bootstrap</a> si besoin <em>(couleur de la barre de navigation, etc.)</em>.</li>
</ul>
</li>
</ol>
<h2><a class="header" href="#-aller-plus-loin-dans-la-prise-en-compte-de-lutilisateur-2" id="-aller-plus-loin-dans-la-prise-en-compte-de-lutilisateur-2">🚀 Aller plus loin dans la prise en compte de l'utilisateur... (2)</a></h2>
<blockquote>
<p><strong>Documentation utile</strong>:</p>
<ul>
<li><a href="https://jinja.palletsprojects.com/en/2.11.x/templates/#assignments">https://jinja.palletsprojects.com/en/2.11.x/templates/#assignments</a></li>
<li><a href="https://jinja.palletsprojects.com/en/2.11.x/tricks/#highlighting-active-menu-items">https://jinja.palletsprojects.com/en/2.11.x/tricks/#highlighting-active-menu-items</a></li>
<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/a">https://developer.mozilla.org/fr/docs/Web/HTML/Element/a</a></li>
<li><a href="https://www.the-art-of-web.com/javascript/remove-anchor-links/">https://www.the-art-of-web.com/javascript/remove-anchor-links/</a></li>
</ul>
</blockquote>
<p>Plusieurs éléments peuvent encore être améliorés dans la mise en forme et dans le comportement de votre site :</p>
<ul>
<li>Vos pages ont-elles toutes un titre ? Remédiez-y si ce n'est pas le cas !</li>
<li>L'état de la barre de navigation : lorsque vous êtes sur la page <code>À propos</code>, est-ce bien ce lien là qui est définit comme étant &quot;actif&quot; ? <em>(vérifiez le comportement par rapport à la page <a href="http://mthh.pythonanywhere.com/about">http://mthh.pythonanywhere.com/about</a> si nécessaire)</em></li>
<li>Que se passe-t-il lorsqu'un utilisateur est sur la version mobile de votre page et qu'il clique sur la carte ? Est-il possible de descendre automatiquement jusqu'au formulaire afin que l'utilisateur voit qu'il a été activé ? <em>(plusieurs options sont possibles)</em></li>
<li>Peut-on changer le type de <em>marker</em> utilisés par Leaflet afin de personnaliser la page ? Comment pourrait-on afficher un <em>marker</em> différent en fonction du la note ?</li>
</ul>
<div class="center">
<p><img src="img/scroll_to_form.gif" alt="" /></p>
</div>
<p><strong>Essayez de résoudre ces problèmes : regardez les liens proposés ci-dessus et/ou utilisez un moteur de recherche pour décrire ce que vous souhaitez atteindre afin d'évaluer les options qui s'offrent à vous. Faites des propositions à l'oral si vous n'êtes pas sûr ou si vous voulez de l'aide pour l'implémentation.</strong></p>
<h1><a class="header" href="#introduction-au-langage-javascript" id="introduction-au-langage-javascript">Introduction au langage Javascript</a></h1>
<h2><a class="header" href="#1-préambule-2" id="1-préambule-2">1. Préambule</a></h2>
<p>Le Javascript est aujourd'hui un langage incontournable du developpement Web.<br />
C'est un langage de programmation <strong>multi-paradigme</strong> : orienté objet à prototype, impératif et fonctionnel <em>(il partage ces deux dernières caractéristiques avec Python par exemple)</em>.</p>
<div class="center">
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Unofficial_JavaScript_logo_2.svg/200px-Unofficial_JavaScript_logo_2.svg.png" />
</div>
<p>Le langage a été créé <em>Netscape</em> (fin 1995) est standardisé sous le nom d'<a href="https://fr.wikipedia.org/wiki/ECMAScript">ECMAScript</a> (c'est peut-être un terme que vous rencontrerez - notamment sous sa forme abrégée pour désigner les différentes versions du standard : <em>ES5</em>, <em>ES6</em>, etc.).</p>
<p>Sa syntaxe est dérivée de celle du C/C++.</p>
<pre><code class="language-js">for (let i = 0; i &lt; 10; i++) {
  console.log(&quot;Iteration n°&quot; + i);
}

var j = 0;
while (j &lt; 10) {
  console.log(&quot;...&quot;);
  j++;
}
</code></pre>
<p>Ses autres particularités sont les suivantes :</p>
<ul>
<li>Langage <strong>interprété</strong> (pas de compilation, exécution directe dans un interpréteur)</li>
<li><strong>Typage dynamique</strong> (laisse l'ordinateur réaliser l'opération de typage à la volée)</li>
<li>Modèle objet à base de <strong>prototypes</strong></li>
<li>Langage <strong>fonctionnel</strong> (les <a href="https://en.wikipedia.org/wiki/First-class_function">fonctions sont des <em>objets de première classe</em></a> : on peut passer des fonctions en argument à des fonctions, les assigner à des variables, les stocker dans des structures de données, etc.)</li>
</ul>
<h4><a class="header" href="#pourquoi-le-javascript-" id="pourquoi-le-javascript-">Pourquoi le JavaScript ?</a></h4>
<div class="center">
<p><img src="https://mdn.mozillademos.org/files/13502/cake.png" alt="" /></p>
<p><span class="source">Source: <a href="https://developer.mozilla.org/fr/docs/Learn/JavaScript/First_steps/What_is_JavaScript">https://developer.mozilla.org/fr/docs/Learn/JavaScript/First_steps/What_is_JavaScript</a></p>
</div>
<ul>
<li>Couche <strong>&quot;Comportement&quot;</strong> (JavaScript) qui s'ajoute naturellement à la couche <strong>&quot;Présentation&quot;</strong> (CSS) et à la couche <strong>&quot;Contenu structuré&quot;</strong> (HTML) des technologies web.</li>
<li>Création de contenus complexes, dynamiques et interactifs dont la logique est exécutée coté client, le moment venu.</li>
<li>Les navigateurs web disposent de plusieurs <strong>API</strong> <em>(Application Programming Interfaces)</em> qui permettent de manipuler le document (<em>API DOM</em>), de manipuler des contenues 2D ou 3D (<em>API Canvas</em> et <em>API WebGL</em>) ou les informations de géolocalisation (<em>API Geolocation</em>) par exemple ; ces API sont accessibles en JavaScript.</li>
</ul>
<h3><a class="header" href="#11-quelques-idées-fausses" id="11-quelques-idées-fausses">1.1 Quelques idées fausses</a></h3>
<ul>
<li>
<p>Ce n'est toutefois pas <u><em>le</em></u> langage du Web. En effet d'autres solutions ont été developpées pour s'éxecuter coté client (c'est par exemple le cas de Adobe Flash ou des <em>applets</em> Java).
En revanche, avec la normalisation du langage et un meilleur support par tous les navigateurs et avec l'introduction de HTML5 (et de ses nombreuses API JavaScript), le Javascript a effectué un retour en force dans l'écosystème Web coté client</p>
</li>
<li>
<p>Le Javascript n'est pas seulement utilisé coté client mais également de plus en plus comme un langage de script à part entière, notamment depuis l'existence de <a href="https://nodejs.org">node.js</a>.</p>
</li>
</ul>
<div class="center">
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/320px-Node.js_logo.svg.png" alt="" /></p>
</div>
<h3><a class="header" href="#12-environnements-dexécution-javascript" id="12-environnements-dexécution-javascript">1.2 Environnements d'exécution JavaScript</a></h3>
<p>Un environnement d'exécution Javascript est composé d'un <strong>moteur d'exécution</strong> JavaScript <em>(runtime)</em> et d'objets JavaScript spécifiques à l'environnement en question.</p>
<p>Les principaux environnement d'exécutions sont les <strong>navigateurs Web</strong> (<em>Chrome</em> utilise le moteur <a href="https://v8.dev/"><em>V8</em></a>, <em>Firefox</em> utilise <a href="https://developer.mozilla.org/fr/docs/SpiderMonkey"><em>SpiderMonkey</em></a> et <em>Safari</em> utilise <em>WebKit</em>).</p>
<p><strong>Node.js</strong> est un environnement d'éxecution célèbre (utilisant lui aussi le moteur <em>V8</em>) qui n'est lié à un aucun navigateur Web ; il permet ainsi l'exécution de code Javascript hors du contexte du navigateur.</p>
<h3><a class="header" href="#13-intégration-dans-une-page-html" id="13-intégration-dans-une-page-html">1.3 Intégration dans une page HTML</a></h3>
<ul>
<li>
<p>L'intégration de code JavaScript se fait au moyen de la balise <code>&lt;script&gt; &lt;/script&gt;</code>.</p>
</li>
<li>
<p>Elle peut se faire à deux endroits de la page HTML : dans l'en-tête ou dans le corps de la page HTML.</p>
</li>
<li>
<p>Le chargement et l'exécution de ces scripts respecte l'ordre d'apparition dans la page.</p>
</li>
</ul>
<pre><code class="language-html">&lt;html&gt;
  &lt;head&gt;
    &lt;script&gt;
      // Code Javascript Ici
    &lt;/script&gt;
    &lt;script src=&quot;monScript.js&quot;&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;header&gt;Contenu ...&lt;/header&gt;
    &lt;main&gt;
        Contenu de la page
    &lt;/main&gt;
    &lt;footer&gt;Contenu ...&lt;/footer&gt;
    &lt;script&gt;
      // Code Javascript Ici
    &lt;/script&gt;
    &lt;script src=&quot;unAutreScript.js&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<blockquote>
<p><strong>Remarque</strong>:</p>
<ul>
<li>Les scripts placés dans l'en-tête (<code>&lt;head&gt;</code>) sont executés avant la contruction et l'affichage de la page.</li>
<li>Les script placés dans le corps (<code>&lt;body&gt;</code>) sont exécutés au fur et à mesure que la page HTML est lue et que le DOM se construit.</li>
</ul>
</blockquote>
<p>Comme pour l'ajout de règles CSS, il existe donc bien deux manières <em>(rédactions du code JavaScript dans la page HTML ou inclusion d'un fichier externe)</em> d'intégrer un script JavaScript.</p>
<h3><a class="header" href="#14-votre-environnement-de-travail" id="14-votre-environnement-de-travail">1.4 Votre environnement de travail</a></h3>
<p>Vous utiliserez les mêmes outils (éditeur de code de votre choix et navigateur Web) que lors des premières séance de TP.</p>
<p>Comme lors des autres séances <strong>il est indispensable de travailler avec la fenêtre des outils pour développeurs (<em>DevTools</em> - accessible avec <kbd>F12</kbd>) de votre navigateur - celui-ci comprend en effet une console JavaScript</strong>.</p>
<h2><a class="header" href="#2-les-base-du-langages" id="2-les-base-du-langages">2. Les base du langages</a></h2>
<blockquote>
<p><strong>Liens utiles sur le JavaScript:</strong></p>
<ul>
<li><strong>Mozilla Developpers Network - Premier pas en JavaScript</strong> : <a href="https://developer.mozilla.org/fr/docs/Learn/JavaScript/First_steps">https://developer.mozilla.org/fr/docs/Learn/JavaScript/First_steps</a></li>
<li><strong>W3schools Javascript Tutorial</strong> : <a href="https://www.w3schools.com/js/">https://www.w3schools.com/js/</a></li>
<li><strong>Eloquent JavaScript</strong> - 3rd edition (online, PDF, E-PUB, etc.) : <a href="https://eloquentjavascript.net/">https://eloquentjavascript.net/</a></li>
<li>Pour se faire la main en JavaScript il faut pratiquer... des <a href="https://www.w3schools.com/js/exercise_js.asp">exercices comme ceux de W3schools</a> puis des sites comme <a href="https://JavaScript30.com">JavaScript30</a> peuvent donner de bonnes occasions de pratiquer !</li>
</ul>
</blockquote>
<h3><a class="header" href="#21-Éléments-de-base-pour-javascript-dans-le-navigateur" id="21-Éléments-de-base-pour-javascript-dans-le-navigateur">2.1 Éléments de base pour JavaScript dans le navigateur</a></h3>
<p><strong>🚀 Ouvrez un navigateur et une console JavaScript et saisissez les commandes qui suivent une-à-une (validation avec <kbd>Enter</kbd>) et observez bien le résultat!</strong></p>
<pre><code class="language-js">console.log(&quot;Contenu du message à afficher&quot;);
</code></pre>
<pre><code class="language-js">document // Pour manipuler des objets sur la page
</code></pre>
<pre><code class="language-js">// Ne va pas fonctionner si aucun élément de la page n'a cet id !
// Trouver l'id d'un élément de la page et modifiez le de la manière suivante !
document.getElementById('myElem').innerHTML = &quot;New content !&quot;
</code></pre>
<pre><code class="language-js">// Ne va pas fonctionner si aucun élément de la page n'a cet id !
// Trouver l'id d'un élément de la page et modifiez le de la manière suivante !
document.querySelector('#myElem').innerHTML = &quot;New content !&quot;
</code></pre>
<pre><code class="language-js">// Ne va pas fonctionner si aucun élément 'div' n'a cette classe !
document.querySelector('div.myClass').innerHTML = &quot;New content too !&quot;
</code></pre>
<pre><code class="language-js">document.title
</code></pre>
<pre><code class="language-js">window // Objet relatif à la fenêtre
</code></pre>
<pre><code class="language-js">window.alert(&quot;Contenu de l'alerte !&quot;)
</code></pre>
<pre><code class="language-js">window.innerHeight // un entier
</code></pre>
<pre><code class="language-js">window.innerWidth // un entier
</code></pre>
<pre><code class="language-js">window.screen // un Object JavaScript
</code></pre>
<pre><code class="language-js"> // Un Object décrivant l'URL actuelle du document
window.location
</code></pre>
<pre><code class="language-js"> // On accère à la propriété 'href' de cet objet
 // ... c'est la chaine de caractère qui correspond à l'URL actuelle:
window.location.href
</code></pre>
<h3><a class="header" href="#22-variables" id="22-variables">2.2 Variables</a></h3>
<p>Elles sont utilisées pour stocker des données dans la mémoire de l'ordinateur <em>(on associe une valeur à un nom de variable)</em>.</p>
<p>Vous rencontrerez deux type de variables :</p>
<ul>
<li>types primitifs : notations litérales (<code>2</code>, <code>3.14</code>, <code>&quot;Chaine de caractère&quot;</code>, <code>'une autre chaine'</code>) et valeurs natives <em>(built-ins)</em> (<code>true</code>, <code>false</code>, <code>undefined</code>, <code>null</code>, <code>NaN</code>, <code>Infinity</code>)</li>
<li>objets JavaScript (par exemple <code>Array</code> pour un tableau)</li>
</ul>
<pre><code class="language-js">// On peut déclarer un variable sans lui affecter de valeur:
var a; // équalivent à `var a = undefined;`
var b, c;

console.log(a); // undefined

// Affectation avec la forme littérale
// (chaine de caractère, entier, réel)
a = &quot;Coucou&quot;;
b = 1;
c = 3.14;

// On peut affecter une valeur lors de la déclaration
var d = &quot;Hello&quot;;

// On peut ensuite affecter une valeur d'un autre type
a = 12;


// Tableau d'entiers (forme littérale)
var myTableau = [1, 2, 3, 4];

// Objet JavaScript (forme littérale)
var myObj = {
  &quot;rate&quot;: 5,
  &quot;comment&quot;: &quot;Awesome place ! Great Food !&quot;
};
</code></pre>
<blockquote>
<p><strong>Remarque:</strong> Historiquement la déclaration de variable se fait avec <code>var</code>. Depuis <strong>ES6</strong> la bonne pratique est d'utiliser <code>let</code> ou <code>const</code>. Cette fonctionnalité est maintenant supportée par les différents navigateurs Web.</p>
</blockquote>
<ul>
<li><code>const</code> :</li>
</ul>
<pre><code class="language-js">const myConst = 12;

// On ne peut pas faire :
myConst = 15; // TypeError : invalid assignement to const 'myConst'
</code></pre>
<ul>
<li><code>let</code> :</li>
</ul>
<pre><code class="language-js">let isValid = false;

// later in your code :
isValid = true;
</code></pre>
<h2><a class="header" href="#23-opérateur-arithmétiques-logiques-et-de-comparaison" id="23-opérateur-arithmétiques-logiques-et-de-comparaison">2.3 Opérateur arithmétiques, logiques et de comparaison</a></h2>
<ul>
<li>
<p><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code></p>
</li>
<li>
<p><code>++</code>, <code>--</code></p>
</li>
<li>
<p><code>==</code>, <code>!=</code>, <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code></p>
</li>
<li>
<p><code>||</code> (pensez à <code>or</code> en Python), <code>&amp;&amp;</code> (pensez à <code>and</code> en Python), <code>!</code> (pensez à <code>not</code> en Python)</p>
</li>
</ul>
<h3><a class="header" href="#24-contrôle-du-flux-dexécution" id="24-contrôle-du-flux-dexécution">2.4 Contrôle du flux d'exécution</a></h3>
<ul>
<li>
<p>Lorsque le navigateur web rencontre du code JavaScript il l'exécute dans l'ordre d'apparition (à quelques exceptions qui ne sont pas abordées).</p>
</li>
<li>
<p>Contrairement au Python, l'indentation ne joue pas de rôle dans la logique du code <em>(celà ne veut pas dire qu'il ne faut pas respecter certaines règles! pensez à la lecture du code par vous ou d'autres développeurs!)</em></p>
</li>
<li>
<p>Instructions conditionnelles : <code>if</code>, <code>else</code>, <code>else if</code> <code>switch</code></p>
</li>
<li>
<p>Instructions itératives : <code>for</code>, <code>while</code></p>
</li>
</ul>
<pre><code class="language-js">// Définition d'une fonction créant un paragraphe
// et l'ajoutant à la fin de la page
// (la fonction est définie, on pourra l'utiliser avec son nom 'createParagraph'
// mais elle n'est pas exécutée lors de sa définition, seulement lorsqu'elle
// sera invoquée par la suite).
function createParagraph() {
  let para = document.createElement('p');
  para.textContent = 'You clicked the button!';
  document.body.appendChild(para);
}

// Créé un tableau référencant tous les éléments 'button':
let buttons = document.querySelectorAll('button');

// Utilisation d'une boucle pour parcourir le tableau dans son ensemble
for(let i = 0; i &lt; buttons.length ; i++) {

  // Ajoute un &quot;click event listener&quot; sur chaque bouton
  // lors du clic, la fonction 'createParagraph'
  // sera appelée:
  buttons[i].addEventListener('click', createParagraph);

  // Un message est écrit dans la console en fonction de la valeur de &quot;i&quot;
  if (i &lt; 12) {
    console.log('La valeur de la variable &quot;i&quot; est actuellement inférieure à 12 !');
  } else if (i &lt; 25) {
    console.log('La valeur de la variable &quot;i&quot; est actuellement inférieure à 25 (mais supérieure ou égale à 12) !');
  } else {
    console.log('La variable &quot;i&quot; vaut au moins 25 maintenant !')
  }
}
</code></pre>
<h3><a class="header" href="#25-commentaires" id="25-commentaires">2.5 Commentaires</a></h3>
<pre><code class="language-js">/*
 Commentaire
 multi lignes ...
*/
var a = 12;

// Commentaire sur une seule ligne
</code></pre>
<h2><a class="header" href="#3-retour-commenté-sur-le-code-javascript-vu-précédemment" id="3-retour-commenté-sur-le-code-javascript-vu-précédemment">3. Retour commenté sur le code JavaScript vu précédemment</a></h2>
<pre><code class="language-html">&lt;body&gt;
  &lt;!--
    Le reste du corps de notre page
  --&gt;
  &lt;script src=&quot;https://unpkg.com/leaflet@1.6.0/dist/leaflet.js&quot; integrity=&quot;sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==&quot; crossorigin=&quot;&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
    var mymap = L.map('mapid').setView([45.192, 5.768], 14);

    var osmLayer = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
      attribution: '© OpenStreetMap contributors',
      maxZoom: 19
    });

    mymap.addLayer(osmLayer);

    function onMapClick(e) {
      // On affche les coordonnées dans la console:
      console.log(&quot;You clicked the map at &quot; + e.latlng);
      // Les 3 instructions suivantes permettent d'interagir avec le DOM
      // lors de l'exécution de la fonction. On appelle ici les éléments
      // grace à leur 'id'.
      // On change la valeur des éléments du formulaire:
      document.getElementById(&quot;inputLong&quot;).value = e.latlng.lng;
      document.getElementById(&quot;inputLat&quot;).value = e.latlng.lat;
      // On active le formulaire (en définissant la valeur de 'disabled' sur false)
      document.getElementById(&quot;fieldsreview&quot;).disabled = false;
      // On indique où va être laissé l'avis avec un tooltip.
      // C'est un objet de la bibliothèque 'Leaflet':
      var popup = L.popup();
      popup
          .setLatLng(e.latlng)
          .setContent(&quot;Your review will appear here&quot;)
          .openOn(mymap);
      // On déplace le document jusqu'à l'élément qui a l'id &quot;topfieldset&quot;
      // en 'scrollant' avec un effet de transition.
      // Cela ne se produit que dans la version smartphone quand les éléments
      // sont empilés.
      // Dans la version desktop, l'élément est déjà en haut de la vue
      // de l'utilisateur.
      document.getElementById(&quot;topfieldset&quot;).scrollIntoView({behavior: &quot;smooth&quot;, block: &quot;start&quot;, inline: &quot;nearest&quot;});
    }

    mymap.on('click', onMapClick);
  &lt;/script&gt;
&lt;/body&gt;
</code></pre>
<h2><a class="header" href="#4-mise-en-pratique" id="4-mise-en-pratique">4. Mise en pratique</a></h2>
<p><strong>🚀 Rendez-vous sur la page <a href="https://www.w3schools.com/js/exercise_js.asp">https://www.w3schools.com/js/exercise_js.asp</a> et commencez les exercices dans l'ordre</strong>.</p>
<p>Ces exercices simples mettent l'accent sur votre bonne compréhension du mécanisme de base de l'écriture du code JavaScript. Ils représentent également un bon moyen d'apprendre certaines de ces notions par la pratique.</p>
<p><strong>Soyez attentif aux énoncés et suivez votre instinct ! N'hésitez pas à demander et/ou à vous rendre sur le tutoriel correspondant avant de cliquer sur <code>Show Answer</code> :)</strong></p>
<div class="center">
<p><img src="img/tp8_1.png" alt="" /></p>
</div>
<h2><a class="header" href="#5-amélioration-de-notre-plateforme-de-dépôt-davis-grâce-au-js" id="5-amélioration-de-notre-plateforme-de-dépôt-davis-grâce-au-js">5. Amélioration de notre plateforme de dépôt d'avis grâce au JS</a></h2>
<p><strong>🚀 Essayez d'implémenter chacun des comportements suivants en JavaScript :</strong></p>
<ul>
<li>Changement de la couleur du marker en fonction de la note correspondante
(par exemple 1: rouge / 2-3-4: orange / 5: vert - voir <a href="img/marker-color.png">ici</a> par exemple)</li>
<li>Centrage de la carte calculé en fonction de l'emprise totale des avis laissés</li>
<li>Utilisation d'un autre fond de carte par Leaflet</li>
<li>Ajout d'un widget permettant de changer le fond de carte (et en proposant au moins deux différents - comme <a href="img/change-basemap2.gif">ici</a> par exemple)</li>
<li>Changement du fond de carte en fonction du niveau de zoom (comme <a href="img/change-basemap2.gif">ici</a> par exemple)</li>
</ul>
<p><strong>Nous ferons un point de cours à la fin de la séance</strong>.</p>
<div style="text-align: center">
<h1><a class="header" href="#cours-technologies-web-1" id="cours-technologies-web-1">Cours Technologies Web</a></h1>
<h1><a class="header" href="#lp-essig---université-grenoble-alpes-1" id="lp-essig---université-grenoble-alpes-1">LP ESSIG - Université Grenoble Alpes</a></h1>
<p><br><br><br></p>
<p><em>Contenu à venir...</em></p>
</div>
<h2><a class="header" href="#glossaire---termes-importants" id="glossaire---termes-importants">Glossaire - Termes importants</a></h2>
<div class="glo">
<ul>
<li>
<p><a name="API">API</a>: <em>Application Programming Interface</em> ou interface de programmation d'application - Voir <a href="https://fr.wikipedia.org/wiki/Interface_de_programmation">https://fr.wikipedia.org/wiki/Interface_de_programmation</a></p>
</li>
<li>
<p><a name="Bootstrap">Bootstrap</a>: collection d'outils (CSS et Javascript) pour la création de sites web, développé par Twitter.</p>
</li>
<li>
<p><a name="CLI">CLI</a>: <em>Command Line Interface</em> - terme utilisé pour désigner un outil proposant une interface en ligne de commande, c'est à dire utilisable depuis une console du système par exemple.</p>
</li>
<li>
<p><a name="CSS">CSS</a>: <em>Cascasding StyleSheet</em> - c'est un langage permettant de décrire la présentation de documents HTML. Sa version actuelle est CSS3.</p>
</li>
<li>
<p><a name="DOM">DOM</a>: <em>Document Object Model</em> ou modèle d'objets de document - c'est une API pour les documents HTML qui définit la structure logique de ces documents ainsi que des méthodes pour les manipuler.</p>
</li>
<li>
<p><a name="Framework">Framework</a>: Voir <a href="https://fr.wikipedia.org/wiki/Framework">https://fr.wikipedia.org/wiki/Framework</a>.</p>
</li>
<li>
<p><a name="HTML">HTML</a>: <em>HyperText Markup Language</em> - c'est un langage de balisage permettant de représenter les pages Web (il permet de les structurer sémantiquement et logiquement, d'inclure des formulaires et différents autres types de ressources : images, vidéos, liens vers d'autres pages ou ressources, etc.). Sa version actuelle est HTML5. C'est un des concepts central du <a href="glossaire.html#WWW">World Wide Web</a>.</p>
</li>
<li>
<p><a name="HTTP">HTTP</a>: <em>HyperText Transfert Protocol</em> - un protocole de communication client-serveur permettant notamment d'échanger des documents hypertexte. C'est un des concepts central du <a href="glossaire.html#WWW">World Wide Web</a>.</p>
</li>
<li>
<p><a name="Javascript">Javascript</a>: un langage de scripts notamment utilisé pour créer des pages web interactives: du code JavaScript peut être intégré dans les pages web pour être exécuté dans le navigateur du client.</p>
</li>
<li>
<p><a name="JSON">JSON</a>: <em>JavaScript Object Notation</em> - un format de données textuelles <em>(human readable)</em> dérivé de la syntaxe des objets en JavaScript.</p>
</li>
<li>
<p><a name="MoteurTemplate">Moteur de <i>template</i></a> : un système qui permet (coté serveur dans notre cas) de personnaliser des documents web envoyées au client en combinant la réutilisation d'éléments statiques (le modèle) l'utilisation d'éléments dynamiques (servant à définir le contenu) basés sur les paramètres d'une requête.</p>
</li>
<li>
<p><a name="SQLite">SQLite</a>: c'est un moteur de base de données relationnelle <em>open-source</em> (son code est dans le domaine public) dont la spécificité est de stocker l'intégralité de la BD dans un fichier indépendant de la plateforme. C'est probablement le moteur de base de données le plus utilisé au monde (<a href="https://www.sqlite.org/famous.html">https://www.sqlite.org/famous.html</a>).</p>
</li>
<li>
<p><a name="URI">URI</a>: <em>Uniform Resource Identifier</em> - c'est une chaîne de caractères qui désigne une ressource sur un réseau.</p>
</li>
<li>
<p><a name="URL">URL</a>: <em>Uniform Resource Locator</em> - c'est une chaîne de caractères qui désigne une ressource du <a href="glossaire.html#WWW">WWW</a>. Les URL sont parfois appelées <em>adresses Web</em> et composent un sous-ensemble des <a href="glossaire.html#URI">URI</a>.</p>
</li>
<li>
<p><a name="WWW">WWW</a>: <em>World Wide Web</em> - décrit le système d'information, utilisant le réseau Internet, dans lequel les ressources (documents, etc.) sont identifiées par une <a href="glossaire.html#URL">URL</a> et reliées entre elles par des liens hypertextes. Les ressources du WWW sont consultables par des <em>clients Web</em> (généralement des navigateurs Web), publiées par des <em>serveurs Web</em> et transférées en utilisant le protocole <a href="glossaire.html#HTTP">HTTP</a>.</p>
</li>
</ul>
</div>
<h2><a class="header" href="#mémo-balises-html" id="mémo-balises-html">Mémo Balises HTML</a></h2>
<blockquote>
<p><strong>Remarque</strong>: ce mémo présente les principales balises HTML, notamment celles rencontrées lors de cette session de TP, mais n'est pas exhaustif - une liste plus complète accompagnée de sa description est consultable à l'adresse <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element">developer.mozilla.org/fr/docs/Web/HTML/Element</a>.</p>
</blockquote>
<h3><a class="header" href="#balises-den-tête" id="balises-den-tête">Balises d'en-tête</a></h3>
<table><thead><tr><th>Balise</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;html&gt;</code></td><td>Balise principale du document</td></tr>
<tr><td>-</td><td>-</td></tr>
<tr><td><code>&lt;head&gt;</code></td><td>En-tête de la page</td></tr>
<tr><td><code>&lt;body&gt;</code></td><td>Corps de la page</td></tr>
</tbody></table>
<h3><a class="header" href="#balises-de-conteneur-générique" id="balises-de-conteneur-générique">Balises de conteneur générique</a></h3>
<p><em>pas de rôle sémantique</em></p>
<table><thead><tr><th>Balise</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;span&gt;</code></td><td>Conteneur générique en ligne <em>(inline)</em></td></tr>
<tr><td><code>&lt;div&gt;</code></td><td>Conteneur générique qui permet d'organiser le contenu <em>(block)</em></td></tr>
</tbody></table>
<h3><a class="header" href="#balises-sectionnantes" id="balises-sectionnantes">Balises sectionnantes</a></h3>
<p><em>elles ont le même effet qu'un élément <code>&lt;div&gt;</code> mais ont une sémantique associée</em></p>
<table><thead><tr><th>Balise</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;header&gt;</code></td><td>Elément d'en-tête (de page, d'article, ..)</td></tr>
<tr><td><code>&lt;nav&gt;</code></td><td>Élément (barre, menu, ..) avec principaux liens de navigation</td></tr>
<tr><td><code>&lt;footer&gt;</code></td><td>Elément de pied (de page, d'article, ..) avec infos sur auteurs, copyright, etc.</td></tr>
<tr><td><code>&lt;section&gt;</code></td><td>Section de page</td></tr>
<tr><td><code>&lt;article&gt;</code></td><td>Article de blog, post de forum, etc. (contenu autonome)</td></tr>
<tr><td><code>&lt;aside&gt;</code></td><td>Infos complémentaires (pas indispensables au contenu autonome qu'elles accompagnent)</td></tr>
</tbody></table>
<h3><a class="header" href="#autres-balises-avec-sémantique-associée" id="autres-balises-avec-sémantique-associée">Autres balises avec sémantique associée</a></h3>
<p><em>cette liste présente aussi bien des balises relatives au sectionnement du contenu que des balises relatives au contenu textuel par exemple</em></p>
<table><thead><tr><th>Balise</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;abbr&gt;</code></td><td>Abréviation</td></tr>
<tr><td><code>&lt;blockquote&gt;</code></td><td>Citation (longue)</td></tr>
<tr><td><code>&lt;cite&gt;</code></td><td>Citation du titre d'une oeuvre</td></tr>
<tr><td><code>&lt;q&gt;</code></td><td>Citation (courte)</td></tr>
<tr><td><code>&lt;sup&gt;</code></td><td>Exposant</td></tr>
<tr><td><code>&lt;sub&gt;</code></td><td>Indice</td></tr>
<tr><td><code>&lt;strong&gt;</code></td><td>Mise en valeur forte</td></tr>
<tr><td><code>&lt;em&gt;</code></td><td>Mise en valeur</td></tr>
<tr><td><code>&lt;mark&gt;</code></td><td>Mise en valeur pour sa pertinence</td></tr>
<tr><td><code>&lt;h1&gt;</code></td><td>Titre de niveau 1</td></tr>
<tr><td><code>&lt;h2&gt;</code></td><td>Titre de niveau 2</td></tr>
<tr><td><code>&lt;h3&gt;</code></td><td>Titre de niveau 3</td></tr>
<tr><td><code>&lt;h4&gt;</code></td><td>Titre de niveau 4</td></tr>
<tr><td><code>&lt;h5&gt;</code></td><td>Titre de niveau 5</td></tr>
<tr><td><code>&lt;h6&gt;</code></td><td>Titre de niveau 6</td></tr>
<tr><td><code>&lt;img /&gt;</code></td><td>Image</td></tr>
<tr><td><code>&lt;figure&gt;</code></td><td>Figure (image, code, ...)</td></tr>
<tr><td><code>&lt;figcaption&gt;</code></td><td>Description de la figure</td></tr>
<tr><td><code>&lt;audio&gt;</code></td><td>Son</td></tr>
<tr><td><code>&lt;video&gt;</code></td><td>Vidéo</td></tr>
<tr><td><code>&lt;source&gt;</code></td><td>Source pour <code>&lt;audio&gt;</code> et <code>&lt;vidéo&gt;</code></td></tr>
<tr><td><code>&lt;a&gt;</code></td><td>Lien hypertexte</td></tr>
<tr><td><code>&lt;br /&gt;</code></td><td>Retour à la ligne</td></tr>
<tr><td><code>&lt;p&gt;</code></td><td>Paragraphe</td></tr>
<tr><td><code>&lt;hr /&gt;</code></td><td>Ligne horizontale</td></tr>
<tr><td><code>&lt;del&gt;</code></td><td>Texte supprimé</td></tr>
<tr><td><code>&lt;ins&gt;</code></td><td>Texte inséré</td></tr>
<tr><td><code>&lt;dfn&gt;</code></td><td>Définition</td></tr>
<tr><td><code>&lt;pre&gt;</code></td><td>Texte pré-formatté (code source, etc.)</td></tr>
<tr><td><code>&lt;progress&gt;</code></td><td>Barre de progression</td></tr>
</tbody></table>
<h3><a class="header" href="#balises-de-liste" id="balises-de-liste">Balises de liste</a></h3>
<table><thead><tr><th>Balise</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;ul&gt;</code></td><td>Liste à puce, non numérotée</td></tr>
<tr><td><code>&lt;ol&gt;</code></td><td>Liste numérotée</td></tr>
<tr><td><code>&lt;li&gt;</code></td><td>Élément de la liste</td></tr>
</tbody></table>
<!-- | `<dl>` | Liste de définitions |
| `<dt>` | Terme à définir |
| `<dd>` | Définition du terme | -->
<h3><a class="header" href="#balises-de-tableau" id="balises-de-tableau">Balises de tableau</a></h3>
<table><thead><tr><th>Balise</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;table&gt;</code></td><td>Tableau dans son ensemble</td></tr>
<tr><td><code>&lt;caption&gt;</code></td><td>Titre du tableau</td></tr>
<tr><td><code>&lt;tr&gt;</code></td><td>Ligne de cellules (dans l'en-tête ou le corps)</td></tr>
<tr><td><code>&lt;th&gt;</code></td><td>Cellule dans l'en-tête du tableau</td></tr>
<tr><td><code>&lt;td&gt;</code></td><td>Cellule dans le corps du tableau</td></tr>
<tr><td><code>&lt;thead&gt;</code></td><td>En-tête du tableau</td></tr>
<tr><td><code>&lt;tbody&gt;</code></td><td>Corps du tableau</td></tr>
</tbody></table>
<h3><a class="header" href="#balises-de-formulaire" id="balises-de-formulaire">Balises de formulaire</a></h3>
<table><thead><tr><th>Balise</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;form&gt;</code></td><td>Formulaire</td></tr>
<tr><td><code>&lt;fieldset&gt;</code></td><td>Groupe de champs</td></tr>
<tr><td><code>&lt;legend&gt;</code></td><td></td></tr>
<tr><td><code>&lt;label&gt;</code></td><td></td></tr>
<tr><td><code>&lt;input /&gt;</code></td><td></td></tr>
<tr><td><code>&lt;textarea&gt;</code></td><td></td></tr>
<tr><td><code>&lt;select&gt;</code></td><td></td></tr>
<tr><td><code>&lt;option&gt;</code></td><td></td></tr>
<tr><td><code>&lt;optgroup&gt;</code></td><td></td></tr>
</tbody></table>
<h2><a class="header" href="#version-pdf-des-courstp" id="version-pdf-des-courstp">Version PDF des Cours/TP</a></h2>
<div class="center"><em>Attention, il s'agit d'exports PDF générés automatiquement à partir du code ayant permis de produire cette page web. Le rendu ayant d'abord été pensé pour la version HTML, il est possible que certains éléments ne soient pas affichés correctement (taille des images, encarts de remarques et encarts correspondant au résultat d'un extrait de code, etc.)</em></div>
<ul>
<li>
<p><a href="./glossaire.pdf">Glossaire</a></p>
</li>
<li>
<p><a href="./1-Intro-Internet-web/1-Intro-slides.pdf">1 - Éléments théoriques</a></p>
</li>
<li>
<p><a href="./2-HTML_CSS.pdf">2 - Intro HTML 5 / CSS 3</a></p>
</li>
<li>
<p><a href="./3-structure-style.pdf">3 - Structurer et styler un document HTML</a></p>
</li>
<li>
<p><a href="./4-css-bootstrap.pdf">4 - Le framework <code>Bootstrap</code></a></p>
</li>
<li>
<p><a href="./5-serveur-client1.pdf">5 - Programmation Web coté serveur en Python</a></p>
</li>
<li>
<p><a href="./6-serveur-client2.pdf">6 - Interactions serveur/client, formulaires et BD</a></p>
</li>
</ul>
<!--
- [7 - Interactions serveur/client (suite)](./7-serveur-client3.pdf)

- [8 - Javascript (éléments théoriques)](./8-javascript.pdf)

 -->
<h2><a class="header" href="#données--corrections" id="données--corrections">Données &amp; corrections</a></h2>
<ul>
<li>
<p><a href="data/TP2.zip">Données TP2</a></p>
</li>
<li>
<p><a href="data/TP3.zip">Données TP3</a> - <a href="data/TP3_correction.zip">Exemple / correction (.zip)</a> - <a href="data/TP3/index_example.html">Exemple / correction (interactif)</a></p>
</li>
<li>
<p><a href="data/TP4.zip">Données TP4</a> - <a href="data/TP4_correction.zip">Correction (.zip)</a></p>
</li>
<li>
<p><a href="data/TP5.zip">Données TP5</a> - <a href="data/TP5_correction.zip">Correction (.zip)</a></p>
</li>
<li>
<p><a href="data/TP6/app.db">Données TP6 (fichier SQLite <code>app.db</code>)</a> - <a href="data/TP6_correction.zip">Correction (.zip contenant l'ensemble des fichiers)</a></p>
</li>
<li>
<p><a href="data/TP7.zip">Données TP7</a></p>
</li>
</ul>
<h2><a class="header" href="#sujets-dexamen-précédents" id="sujets-dexamen-précédents">Sujets d'examen précédents</a></h2>
<p><a href="./data/Test_TechnoWEB_2020_1.pdf">Example 1</a></p>
<p><a href="./data/Test_TechnoWEB_2020_v2.pdf">Example 2</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        <script type="text/javascript" src="src/custom.js"></script>
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
