class: first

# Des donn√©es √† la cartographie

<br>

### M1 GAED-GEOMAS / M1 GAED-GEOPOESICE

<br>
<br>

### Partie 1 : Cartographie th√©matique et mise en sc√®ne de la carte

<div style="width: 167px;position: absolute;bottom: -5px;left: 0px;">

<img src="img/logo-uga.jpg" />

</div>

<div style="margin: auto; text-align: center; position: relative; bottom: -150px; left: 20px;">
<p style="font-size: 20px;margin:auto; text-align: center">Matthieu Viry - LIG <em>(Laboratoire d'Informatique de Grenoble)</em></p>
<p style="font-size: 20px;margin:5px auto; text-align: center">üñÇ <a href="maito:matthieu.viry@univ-grenoble-alpes.fr">matthieu.viry@univ-grenoble-alpes.fr</a></p>
</div>

---
class: section-change

# S√©ance 2

<br>

## Exercices & rappels

<br><br><br><br><br>

---

## Exercice 1

.center.img70[![](img/carte_uefa.png)]

???

* **Repr√©sentation** - Les donn√©es statistiques (quantitatives) repr√©sent√©es √† la fa√ßon d‚Äôune typologie (qualitative).
* Source ‚Äì non mentionn√©e
* **Donn√©es** ‚Äì Pas forc√©ment √† jour (2016 ?) / p√©riode consid√©r√©e (depuis quand ?) / quels sont les pays qui participent √† la comp√©tition ?
* **L√©gende** ‚Äì pas claire

---

## Exercice 1

<br><br>

**Objectif th√©matique** :

- Refaire la carte des pays victorieux en UEFA _Champions League_.

<br>

**Objectifs techniques** :

- Critiquer une carte et proposer des alternatives
- Trouver un fond de carte adapt√©
- Joindre le jeu de donn√©es au fond de carte

.center.img20[![](img/soccer_ball2.svg)]

---
class: section-change

![](img/magrit.png)

---

## Exercice 1

<br>

**Source de donn√©es pour les fonds de carte √† l'√©chelle du globe:**

- http://naturalearthdata.com/  
_(trouver le bon fond de carte : niveau de d√©tails, pr√©sence des 50 pays concern√©s par le jeu de donn√©es, etc.)_

<br>

**Donn√©es des victoires par pays:**

- [https://mthh.github.io/donnees-carto-2022/data_uefa.csv](https://mthh.github.io/donnees-carto-2022/data_uefa.csv)  
.source[(Source: [https://fr.wikipedia.org/wiki/Ligue_des_champions_de_l%27UEFA](https://fr.wikipedia.org/wiki/Ligue_des_champions_de_l%27UEFA))]

.center.small[![](img/table_wikipedia.png)]

---

class: align-left

## Exercice 1

<br>

**Fonds de carte √† l'√©chelle du globe:** http://naturalearthdata.com/

**Victoires / pays:** [https://mthh.github.io/donnees-carto-2022/data_uefa.csv](https://mthh.github.io/donnees-carto-2022/data_uefa.csv)

----

[1] **Critique de la carte**  
[2] **Trouver un fond de carte adapt√©** _(granularit√© spatiale, g√©n√©ralisation cartographique, etc.)_  
[3] **Importer g√©om√©tries et donn√©es dans Magrit**  
[4] **Ajuster l‚Äô√©tendue g√©ographique**  
[5] **Choisir la repr√©sentation**  
[6] **Mise en page**  

<br>

----

.center[Temps de r√©alisation : **üöÄ 30 min üöÄ**]

---

.center.img90[![](img/uefa.png)]

---

## Exercice 2

<br><br>

**Objectif th√©matique** :

- Faire une carte statistique sur le th√®me des **logements vacants** sur le territoire de la r√©gion **Bretagne**.

<br>

**Objectifs techniques** :

- S√©lectionner les variables d'int√©r√™t et l'emprise de repr√©sentation des donn√©es
- Proposer **une ou plusieurs repr√©sentations adapt√©es**
- **Mettre en page la carte pour en faciliter sa lecture**


<img src="img/logo_bretagne.png" style="position: absolute; top: 20px; right: 50px; width: 140px;" />

---
class: align-left
## Exercice 2

<br>

**Donn√©es sur les logements**


.small[‚ûú INSEE : [https://www.insee.fr/fr/statistiques/4171415?sommaire=4171436](https://www.insee.fr/fr/statistiques/4171415?sommaire=4171436)]

‚ûú **Fond de carte Bretagne avec donn√©es jointes + m√©ta-donn√©es** : <br>
[https://mthh.github.io/donnees-carto-2022/data_logement_bretagne.zip](https://mthh.github.io/donnees-carto-2022/data_logement_bretagne.zip)

.center.img75[![](img/insee_pop.png)]

---
class: align-left

## Exercice 2

<br>

.small[**Donn√©es** : [https://mthh.github.io/donnees-carto-2022/data_logement_bretagne.zip](https://mthh.github.io/donnees-carto-2022/data_logement_bretagne.zip)]

<br>

----

[1] **T√©l√©charger les donn√©es**  
[2] **Lire les m√©ta-donn√©es**  
[3] **S√©lectionner les indicateurs √† repr√©senter**  
[4] **Importer les donn√©es dans Magrit ou QGIS**  
[5] **Ajuster l‚Äô√©tendue g√©ographique**  
[6] <strong>Choisir <u>une ou plusieurs repr√©sentations</u></strong>  
[7] **Habiller la carte (territoires voisins, labels utiles, etc.)**  
[8] **Mise en page avec Magrit/QGIS et finalisation avec Inkscape**  


----

<br>

.center[Temps de r√©alisation : **üöÄ 60 min üöÄ**]

---
class: middle, center

# Discussion autour de l'habillage et de la mise en page...

<!--
.source.center[Source: [https://visual.ly/community/infographic/how/what-makes-good-infographic](https://visual.ly/community/infographic/how/what-makes-good-infographic)]
.center.img90[![](img/goodinfographics.png)]
.source.center[Source: [http://www.infographicsshowcase.com/](http://www.infographicsshowcase.com/)]
.center[![](img/Use-Infographics.jpg)] -->

---

.center[![](img/carte_riate_perf.png)]
.center.source[Source: Typologie socio-√©conomique des r√©gions frontali√®res de l‚ÄôUnion Europ√©enne (2000-2012), [http://riate.cnrs.fr/?p=4692](http://riate.cnrs.fr/?p=4692)]

---

.center[![](https://pbs.twimg.com/media/EKh4QNnXkAAhIEZ?format=jpg&amp;name=4096x4096)]
.center.source[Source: [https://twitter.com/E_Sigat/status/1200341526360023040](https://twitter.com/E_Sigat/status/1200341526360023040)]

---

.center[![](img/log_vac2.png)]

.source.small.center[_Note: C'est (surement) faux pour la Normandie_]

---

### Harmonisation et identit√© visuelle  (1)

.center.img70[![](img/espon13.png)]
.center.small.source[Source: [Zanin, C., Ysebaert, R., Mise en place d'un mod√®le cartographique - Trouver le bon compromis entre homog√©n√©isation et innovation cartographique](http://lecfc.fr/new/articles/233-article-5.pdf). Cartes et G√©omatique, 2017, pp.33-44]

---

### Harmonisation et identit√© visuelle  (2)

.center.img80[![](img/espon20.png)]
.center.small.source[Source: [Zanin, C., Ysebaert, R., Mise en place d'un mod√®le cartographique - Trouver le bon compromis entre homog√©n√©isation et innovation cartographique](http://lecfc.fr/new/articles/233-article-5.pdf). Cartes et G√©omatique, 2017, pp.33-44]


---
### Concr√®tement avec Inkscape (ou Adobe Illustrator)

![](img/logo_inkscape.png)

<br>

**‚ûú Un logiciel libre de dessin vectoriel**

<br>

**‚ûú Permet de modifier des fichiers SVG _(Scalable Vector Graphics)_**

---
#### Ajout d'un effet de lumi√®re diffuse...

.center.img65[![](img/bancs_blue0.png)]

---
#### Ajout d'un effet de lumi√®re diffuse...

.center.img65[![](img/bancs_blue1.png)]

---
#### ... puis continuer l'habillage de la carte

.center.img65[![](img/bancs_blue2.png)]

---
#### Int√©gration de texture √† la carte...

.center.img65[![](img/texture.png)]

---
#### Int√©gration de motifs pour repr√©senter la mer et les oc√©ans...

.center.img95[![](img/motif.png)]
---
#### De nombreux "effets" possibles

.center.img95[![](img/motif_gouache.png)]

---
#### Organisation du documents sous forme d'une arborescence contenant notamment des _groupes_

![](img/inkscape_xml.png)

???
Comme dans tout document XML, les objets sont organis√©s sous forme d‚Äôarbre

---
#### S√©lections d'√©l√©ments poss√©dant les m√™mes propri√©t√©s

<br><br>
**Permet de s√©lectionner des objets du m√™me type, ou tous les objets ayant la m√™me couleur de fond ou de contour.**

**`√âdition`** > **`S√©lectionner m√™me`** > ...

---
## Exercice 3

<br><br>

**Consigne** :

- Am√©liorez l'habillage et la mise en page de l'une de vos cartes pr√©c√©dentes (exercice 1 ou 2) dans un logiciel d'√©dition vectorielle.


**Objectifs techniques** :

- Identifier les diff√©rents groupes dans le document SVG
- Identifier les √©l√©ments de la carte sur lesquels il est possible de travailler
- Connaitre quelques-uns des outils offerts par Inkscape


<img src="img/logo_inkscape.png" style="position: absolute; top: 20px; right: 50px; width: 140px;" />

.center[Temps de r√©alisation : **üöÄ 50 min üöÄ**]

---
class: section-change

# Autres m√©thodes de repr√©sentation ...

---
class: center, middle
## Analyse spatiale et cartographie...

---
### Cartographier des densit√©s ... √† partir d'une implantation zonale

<br>

- **Densit√© = Rapport entre un nombre d'_items_ et une surface**  
Densit√© de population (hb / km¬≤), densit√© de bancs, etc.

<br>

- **Variable quantitative relative / Ratio**  
**‚ûú √Ä-plat de couleur / Carte choropl√®the avec progression color√©e**

---
#### Cartographie "directe"

.center[![](img/pop_bre.png)]

---
#### Carroyage

.center[![](img/pop_bre2.png)]

---
#### Carroyage

.center.img50[![](img/pop_bre2.png)]

**‚ûú M√©thode du _carroyage_ permet d'essayer de s'affranchir de l'arbitraire et de l'irr√©gularit√© d'un d√©coupage administratif.**

**‚ûú** Met en √©vidence les **grandes tendances de la r√©partition spatiale d'un ph√©nom√®ne** et permet de traiter la donn√©e en d√©coupant le territoire en **unit√©s r√©guli√®res**.

**‚ûú Les carreaux cr√©√©s se voient affect√© de la valeur de la variable observ√©e pour les entit√©s intersect√©es, au prorata des surfaces concern√©es.**

---
#### Lissage spatial

.center[![](img/pop_bre3.png)]

---
#### Lissage spatial

.center.img35[![](img/pop_bre3.png)]

**‚ûú** M√©thode d'analyse spatiale et de repr√©sentation bas√©e sur le calcul de potentiels _(dit "de Stewart")_ et qui n‚Äôa pas vocation √† annuler ou att√©nuer le bruit (information parasite qui tend √† brouiller la lecture) mais **s‚Äôaffranchit compl√®tement du maillage administratif de d√©part**.

**‚ûú** Permet d‚Äô**observer la r√©partition spatiale du ph√©nom√®ne √©tudi√©, quelque soit l‚Äôh√©t√©rog√©n√©it√© du maillage affect√© en tout point de la carte**.

**‚ûú Selon les param√®tres d'entr√©e du calcul, cette m√©thode permet _"de voir aussi bien les sp√©cificit√©s locales d'un ph√©nom√®ne que ses tendances g√©n√©rales"_ (Lambert & Zanin, 2016)**.

---
#### Lissage spatial

<br>

**‚ûú** Pour effectuer cette repr√©sentation, une **grille r√©guli√®re** de points est cr√©√©e. La valeur du potentiel est calcul√©e pour chacun de ces points.

<br>

**‚ûú** Des **contours** _(ou lignes de niveaux)_ sont ensuite cr√©√©es afin de regrouper des sous-ensembles de ces points en fonctions de leurs valeurs.

---

.img55.center[![](img/pot0.png)]

---

.img55.center[![](img/pot1.png)]

---

.img55.center[![](img/pot2.png)]

---
#### Lissage spatial

.center.img35[![](img/pop_bre3.png)]


**‚ûú** Il s'agit bien d'un mod√®le d'**interaction** et non pas simplement d'une simple interpolation (comme _IDW_).

**‚ûú** Ce qui est calcul√© correspond au **potentiel d'acc√®s** au stock (population, √©quipement, etc.) pour lequel il est calcul√©. On parle √©galement de **somme pond√©r√©e d'acc√®s √† un stock**.

**‚ûú** Les param√®tres de cette fonctionnalit√©s (_span_, _beta_ et type de _fonction d'interaction_) permettent de mod√©liser la mani√®re ce potentiel d'acc√®s d√©croit avec la distance.

---
#### Lissage spatial

.center[![](img/pop_bre4.png)]

<br>

_Acc√®s √† un stock de population **bretonne**_

---
#### Lissage spatial

.center.img35[![](img/pop_bre3.png)]

<br>

**‚ö† Attention √©galement √† la taille des entit√©s utilis√©es - Lors de l'utilisation d'une couche de Polygone, Magrit utilise leurs _centroides_**.

**‚ö† Il faut distinguer la m√©thode qui permet de calculer les valeurs en tout point de l'espace _(ici la m√©thode des potentiels de Stewart)_ de la m√©thode qui consiste √† cr√©er des contours _(ligne de niveau)*_, cette derni√®re pouvant √™tre appliqu√©e √† d'autres m√©thodes _(IDW, Kriging, etc.)_**.


---
### Cartographier des densit√©s ... √† partir d'une implantation ponctuelle

### Implantation ponctuelle

.center.withborderdb[![](img/font1.png)]

.center[_**Fontaines dans l'espace public √† Paris**_]

---
### Implantation ponctuelle

.center.img65[![](img/bancs_pt.png)]

.center[_**Bancs `(amenity=bench dans OSM) dans la M√©tropole de Grenoble`**_]

---
### Implantation ponctuelle

<br><br><br>


Parfois la repr√©sentation directe de l'information ponctuelle peut s'av√©rer difficile √† lire ET ne pas rendre directement visible le ph√©nom√®ne spatial √©tudi√©.

<br>

Il peut √™tre n√©cessaire d'aggr√©ger l'information en utilisant un maillage, qu'il soit existant (maillage territorial par exemple) ou qu'il s'agisse d'un carroyage (une grille) cr√©√© pour l'occasion.

---
### "Analyse d'un semi de points"

.center.img65[![](img/bancs.png)]

---
### "Analyse d'un semi de points"

.center.img35[![](img/bancs.png)]

**‚ûú Aggr√©gation de l'information ponctuelle de localisation des bancs en comptant chacune des entit√©s**

**‚ûú Utilisation du fond d'une grille r√©guli√®re _(ici hexagonale)_**

**‚ûú R√©alisation d'une carte choropl√®the _(bancs / km¬≤ : ratio)_**


---
### "Analyse d'un semi de points"

.center[![](img/date_moyenne_bati.png)]

---
### "Analyse d'un semi de points"

.center.img65[![](img/date_moyenne_bati.png)]

**‚ûú Aggr√©gation de l'information ponctuelle _"date de construction"_ en faisant la moyenne des valeurs**

**‚ûú Utilisation du fond de carte des _quartiers_ comme maille d'analyse**

**‚ûú R√©alisation d'une carte choropl√®the _(ratio)_**

---
### "Analyse d'un semi de points"

.center.withborderdb[![](img/font1.png)]

---
### "Analyse d'un semi de points"

.center.withborderdb[![](img/font2.png)]

---
### "Analyse d'un semi de points"

.center.withborderdb[![](img/font3.png)]

---
### "Analyse d'un semi de points"

.center.withborderdb[![](img/font4.png)]

---
### Lissage spatial

.center.withborderdb[![](img/font5.png)]
