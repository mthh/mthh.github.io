<!DOCTYPE html>
<html lang="fr" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <title>Cours Technologies Web - LP ESSIG - 2022/2023</title>
        <meta name="robots" content="noindex" />

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="src/custom.css">
        <link rel="stylesheet" href="src/bootstrap-scoped.min.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try {
                  sidebar = localStorage.getItem('mdbook-sidebar');
                } catch(e) {
                  sidebar = 'visible';
                }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div id="sidebar-scrollbox" class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="0.html">Accueil</a></li><li class="chapter-item expanded "><a href="1-Intro.html"><strong aria-hidden="true">1.</strong> √âl√©ments th√©oriques</a></li><li class="chapter-item expanded "><a href="2-HTML_CSS.html"><strong aria-hidden="true">2.</strong> Intro HTML 5 / CSS 3</a></li><li class="chapter-item expanded "><a href="3-structure-style.html"><strong aria-hidden="true">3.</strong> Structurer et styler un document HTML</a></li><li class="chapter-item expanded "><a href="4-css-bootstrap.html"><strong aria-hidden="true">4.</strong> Le framework Bootstrap</a></li><li class="chapter-item expanded "><a href="5-javascript.html"><strong aria-hidden="true">5.</strong> Javascript - Notions Th√©oriques</a></li><li class="chapter-item expanded "><a href="6-javascript-suite.html"><strong aria-hidden="true">6.</strong> Javascript - Mise en pratique</a></li><li class="chapter-item expanded "><a href="7-serveur-client1.html"><strong aria-hidden="true">7.</strong> Programmation Web cot√© serveur en Python</a></li><li class="chapter-item expanded "><a href="8-serveur-client2.html"><strong aria-hidden="true">8.</strong> Interactions serveur/client, formulaires et BD</a></li><li class="chapter-item expanded "><a href="9-whatelse.html"><strong aria-hidden="true">9.</strong> Technos Web... quoi d'autre ?</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="glossaire.html">Glossaire - M√©mo</a></li><li class="chapter-item expanded affix "><a href="tp_data.html">Donn√©es TP & Corrections</a></li><li class="chapter-item expanded affix "><a href="exam.html">Pr√©c√©dents sujets d'examen</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                        </div>

                        <h1 class="menu-title">Cours Technologies Web - LP ESSIG - 2022/2023</h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                        </div>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div style="text-align: center">
<h1 id="cours-technologies-web"><a class="header" href="#cours-technologies-web">Cours Technologies Web</a></h1>
<h1 id="lp-essig---universit√©-grenoble-alpes"><a class="header" href="#lp-essig---universit√©-grenoble-alpes">LP ESSIG - Universit√© Grenoble Alpes</a></h1>
<br>
<p>Sur cette page sont disponibles les diff√©rents cours / TP en version HTML.</p>
<p>Vous y trouverez √©galement un glossaire des termes importants ainsi que les sujets d'examen des ann√©es pr√©c√©dentes.</p>
<p>Le contenu de cette page est actualis√© avant chaque s√©ance au fil de votre progression.</p>
<h3 id="objectifs-du-cours-"><a class="header" href="#objectifs-du-cours-">Objectifs du cours :</a></h3>
<div style="text-align: left">
<ul>
<li>Avoir connaissance des principaux √©l√©ments (protocoles, sp√©cifications, etc.) qui composent les technologies web.</li>
<li>Conna√Ætre les principaux √©l√©ments n√©cessaires √† la cr√©ation de page web (HTML, CSS).</li>
<li>Comprendre l'architecture client / serveur appliqu√©e √† la cr√©ation de sites web dynamiques.</li>
<li>Avoir connaissance d'une partie des possibilit√©s offertes par le langage Javascript.</li>
</ul>
</div>
<h3 id="s√©ances-"><a class="header" href="#s√©ances-">S√©ances :</a></h3>
<div style="text-align: left">
<div class="table-wrapper"><table><thead><tr><th>Date</th><th>Contenu</th></tr></thead><tbody>
<tr><td>Mer. 11/01/23 (10-12h)</td><td>√âl√©ments th√©oriques</td></tr>
<tr><td>Mer. 11/01/23 (13-15h)</td><td>Introduction HTML 5 / CSS 3</td></tr>
<tr><td>Mer. 11/01/23 (15-17h)</td><td>Structurer et styler un document HTML</td></tr>
<tr><td>Jeu. 12/01/23 (10-12h)</td><td>Le framework bootstrap</td></tr>
<tr><td>Jeu. 12/01/23 (13-15h)</td><td>JavaScript - Notions th√©oriques</td></tr>
<tr><td>Jeu. 12/01/23 (15-17h)</td><td>JavaScript - Mise en pratique</td></tr>
<tr><td>Ven. 13/01/23 (10-12h)</td><td>Programmation Web c√¥t√© serveur en Python</td></tr>
<tr><td>Ven. 13/01/23 (13-15h)</td><td>Interactions serveur/client, formulaires et BD</td></tr>
<tr><td>Ven. 13/01/23 (15-17h)</td><td>Technos Web... quoi d'autre ?</td></tr>
</tbody></table>
</div></div>
<h3 id="modalit√©s-d√©valuation-"><a class="header" href="#modalit√©s-d√©valuation-">Modalit√©s d'√©valuation :</a></h3>
<div style="text-align: left">
<ul>
<li>
<p>Un test final de 45min lors d'une s√©ance (date √† d√©finir) pr√©vue √† cet effet (¬Ω de la note)</p>
</li>
<li>
<p>Un TP √† faire √† la maison (¬Ω de la note)</p>
</li>
</ul>
</div>
<br>
<h4 id="supports-de-cours--matthieu-viry"><a class="header" href="#supports-de-cours--matthieu-viry">Supports de cours : <a href="mailto:matthieu.viry@cnrs.fr">Matthieu Viry</a></a></h4>
<h4 id="pr√©par√©-sur-la-base-des-supports-de-marl√®ne-villanova"><a class="header" href="#pr√©par√©-sur-la-base-des-supports-de-marl√®ne-villanova"><em>(pr√©par√© sur la base des supports de Marl√®ne Villanova)</em></a></h4>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cours-dintroduction-aux-technos-web"><a class="header" href="#cours-dintroduction-aux-technos-web">Cours d'introduction aux Technos Web</a></h1>
<h1 id="√âl√©ments-th√©oriques"><a class="header" href="#√âl√©ments-th√©oriques">√âl√©ments th√©oriques</a></h1>
<br>
<br>
<div style="text-align: center;"><h4>
Voir le <a target="blank" href="1-Intro-Internet-web/index.html">cours sous forme de slides<img src="img/magnify-clip-ltr.svg" /></a></h4>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cours--tp"><a class="header" href="#cours--tp">Cours / TP</a></h1>
<h1 id="introduction-√†-la-cr√©ation-de-pages-web-en-html-5--css-3"><a class="header" href="#introduction-√†-la-cr√©ation-de-pages-web-en-html-5--css-3">Introduction √† la cr√©ation de pages Web en HTML 5 / CSS 3</a></h1>
<p>HTML est l‚Äôabr√©viation de <em>HyperText Markup Language</em>. Il s'agit d'un langage qui formalise l'√©criture d'un document web¬†√† l‚Äôaide de balises.<br />
Une page HTML est un fichier texte contenant des balises permettant de structurer le contenu de la page (titres, paragraphes, images, liens, etc.).<br />
La mise en forme du contenu est prise en charge par un autre fichier cod√© dans le langage <em>Cascasding Style Sheet</em> (appel√© une feuille de style en cascade). L'expression de ¬´ cascade ¬ª permet ici de d√©signer la possibilit√©, pour un document HTML, d'avoir un style h√©rit√© de plusieurs de ces feuilles de style.</p>
<p>Ce TP est une br√®ve introduction √† ces 2 langages compl√©mentaires.</p>
<h2 id="1-environnement-de-travail"><a class="header" href="#1-environnement-de-travail">1. Environnement de travail</a></h2>
<p>L‚Äôenvironnement dans lequel nous allons travailler comprend¬†:</p>
<ul>
<li>un √©diteur de code (par exemple <em>Brackets</em>, <em>VS Code</em> ou <em>NotePad++</em>) pour cr√©er et modifier du code,</li>
<li>le navigateur de votre choix (<em>Firefox</em> ou <em>Chrome</em> de pr√©f√©rence, <em>Microsoft Edge</em>, etc.) pour visualiser les pages cr√©√©es et naviguer d‚Äôune page √† l‚Äôautre.</li>
</ul>
<p>Si vous voulez utiliser VS Code il est normalement possible d'en installer une version &quot;portable&quot; dans votre dossier utilisateur.
Il faut:</p>
<ol>
<li>t√©l√©charger la version <code>.zip</code> pour <code>Windows</code> <code>64bits</code> sur la page <a target="_blank" href="https://code.visualstudio.com/download">https://code.visualstudio.com/download</a>.</li>
<li>d√©zipper le fichier t√©l√©charg√©.</li>
<li>cr√©er un dossier nomm√© <code>data</code> dans le dossier de VS Code (<code>VSCode-win32-x64-1.62.2</code>).</li>
<li>l'application peut √™tre lanc√©e en double-cliquant sur <code>Code.exe</code>.</li>
</ol>
<h2 id="2-html--principe-g√©n√©ral-des-balises"><a class="header" href="#2-html--principe-g√©n√©ral-des-balises">2. HTML¬†: principe g√©n√©ral des balises</a></h2>
<div class="img-center">
<p><img src="img/logo_html5.png" alt="¬†" /></p>
</div>
<h3 id="21-balises-html"><a class="header" href="#21-balises-html">2.1 Balises HTML</a></h3>
<p>Les <strong>balises</strong> structurent le contenu en d√©limitant les diff√©rentes parties du document HTML (titre, paragraphe, ...). Elles fonctionnent par paire: une balise ouvrante <code>&lt;nom_balise&gt;</code>, une balise fermante <code>&lt;/nom_balise&gt;</code> d√©limitant ensemble une partie du contenu, repr√©sent√© par une cha√Æne de caract√®res. Exemple d‚Äôune balise d√©limitant un paragraphe¬†:</p>
<pre><code class="language-html">&lt;p&gt;ici le texte du paragraphe&lt;/p&gt;
</code></pre>
<p>L‚Äôexemple suivant montre la syntaxe permettant de placer une image dans la page Web. Dans la balise ouvrante, on trouve des paires attribut/valeur¬†:</p>
<pre><code class="language-html">&lt;img src=&quot;smiley.gif&quot; alt=&quot;Smiley face&quot; height=&quot;42&quot; width=&quot;42&quot;&gt;&lt;/img&gt;
</code></pre>
<ul>
<li><code>src</code> permet d‚Äôindiquer le chemin vers le fichier image</li>
<li><code>alt</code> d√©finit le texte de substitution √† afficher √©ventuellement</li>
<li><code>height</code> et <code>width</code> donnent les dimensions de l‚Äôimage.</li>
</ul>
<p>Dans certain cas, une seule balise ‚Äì √† la fois ouvrante et fermante ‚Äì est utilis√©e : <code>&lt;nom_balise /&gt;</code>, cela ne l'emp√™che pas de contenir des attributs ; en r√©alit√© on l'utilise notamment pour la balise <code>&lt;img&gt;</code> et on √©crira donc plus souvent :</p>
<pre><code class="language-html">&lt;img src=&quot;smiley.gif&quot; alt=&quot;Smiley face&quot; height=&quot;42&quot; width=&quot;42&quot; /&gt;
</code></pre>
<p>Les balises HTML peuvent √™tre imbriqu√©es entre elles¬†:</p>
<pre><code class="language-html">&lt;body&gt;
	&lt;h1&gt;du texte&lt;/h1&gt;
	&lt;p&gt;
		du texte encore, avec une image
		&lt;img src=&quot;smiley.gif&quot; alt=&quot;Smiley face&quot; height=&quot;42&quot; width=&quot;42&quot; /&gt;
		et la fin du texte
	&lt;/p&gt;
&lt;/body&gt;
</code></pre>
<p>Ici la balise <code>p</code> <em>(paragraphe)</em> contient la balise <code>img</code> <em>(image)</em>.</p>
<blockquote>
<p><strong>Remarque</strong>¬†: Lorsque plusieurs balises sont imbriqu√©es, une r√®gle simple s'applique : une balise ouverte √† l'int√©rieur d'une autre doit obligatoirement √™tre referm√©e avant la fermeture de sa balise m√®re.</p>
</blockquote>
<h3 id="22-structure-g√©n√©rale-dun-document-html"><a class="header" href="#22-structure-g√©n√©rale-dun-document-html">2.2 Structure g√©n√©rale d‚Äôun document HTML</a></h3>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;meta charset=&quot;utf-8&quot;/&gt;
		&lt;meta name=&quot;Language&quot; content=&quot;fr&quot; /&gt;
		&lt;meta name=&quot;Description&quot; content=&quot;cette page‚Ä¶&quot; /&gt;
		&lt;title&gt;Titre de la page&lt;/title&gt;
	&lt;/head&gt;
	&lt;body&gt;
		Corps de la page, ce qui est visible...
	&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>La premi√®re ligne du document est indispensable¬†: elle indique qu'il s'agit d'une page HTML. En HTML5 on √©crit simplement <code>&lt;!DOCTYPE html&gt;</code> (vous pouvez rencontrer des fichiers HTML de versions ant√©rieures avec un doctype beaucoup plus compliqu√©...).</p>
<p>Ensuite, la balise <code>&lt;html&gt;  &lt;/html&gt;</code> englobera l‚Äôensemble des autres balises de la page. Elle contient deux paires de balises:</p>
<ul>
<li>La balise <code>&lt;head&gt;  &lt;/head&gt;</code> d√©limitant l‚Äôent√™te du document et contenant diverses informations sur le document lui-m√™me (m√©tadonn√©es). Son contenu n‚Äôest pas visible dans la page interpr√©t√©e par le navigateur. √Ä noter¬†:
<ul>
<li>l‚Äôencodage du texte <code>&lt;meta charset=&quot;utf-8&quot;/&gt;</code> pour √©viter les probl√®mes d‚Äôaffichages des caract√®res sp√©ciaux</li>
<li>La balise <code>&lt;title&gt;Titre de la page&lt;/title&gt;</code> qui contient le titre (assez court) qui s‚Äôaffiche dans l‚Äôonglet de la fen√™tre du navigateur.</li>
</ul>
</li>
<li>La balise <code>&lt;body&gt; &lt;/body&gt;</code> d√©limitant le corps du document. Cette portion contient la partie visible du document HTML. C‚Äôest ici qu‚Äôon trouvera les autres balises (de diff√©rents types) structurant le document.</li>
</ul>
<h4 id="exercice-1--cr√©ation-dune-page--une-introduction-au-langage-html"><a class="header" href="#exercice-1--cr√©ation-dune-page--une-introduction-au-langage-html">Exercice 1¬†: Cr√©ation d‚Äôune page ‚Äì une introduction au langage HTML</a></h4>
<p>La page qui va nous servir d‚Äôexemple est la page d‚Äôaccueil du site web d‚Äôun centre commercial. La page <code>accueil.html</code> est √† r√©cup√©rer √† l'emplacement suivant : <a href="data/TP2.zip">TP2.zip</a>, puis nous allons :</p>
<ul>
<li>la visualiser dans l‚Äô√©diteur de code (lancez l‚Äô√©diteur, puis ouvrez le fichier depuis le menu)¬†: vous voyez le code HTML</li>
<li>la visualiser dans le navigateur¬†: vous voyez le code interpr√©t√© par le navigateur (¬´¬†la page web¬†¬ª)</li>
</ul>
<p><strong>üöÄ <em>Nous allons compl√©ter le code du fichier <code>accueil.html</code> en suivant les instructions donn√©es en commentaires. Attention, une erreur de syntaxe s'est √©galement gliss√©e dans ce fichier, il faut la corriger !</em></strong></p>
<blockquote>
<p><strong>Remarque</strong>¬†: Vous passerez d‚Äôun outil √† l‚Äôautre pour modifier et visualiser ce code (i.e. de l‚Äô√©diteur au navigateur), sans fermer ces logiciels mais en enregistrant vos modifications dans l‚Äô√©diteur et en actualisant la page dans le navigateur pour que le code soit r√©interpr√©t√©.</p>
</blockquote>
<h4 id="exercice-2--introduction-√†-lutilisation-des-hyperliens"><a class="header" href="#exercice-2--introduction-√†-lutilisation-des-hyperliens">Exercice 2¬†: introduction √† l‚Äôutilisation des hyperliens</a></h4>
<p>Plusieurs types de liens existent. Pour l‚Äôinstant nous allons voir les liens envoyant vers une autre page (du web ou que vous avez cr√©√©e).</p>
<p>Pour pointer vers une page du web, on utilisera :</p>
<pre><code class="language-html">&lt;a href=&quot;https://www.stid-grenoble.fr/&quot;&gt;Lien vers le site de STID&lt;/a&gt;
</code></pre>
<p>ce qui affiche : <a href="https://www.stid-grenoble.fr/">Lien vers le site de STID</a>.</p>
<p>Pour pointer vers une de ses propres pages, il suffit de donner le chemin vers le fichier comme valeur pour l‚Äôattribut <code>href</code>.</p>
<blockquote>
<p><strong>Remarque</strong>¬†: Un m√©canisme existe pour demander au navigateur d'ouvrir la cible du lien si possible dans un nouvel onglet ou sinon dans une nouvelle fen√™tre. Il faut pour cel√† utiliser l'attribut <code>target</code> et lui donner la valeur <code>_blank</code> :</p>
</blockquote>
<pre><code class="language-html">&lt;a href=&quot;https://fr.wikipedia.org/&quot; target=&quot;_blank&quot;&gt;Wikipedia&lt;/a&gt;
</code></pre>
<p>üöÄ <strong>Consignes</strong>:</p>
<ul>
<li>Cr√©ez une nouvelle page appel√©e <code>partenaires.html</code> et placez-la au m√™me endroit que le fichier <code>accueil.html</code>.</li>
<li>√âditez le document <code>partenaires.html</code> pour ajouter un lien vers le site du d√©partement STID <em>(/!\ attention, la cible de ce lien doit s'ouvrir dans un nouvel onglet car on ne veut pas que les visiteurs quittent notre site !)</em>.</li>
<li>Ins√©rez un lien vers la page <code>partenaires.html</code> dans le fichier <code>accueil.html</code>.</li>
<li>En plus (ou √† la place) d'utiliser un morceau de texte, on souhaite que l'utilisateur puisse acc√©der √† la page  <code>partenaires.html</code> en cliquant sur l'image ajout√©e pr√©c√©demment. Comment devez-vous vous-y prendre ?</li>
</ul>
<h2 id="3-css--objectifs-et-avantage"><a class="header" href="#3-css--objectifs-et-avantage">3. CSS¬†: Objectifs et avantage</a></h2>
<div class="img-center">
<p><img src="img/logo_css3.png" alt="¬†" /></p>
</div>
<p>Une feuille de style est un document associ√© √† un document HTML et qui indique comment devra √™tre affich√© tel ou tel √©l√©ment de la page.</p>
<p>Par exemple, une feuille de style permettra de pr√©senter¬†:</p>
<ul>
<li>tous les liens en italique, soulign√©s et en bleu</li>
<li>tous les liens cliqu√©s en italique, soulign√©s et en vert</li>
<li>tous les paragraphes de cours √† conna√Ætre en police Comic, de taille 11, en noir, surlign√©s en gris et centr√©s</li>
</ul>
<p>Le but recherch√© est de mettre en place une <strong>ind√©pendance entre le contenu d‚Äôune page web et sa pr√©sentation</strong>, et ce pour garantir¬†:</p>
<ul>
<li>une meilleure lisibilit√© du code source puisque les 2 aspects (contenu et style) sont s√©par√©s</li>
<li>un gain de temps quand il s‚Äôagit de proc√©der √† des modifications¬†: pour changer, pour tous les titres, la taille de police, il suffit de changer une valeur √† un seul endroit et la modification sera r√©percut√©e partout.</li>
<li>une r√©utilisation ais√©e d‚Äôun contenu (pour lui appliquer d‚Äôautres styles) ou d‚Äôune pr√©sentation (qu‚Äôon appliquera √† d‚Äôautres contenus).</li>
</ul>
<h3 id="31-syntaxe"><a class="header" href="#31-syntaxe">3.1 Syntaxe</a></h3>
<p>Il existe 3 fa√ßons de d√©finir le style d'√©l√©ments en utilisant la syntaxe des CSS. Par exemple, pour que la couleur de fond d‚Äôun document HTML soit rouge, on pourra¬†:</p>
<ol>
<li>Utiliser l'attribut ¬´ style ¬ª des balises HTML. Exemples :</li>
</ol>
<ul>
<li><code>&lt;body¬†style=&quot;background-color:¬†red;&quot;&gt;</code></li>
<li><code>&lt;p style=&quot;font-family: cursive&quot;&gt;Contenu du paragraphe en police manuscrite&lt;/p&gt;</code></li>
</ul>
<ol start="2">
<li>Utiliser la balise HTML ¬´ style ¬ª (dans l'en-t√™te de la page HTML, entre <code>&lt;head&gt;</code> et <code>&lt;/head&gt;</code>). Exemple :</li>
</ol>
<pre><code class="language-xml">&lt;style¬†type=&quot;text/css&quot;&gt;
	body¬†{ background-color:¬†red; }
&lt;/style&gt;
</code></pre>
<ol start="3">
<li>Utiliser une feuille de style externe et placer un lien vers la feuille de style dans l'en-t√™te de la page HTML.
Les instructions de style sont plac√©es dans un fichier texte dont l‚Äôextension est <code>.css</code> alors que le contenu est dans le fichier HTML appelant. Nous privil√©gierons cette 3√®me solution pour coder le style √† appliquer √† nos pages HTML.
Une feuille de style externe est ainsi constitu√©e d‚Äôune s√©rie de blocs d‚Äôinstructions compos√©s chacun:
<ul>
<li>d‚Äôun s√©lecteur,</li>
<li>d‚Äôune accolade ouvrante,</li>
<li>d‚Äôune s√©rie de couples propri√©t√©/valeur s√©par√©s par des points virgules,</li>
<li>et d‚Äôune accolade fermante.</li>
</ul>
</li>
</ol>
<div class="center">
<p><img src="img/tmp_css_selector.png" alt="S√©lecteur et d√©claration de la r√®gle (propri√©t√© / valeur)" title="S√©lecteur et d√©claration (propri√©t√© / valeur)" /></p>
</div>
<p>Pour revenir √† l‚Äôexemple, on √©crira ainsi¬†un fichier texte contenant l‚Äôinstruction <code>body¬†{ background-color:¬†red; }</code> et on associera ce fichier √† un document HTML¬†: pour √©tablir le lien avec la feuille de style (supposons qu‚Äôelle soit nomm√©e <code>mafeuille.css</code>), on √©crira¬†dans l‚Äôent√™te du fichier HTML (i.e. entre les balises <code>&lt;head&gt; &lt;/head&gt;</code>)¬†:</p>
<pre><code class="language-html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;mafeuille.css&quot; /&gt;
</code></pre>
<h4 id="exercice-3--d√©couverte-des-css"><a class="header" href="#exercice-3--d√©couverte-des-css">Exercice 3 : D√©couverte des CSS</a></h4>
<p>Nous allons laisser de c√¥t√© l'exemple de la page web du site commercial le temps d'un exercice.
Rendez-vous sur la page <a href="https://www.w3schools.com/css/tryit.asp?filename=trycss_default">https://www.w3schools.com/css/tryit.asp?filename=trycss_default</a> du site w3schools pour d√©couvrir les CSS de mani√®re interactive.</p>
<p>Prenez connaissance du document HTML qui vous est pr√©sent√© (√† gauche).</p>
<blockquote>
<p><strong>Remarque</strong>¬†: dans cet outil, la balise <code>&lt;style&gt;</code> est utilis√©e (cf. 2√®me syntaxe pr√©sent√©e).</p>
</blockquote>
<p><strong>üöÄ Consignes</strong> :</p>
<p>Modifiez les instructions comme indiqu√©¬†:</p>
<ul>
<li>pour <code>body</code>, changer la couleur par <code>#550066</code> (cliquez sur le bouton ‚ÄòRun‚Äô pour visualiser le r√©sultat apr√®s chaque modification)</li>
<li>pour <code>h1</code>,  utilisez la couleur jaune et alignez le texte √† gauche</li>
<li>pour <code>p</code>, passez en Arial 16 pixels, √©crit en blanc (<code>color: white;</code>)</li>
<li>ajouter d‚Äôautres textes encadr√©s par des balises <code>&lt;h1&gt;&lt;/h1&gt;</code> et <code>&lt;p&gt;&lt;/p&gt;</code></li>
<li>modifier √† nouveau les caract√©ristiques de style applicables aux balises <code>&lt;h1&gt;&lt;/h1&gt;</code> et <code>&lt;p&gt;&lt;/p&gt;</code></li>
</ul>
<h4 id="exercice-4--liaison-entre-un-fichier-html-et-un-fichier-css"><a class="header" href="#exercice-4--liaison-entre-un-fichier-html-et-un-fichier-css">Exercice 4¬†: Liaison entre un fichier HTML et un fichier CSS</a></h4>
<p><em>Retour √† l'exemple des exercices 1 et 2...</em></p>
<p><strong>üöÄ Consignes</strong> :</p>
<ol>
<li>Dans l‚Äôent√™te du fichier <code>accueil.html</code> (celui de la page d‚Äôaccueil du site web du centre commercial), √©tablissez le lien vers la feuille de style fournie (<code>styleAccueil.css</code>).</li>
<li>Visualisez le fichier HTML dans le navigateur.</li>
<li>Ouvrez ensuite le fichier <code>styleAccueil.css</code> avec l‚Äô√©diteur de code.</li>
<li>Modifiez et/ou ajoutez d‚Äôautres propri√©t√©s et/ou d‚Äôautres s√©lecteurs et visualisez le r√©sultat :
<ul>
<li>Changez la taille de l'image afin qu'elle n'occupe que <code>100px</code> de la largeur de la page,</li>
<li>Changez le style du titre <code>h1</code> pour quelque chose de plus sobre,</li>
<li>D√©finissez un style pour les √©l√©ments de titre <code>h2</code>,</li>
<li>Essayer de trouver sur quelle(s) propri√©t√©(s) CSS il est possible de jouer pour √©loigner le titre <code>h1</code> du sous-titre <code>h2</code>.</li>
</ul>
</li>
</ol>
<h3 id="32-pour-aller-plus-loin-avec-les-css"><a class="header" href="#32-pour-aller-plus-loin-avec-les-css">3.2 Pour aller plus loin avec les CSS</a></h3>
<p>Jusqu‚Äôici, vous avez √©crit des instructions de style qui s‚Äôappliquent √† une balise (les m√™mes balises ex. <code>&lt;h1&gt;</code> ont un seul et m√™me style). Nous allons voir deux m√©canismes suppl√©mentaires port√©s par les attributs HTML <code>class</code> et <code>id</code> qui permettent d‚Äôappliquer des styles diff√©rents aux diff√©rentes occurrences d‚Äôune m√™me balise.</p>
<p>Les classes. On d√©finit autant de classes que n√©cessaires pour la balise concern√©e et on associe un style √† chacune des classes. La notation suivante est adopt√©e¬†:</p>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">p.typeA { color: blue; }
p.typeB { color: red; }
</code></pre>
<p><u>Code HTML:</u></p>
<pre><code class="language-html">&lt;p&gt;Un paragraphe sans style particulier&lt;p&gt;
&lt;p class=&quot;typeA&quot;&gt;Un paragraphe qui utilise le style d√©fini par p.typeA dans la CSS&lt;/p&gt;
&lt;p class=&quot;typeB&quot;&gt;Un autre qui utilise le style d√©fini par p.typeB dans la CSS&lt;/p&gt;
&lt;p class=&quot;typeA&quot;&gt;De nouveau un paragraphe qui utilise le style d√©fini par p.typeA&lt;/p&gt;
&lt;p class=&quot;typeB&quot;&gt;et un paragraphe qui utilise √©galement le style d√©fini par p.typeB&lt;/p&gt;
</code></pre>
<p><u>R√©sultat:</u></p>
<div class="res"><p>Un paragraphe sans style particulier<p><p style="color: blue;">Un paragraphe qui utilise le style d√©fini par p.typeA dans la CSS</p><p style="color: red;">Un autre qui utilise le style d√©fini par p.typeB dans la CSS</p><p style="color: blue;">De nouveau un paragraphe qui utilise le style d√©fini par p.typeA</p><p style="color: red;">et un paragraphe qui utilise √©galement le style d√©fini par p.typeB</p></div>
<p>On note que, puisque les classes <code>typeA</code> et <code>typeB</code> ne sont pas utilis√©es sur d'autres √©l√©ments que des paragraphes, il aurait √©t√© identique d'√©crire :</p>
<pre><code class="language-css">.typeA { color: blue; }
.typeB { color: red; }
</code></pre>
<p>Il existe une autre fa√ßon de proc√©der pour permettre l‚Äôapplication de styles diff√©rents √† une m√™me balise. Il s‚Äôagit d‚Äôutiliser non pas une classe (attribut <code>class</code>) mais un identifiant (attribut <code>id</code>).</p>
<p>Le principe est le m√™me dans les deux cas mais la diff√©rence est qu‚Äôon utilisera l‚Äôattribut <code>class</code> lorsque le style est applicable √† plusieurs endroits dans le document alors qu‚Äôon utilisera l‚Äôattribut <code>id</code> quand le style est sp√©cifique √† un endroit particulier dans le document.</p>
<p>En effet, la valeur d‚Äôun <code>id</code> est cens√©e √™tre unique dans le document HTML.</p>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">#abc {
	color: blue;
	text-align: center;
}

#ident1 { color: green; }
</code></pre>
<p><u>Code HTML:</u></p>
<pre><code class="language-html">&lt;p&gt;Un paragraphe sans style particulier&lt;p&gt;
&lt;p id=&quot;abc&quot;&gt;Seul paragraphe utilisant le style d√©fini par #abc dans la CSS&lt;/p&gt;
&lt;p id=&quot;ident1&quot;&gt;Seul qui utilise le style d√©fini par #ident1 dans la CSS&lt;/p&gt;
</code></pre>
<p><u>R√©sultat:</u></p>
<div class="res">	<p>Un paragraphe sans style particulier<p>	<p style="color: blue;text-align: center;">Seul paragraphe utilisant le style d√©fini par #abc dans la CSS</p>	<p style="color: green;">Seul qui utilise le style d√©fini par #ident1 dans la CSS</p></div>
<h3 id="33-quelques-autres-s√©lecteurs-css-que-vous-pourrez-rencontrer"><a class="header" href="#33-quelques-autres-s√©lecteurs-css-que-vous-pourrez-rencontrer">3.3 Quelques autres s√©lecteurs CSS que vous pourrez rencontrer...</a></h3>
<h4 id="la-s√©lection-de-plusieurs-√©l√©ments-s√©par√©s-par-une-virgule--"><a class="header" href="#la-s√©lection-de-plusieurs-√©l√©ments-s√©par√©s-par-une-virgule--">La s√©lection de plusieurs √©l√©ments s√©par√©s par une virgule <code>,</code> :</a></h4>
<pre><code class="language-css">h1, h2, h3 {
	color: green;
}
</code></pre>
<p>Ici plusieurs types d'√©l√©ments (<code>h1</code>, <code>h2</code> et <code>h3</code>) sont s√©lectionn√©s pour appliquer √† tous une m√™me r√®gle.</p>
<h4 id="le-s√©lecteur-dattributs-avec-la-notation-entre-crochets-"><a class="header" href="#le-s√©lecteur-dattributs-avec-la-notation-entre-crochets-">Le s√©lecteur d'attributs avec la notation entre crochets :</a></h4>
<pre><code class="language-css">img[src] {
	border: solid 1px gray;
}
</code></pre>
<p>Ce s√©lecteur s√©lection les √©l√©ments qui poss√®dent l'attribut donn√© entre crochet. Ici la r√®gle ne sera appliqu√©e qu'aux  images qui ont un attribut <code>src</code>.</p>
<p>Il est possible d'√™tre plus pr√©cis, et de conditionner l'application de ce style √† une valeur sp√©cifique de l'attribut <code>src</code> (ici <code>smiley.gif</code>) :</p>
<pre><code class="language-css">img[src=&quot;smiley.gif&quot;] {
	border: solid 1px gray;
}
</code></pre>
<h4 id="le-s√©lecteur-d√©l√©ments-enfants-directs-avec-le-combinateur--"><a class="header" href="#le-s√©lecteur-d√©l√©ments-enfants-directs-avec-le-combinateur--">Le s√©lecteur d'√©l√©ments enfants directs avec le combinateur <code>&gt;</code> :</a></h4>
<pre><code class="language-css">ul.type-A &gt; li {
	margin: 2em;
}
</code></pre>
<p>Ici la r√®gle de style va s'appliquer seulement aux √©l√©ments de type <code>li</code> qui sont enfants directs d'un √©l√©ment <code>ul</code> avec la classe <code>type-A</code> .</p>
<h4 id="le-s√©lecteur-d√©l√©ments-descendants-avec-le-combinateur---espace-"><a class="header" href="#le-s√©lecteur-d√©l√©ments-descendants-avec-le-combinateur---espace-">Le s√©lecteur d'√©l√©ments descendants avec le combinateur <code> </code> (espace) :</a></h4>
<pre><code class="language-css">div span {
	color: red;
}
</code></pre>
<p>Ici la r√®gle de style va s'appliquer √† tous les √©l√©ments de type <code>span</code> qui sont enfants (pas n√©cessairement directs) d'un √©l√©ment <code>div</code>.</p>
<h4 id="des-s√©lections-encores-plus-fines-avec-les-s√©lecteur-de-pseudo-classe"><a class="header" href="#des-s√©lections-encores-plus-fines-avec-les-s√©lecteur-de-pseudo-classe">Des s√©lections encores plus fines avec les s√©lecteur de pseudo-classe</a></h4>
<p>Nous verrons qu'il existe encore plusieurs mani√®res de manipuler les s√©lecteurs CSS. Il est par exemple possible de cibler un √©l√©ment seulement lorsque il est dans un √©tat particulier : on parle alors de <strong>s√©lecteur de pseudo-classe</strong>.
Par exemple il est possible d'appliquer un style particulier aux liens (√©l√©ments <code>&lt;a&gt;</code>) qui ont d√©j√† √©t√© cliqu√©s par l'utilisateur en ciblant les liens appropri√©s avec la pseudo-classe <code>:visited</code> :</p>
<pre><code class="language-css">a:visited {
	color: darkblue;
}
</code></pre>
<p>Cette possibilit√© va permettre d'√©tendre de mani√®re puissante le m√©canisme de s√©lection vu jusqu'ici gr√¢ce √† l'existence de pseudo-classes telles que : <code>:hover</code> (sp√©cification de l'apparence d'un √©l√©ment lors du survole avec le pointeur), <code>:disabled</code> (pour cibler un √©l√©ment d√©sactiv√©), <code>:only-child</code> (s√©lection d'un √©l√©ment qui est le seul enfant de son parent), etc.</p>
<p>Ainsi, la pseudo-classe <code>:nth-child</code> va rendre possible de cibler chaque √©l√©ment qui est le <code>n</code>i√®me enfant, quel que soit sont type, de son parent. Si nous avons 5 paragraphes dans un m√™me √©l√©ment de type <code>div</code> il est possible de s√©lectionner le second de la mani√®re suivante :</p>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">p:nth-child(2) {
	color: red;
}
</code></pre>
<p><u>Code HTML:</u></p>
<pre><code class="language-html">&lt;div&gt;
	&lt;p&gt;The first paragraph.&lt;/p&gt;
	&lt;p&gt;The second paragraph.&lt;/p&gt;
	&lt;p&gt;The third paragraph.&lt;/p&gt;
	&lt;p&gt;The fourth paragraph.&lt;/p&gt;
	&lt;p&gt;The fifth paragraph.&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p><u>R√©sultat:</u></p>
<div class="res">
	<p>The first paragraph.</p>
	<p style="color: red;">The second paragraph.</p>
	<p>The third paragraph.</p>
	<p>The fourth paragraph.</p>
	<p>The fifth paragraph.</p>
</div>
<p>C'est √©galement avec cet √©l√©ment <code>:nth-child</code> qu'il va √™tre possible de s√©lectionner tous les enfants dont l'indice est paire ou impaire en utilisant les mots-cl√©s <code>even</code> ou <code>odd</code>.</p>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">p:nth-child(even) {
	background: green;
}
p:nth-child(odd) {
	background: gray;
}
</code></pre>
<p><u>Code HTML:</u></p>
<pre><code class="language-html">&lt;div&gt;
	&lt;p&gt;The first paragraph.&lt;/p&gt;
	&lt;p&gt;The second paragraph.&lt;/p&gt;
	&lt;p&gt;The third paragraph.&lt;/p&gt;
	&lt;p&gt;The fourth paragraph.&lt;/p&gt;
	&lt;p&gt;The fifth paragraph.&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p><u>R√©sultat:</u></p>
<div class="res">
	<p style="background: gray;">The first paragraph.</p>
	<p style="background: green;">The second paragraph.</p>
	<p style="background: gray;">The third paragraph.</p>
	<p style="background: green;">The fourth paragraph.</p>
	<p style="background: gray;">The fifth paragraph.</p>
</div>
<h4 id="un-r√©capitulatif-en-vid√©os-"><a class="header" href="#un-r√©capitulatif-en-vid√©os-">Un r√©capitulatif en vid√©os ?</a></h4>
<ul>
<li>
<p>HTML :</p>
<ul>
<li>R√©capitulatif sur HTML en 7 minutes : <a href="https://www.youtube.com/watch?v=PORRrz3Y8Vc">Web Demystified #1 - HTML</a></li>
</ul>
</li>
<li>
<p>CSS</p>
<ul>
<li>R√©capitulatif sur CSS en 7 minutes : <a href="https://www.youtube.com/watch?v=PORRrz3Y8Vc">Web Demystified #2 - CSS</a></li>
<li><a href="https://www.youtube.com/watch?v=aHUtMbJw8iA">Pourquoi CSS est si bizarre ?</a> (discussion sur les particularit√©s du langage CSS et sur son histoire)</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="structurer-et-styler-un-document-html"><a class="header" href="#structurer-et-styler-un-document-html">Structurer et styler un document HTML</a></h1>
<p>Lors de ce TP vous allez manipuler plusieurs nouvelles balises HTML.<br />
Dans un premier temps nous allons d√©couvrir rapidement leurs usages.<br />
Dans un second temps vous devrez les utiliser pour compl√©ter et mettre en forme une page web.</p>
<h2 id="1-le-mod√®le-de-boite-css"><a class="header" href="#1-le-mod√®le-de-boite-css">1. Le &quot;mod√®le de boite CSS&quot;</a></h2>
<p>En CSS, tous les √©l√©ments sont inclus dans une &quot;boite&quot;. Il existe deux types de boites :</p>
<ul>
<li>
<p><strong>en ligne</strong> <em>(inline)</em> :</p>
<ul>
<li>la boite ne cr√©√© pas de retour √† la ligne et s'ins√®re dans le flux du contenu ;</li>
<li>les propri√©t√©s <code>width</code> et <code>height</code> ne s'appliquent pas ;</li>
<li>les propri√©t√©s <code>padding</code>, <code>margin</code> peuvent √™tre appliqu√©es mais ne vont pas d√©placer les √©l√©ments voisins sur l'axe vertical (top / bottom) et peuvent cr√©er un chevauchement ;</li>
<li><strong>sert surtout √† associer un style √† une partie d'un texte (au sein d'un bloc de texte ou d'un paragraphe)</strong> ;</li>
<li>le conteneur g√©n√©rique de ce type est l'√©l√©ment <code>&lt;span&gt;</code> ;</li>
<li>d'autres √©l√©ments <em>en ligne</em> : <code>&lt;a&gt;</code>, <code>&lt;em&gt;</code>, <code>&lt;strong&gt;</code> par exemple.</li>
</ul>
</li>
<li>
<p><strong>en bloc</strong> <em>(block)</em> :</p>
<ul>
<li>la boite s'√©tend en largeur pour remplir tout l'espace de son conteneur ;</li>
<li>elle se positionne sur une nouvelle ligne et va engendrer un retour √† la ligne avant l'√©l√©ment qui la suite ;</li>
<li>les propri√©t√©s <code>width</code> et <code>height</code> s'appliquent ;</li>
<li>les propri√©t√©s <code>padding</code>, <code>margin</code> et <code>border</code> vont repousser les √©l√©ments voisins ;</li>
<li><strong>sert √† agencer le contenu de la page et √† regrouper des √©l√©ments ensemble</strong> ;</li>
<li>le conteneur g√©n√©rique de ce type est l'√©l√©ment <code>&lt;div&gt;</code> ;</li>
<li>d'autres √©l√©ments <em>en bloc</em> : <code>&lt;p&gt;</code> ou les titres <code>&lt;h1&gt;</code>, <code>&lt;h2&gt;</code>, et d'autres √©l√©ments de sectionnement comme <code>&lt;section&gt;</code>, <code>&lt;article&gt;</code>, etc.</li>
</ul>
</li>
</ul>
<p>Ce mod√®le de boite CSS prend la forme suivante :</p>
<div class="img-center">
<p><img src="img/dessin_css_box.png" alt="Le mod√®le de boite CSS" /></p>
</div>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">.styled {
  margin: 5px;
  border: solid 2px black;
  padding: 22px;
  background-color: cornsilk;
  box-shadow: 10px 5px red;
}

.keyword {
  color: red;
  font-style: italic;
  /* La propri√©t√© suivante ne sera pas appliqu√©e car
   elle ne s'applique pas aux √©l√©ments en ligne :  */
  height: 300px;
}
</code></pre>
<p><u>Code XHTML:</u></p>
<pre><code class="language-html">&lt;div class=&quot;styled&quot;&gt;
 &lt;p&gt;Some &lt;span class=&quot;keyword&quot;&gt;interesting&lt;/span&gt; content in a paragraph.&lt;/p&gt;
 &lt;p&gt;Another paragraph with more &lt;span class=&quot;keyword&quot;&gt;highlighted&lt;/span&gt; keywords.&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p><u>R√©sultat:</u></p>
<div style="margin: 5px; border: solid 2px black; padding: 22px; background-color: cornsilk; box-shadow: 10px 5px red;">
 <p>Some <span style="color: red; font-style: italic; height: 300px;">interesting</span> content in a paragraph.</p>
 <p>Another paragraph with more <span style="color: red; font-style: italic; height: 300px;">highlighted</span> keywords.</p>
</div>
<h2 id="2-formats-et-unit√©s-de-valeurs-css"><a class="header" href="#2-formats-et-unit√©s-de-valeurs-css">2. Formats et unit√©s de valeurs CSS</a></h2>
<h3 id="21-quelques-unit√©s-accept√©es-par-les-propri√©t√©s-margin-padding-width-height-et-font-size"><a class="header" href="#21-quelques-unit√©s-accept√©es-par-les-propri√©t√©s-margin-padding-width-height-et-font-size">2.1 Quelques unit√©s accept√©es par les propri√©t√©s <code>margin</code>, <code>padding</code>, <code>width</code>, <code>height</code> et <code>font-size</code></a></h3>
<p>Ces propri√©t√©s CSS (ce ne sont pas les seules) acceptent des valeurs sous forme d'une &quot;longueur&quot;.<br />
Cette longueur peut-√™tre sp√©cifi√©e de mani√®re relative ou absolue.</p>
<div class="table-wrapper"><table><thead><tr><th>Unit√©s absolues</th><th>Description</th></tr></thead><tbody>
<tr><td><code>px</code></td><td>Pixel</td></tr>
<tr><td><code>cm</code>, <code>in</code>, <code>mm</code></td><td>Centim√®tre, Pouce, Millim√®tre</td></tr>
<tr><td><code>pt</code>, <code>pc</code></td><td>Point, Pica</td></tr>
</tbody></table>
</div><br>
<div class="table-wrapper"><table><thead><tr><th>Unit√© relative</th><th>Description</th></tr></thead><tbody>
<tr><td><code>%</code></td><td>Taille relative √† l'√©l√©ment parent</td></tr>
<tr><td><code>em</code></td><td>Relative √† la taille de police de l'√©l√©ment</td></tr>
<tr><td><code>rem</code></td><td>Relative √† la taille de police de l'√©l√©ment racine</td></tr>
</tbody></table>
</div>
<blockquote>
<p><strong>Remarque</strong>: Lors de l'utilisation de la valeur 0 il n'est pas n√©cessaire de sp√©cifier d'unit√©.</p>
</blockquote>
<h3 id="22-les-formats-de-valeurs-accept√©s-par-les-propri√©t√©s-margin-et-padding"><a class="header" href="#22-les-formats-de-valeurs-accept√©s-par-les-propri√©t√©s-margin-et-padding">2.2 Les formats de valeurs accept√©s par les propri√©t√©s <code>margin</code> et <code>padding</code></a></h3>
<ul>
<li>
<p><code>padding: 10px 5px 15px 20px;</code></p>
<ul>
<li>lecture dans le sens des aiguilles d'une montre</li>
<li>signifie : top -&gt; 10px, right -&gt; 5px, bottom -&gt; 15px, left -&gt; 20px</li>
</ul>
</li>
<li>
<p><code>padding: 10px 5px 15px;</code></p>
<ul>
<li>signifie : top -&gt; 10px, right and left -&gt; 5px bottom -&gt; 15px</li>
</ul>
</li>
<li>
<p><code>padding: 10px 5px;</code></p>
<ul>
<li>signifie : top and bottom -&gt; 10px, right and left -&gt; 5px</li>
</ul>
</li>
<li>
<p><code>padding: 10px;</code></p>
<ul>
<li>signifie : top, right, left and bottom -&gt; 10px</li>
</ul>
</li>
<li>
<p>Il est possible d'utiliser les autres unit√©s existantes (<code>%</code>, <code>em</code>, etc.).</p>
</li>
<li>
<p>Il est possible de les sp√©cifier une √† une (en utilisant les propri√©t√©s <code>padding-top</code>, <code>padding-right</code>, <code>padding-bottom</code>, <code>padding-left</code>).</p>
</li>
</ul>
<h3 id="23-la-valeur-sp√©ciale-auto"><a class="header" href="#23-la-valeur-sp√©ciale-auto">2.3 La valeur sp√©ciale &quot;auto&quot;</a></h3>
<p>Lors de l'utilisation de la valeur <code>auto</code>, la valeur calcul√©e pour la propri√©t√© en question est ajust√©e automatiquement en fonction du contenu et/ou du contexte de l'√©l√©ment concern√©.</p>
<p>Cette fonctionnalit√© peut √™tre tr√®s pratique dans certains cas puisqu'elle va permettre :</p>
<ul>
<li>de centrer horizontalement les √©l√©ments <em>en bloc</em> avec l'utilisation de la d√©claration <code>margin: auto;</code> (les marges, √©tir√©es au maximum et de m√™mes longueurs de chaque cot√© de l'√©l√©ment vont avoir pour effet de le centrer)</li>
<li>d'ajouter une barre de d√©filement lorsque cela sera n√©cessaire pour garder le contenu dans l'√©l√©ment contenant avec l'utilisation de la d√©claration <code>overflow: auto;</code></li>
<li>d'afficher correctement des images dont la largeur auraient √©t√© d√©finie de mani√®re relative au conteneur avec la d√©claration <code>height: auto;</code></li>
</ul>
<blockquote>
<p><strong>Remarque</strong>: seul un petit nombre de propri√©t√©s supporte l'utilisation de cette valeur.</p>
</blockquote>
<h2 id="3-tableaux-html"><a class="header" href="#3-tableaux-html">3. Tableaux HTML</a></h2>
<p>La construction d'un tableau HTML n√©cessite l'utilisation de plusieurs balises :</p>
<ul>
<li><code>&lt;table&gt; &lt;/table&gt;</code> pour d√©limiter l'ensemble du tableau</li>
<li><code>&lt;thead&gt; &lt;/thead&gt;</code> pour d√©signer <strong>les lignes constituant l'en-t√™te</strong> du tableau</li>
<li><code>&lt;tbody&gt; &lt;/tbody&gt;</code> pour d√©signer <strong>les lignes constituant le corps</strong> du tableau</li>
<li><code>&lt;th&gt; &lt;/th&gt;</code> pour d√©signer <strong>une cellule</strong> de <strong>l'en-t√™te</strong> du tableau</li>
<li><code>&lt;td&gt; &lt;/td&gt;</code> pour d√©signer <strong>une cellule</strong> du <strong>corps</strong> du tableau</li>
<li><code>&lt;tr&gt; &lt;/tr&gt;</code> pour d√©signer <strong>une ligne de cellules</strong> (aussi bien dans l'en-t√™te que dans le corps du tableau, elle contient donc des √©l√©ments <code>td</code> ou des √©l√©ments <code>th</code>)</li>
</ul>
<p>Ainsi le code d'un tableau simple contenant 2 colonnes et 3 lignes (dont celle de l'en-t√™te) prendra la forme suivante :</p>
<pre><code class="language-html">&lt;table&gt;
  &lt;thead&gt;  &lt;!-- D√©but de l'en-t√™te --&gt;
    &lt;tr&gt;
      &lt;th&gt;Nom colonne 1&lt;/th&gt;
      &lt;th&gt;Nom colonne 2&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt; &lt;!-- Fin de l'en-t√™te --&gt;
  &lt;tbody&gt;  &lt;!-- D√©but du corps du tableau --&gt;
    &lt;tr&gt;
      &lt;td&gt;Data ligne 1 - colonne 1&lt;/td&gt;
      &lt;td&gt;Data ligne 1 - colonne 2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Data ligne 2 - colonne 1&lt;/td&gt;
      &lt;td&gt;Data ligne 2 - colonne 2&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt; &lt;!-- Fin du corps du tableau --&gt;
&lt;/table&gt;
</code></pre>
<h2 id="4-listes-ordonn√©es-ou-non-en-html"><a class="header" href="#4-listes-ordonn√©es-ou-non-en-html">4. Listes (ordonn√©es ou non) en HTML</a></h2>
<p>Il existe deux √©l√©ments HTML qui permettent de d√©signer un liste :</p>
<ul>
<li>les balises <code>&lt;ol&gt; &lt;/ol&gt;</code> d√©signent une liste ordonn√©e (<u>o</u>rdered <u>l</u>ist)</li>
<li>les balises <code>&lt;ul&gt; &lt;/ul&gt;</code> d√©signent une liste non-ordonn√©e (<u>u</u>nordered <u>l</u>ist)</li>
</ul>
<p>Ces balises d√©limitent <em>la liste</em> (i.e. l'√©l√©ment qui contient les items de la liste). Chaque item d'une liste est repr√©sent√© par la balises <code>&lt;li&gt; &lt;/li&gt;</code>.</p>
<p>Ainsi une liste non ordonn√©e (liste de course par exemple) prendra la forme suivante :</p>
<pre><code class="language-html">&lt;ul&gt;
  &lt;li&gt;Avocat&lt;/li&gt;
  &lt;li&gt;Citron&lt;/li&gt;
  &lt;li&gt;Tomate&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>Une liste ordonn√©e (instructions de directions par exemple) prendra la forme suivante :</p>
<pre><code class="language-html">&lt;ol&gt;
  &lt;li&gt;Tournez √† gauche&lt;/li&gt;
  &lt;li&gt;Continuez 500m puis prendre la contre-all√©e&lt;/li&gt;
  &lt;li&gt;Vous √™tes arriv√© chez le vendeur de fruits et l√©gumes&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
<p>Vous pouvez remarquer que les listes disposent d'un style par d√©faut. Ce style est modifiable avec la propri√©t√© CSS <a href="https://developer.mozilla.org/fr/docs/Web/CSS/list-style"><code>list-style</code></a></p>
<h2 id="5-groupage-des-√©l√©ments-et-organisation-g√©n√©rale-dune-page"><a class="header" href="#5-groupage-des-√©l√©ments-et-organisation-g√©n√©rale-dune-page">5. Groupage des √©l√©ments et organisation g√©n√©rale d'une page</a></h2>
<p><img src="img/layout_web_page.png" alt="Exemple d'organisation de page Web" title="Exemple d'organisation de page Web" /></p>
<h2 id="6-autres-propri√©t√©s-css-utiles-pour-ajuster-lorganisation-de-votre-page"><a class="header" href="#6-autres-propri√©t√©s-css-utiles-pour-ajuster-lorganisation-de-votre-page">6. Autres propri√©t√©s CSS utiles pour ajuster l'organisation de votre page</a></h2>
<ul>
<li>
<p><a href="https://developer.mozilla.org/fr/docs/Web/CSS/position"><code>position</code></a> : permet de sp√©cifier le type de positionnement pour un √©l√©ment (les valeurs possibles sont : <code>static</code> (par d√©faut), <code>relative</code>, <code>absolute</code>, <code>sticky</code>, <code>fixed</code>)</p>
</li>
<li>
<p><a href="https://developer.mozilla.org/fr/docs/Web/CSS/display"><code>display</code></a> ; permet de sp√©cifier le type de rendu pour un √©l√©ment (en ligne ou en bloc) et la disposition utilis√© pour ses enfants (valeurs utiles : <code>inline</code> et <code>block</code> pour d√©finir comment l'√©l√©ment participe au flux des √©l√©ments ; <code>flow</code>, <code>table</code>, <code>flex</code> pour d√©finir comment les √©l√©ments s'organisent √† l'int√©rieur ; <code>inline-block</code> pour obtenir des blocs en ligne √† l'int√©rieur de l'√©l√©ment ; <code>none</code> pour ne pas afficher l'√©l√©ment).</p>
</li>
</ul>
<h2 id="6-mise-en-pratique-1"><a class="header" href="#6-mise-en-pratique-1">6. Mise en pratique (1)</a></h2>
<p><strong>üöÄ Consignes</strong>:</p>
<ol>
<li>
<p>R√©cup√©rer les donn√©es du jour : <a href="data/TP3.zip">TP3.zip</a> et extraire le contenu de l'archive sur votre ordinateur</p>
</li>
<li>
<p>Ouvrir la page <code>index.html</code> (dans votre navigateur et dans votre √©diteur de code). Cette page contient d√©j√† plusieurs blocs de texte formatt√©s sous la forme de paragraphes.</p>
</li>
<li>
<p>√âditer cette page pour ins√©rer l'image (<code>prog.png</code>) de l'√©volution de la fr√©quentation de notre centre commercial.</p>
</li>
<li>
<p>√âditer cette page pour int√©grer le tableau correspondant aux donn√©es du fichier <code>data.csv</code> en utilisant l'√©l√©ment HTML <code>table</code> (cette table devra √™tre agr√©able √† lire, vous veillerez donc √† l'espacement dans les cellules ainsi qu'√† son style : bordure, couleur de la ligne d'en-t√™te et couleur des lignes qui contiennent les donn√©es, etc.)</p>
</li>
<li>
<p>Effectuer le reste de la mise en page :</p>
<ul>
<li>barre / menu de navigation plus agr√©able √† utiliser (utilisation de r√®gles CSS pour changer l'apparence du lien au survol, pour faire dispara√Ætre les 'puces' qui correspondent √† chaque item de la liste, etc.)</li>
<li>pied-de-page contenant votre nom et les mentions l√©gales √©ventuelles (<em>copyright</em>, etc.)</li>
</ul>
</li>
<li>
<p>Si le contenu de votre page d√©passe la taille de votre √©cran, vous devrez veiller √† ce que votre page ait un comportement appropri√© (pr√©sence de barre de d√©filement sur le cot√©, <em>quid</em> du positionnement du menu de navigation, etc.)</p>
</li>
<li>
<p>Vous voulez int√©grer un encart contenant une carte permettant de localiser l'emplacement de notre centre commercial. Une des mani√®res les plus simples consiste √† utiliser la fonctionnalit√© appropri√©e du projet OpenStreetMap. Rendez-vous sur le site www.openstreetmap.org et utilisez la fonctionnalit√© &quot;Partager&quot; qui permet d'obtenir un code HTML que vous pourrez int√©grer √† votre page. Ce code HTML contient notamment une balise <code>&lt;iframe&gt;</code>.</p>
<ul>
<li>Vous veillerez √† ce que l'export inclue le <em>marker</em> indiquant la position de notre centre commercial.</li>
<li>Vous veillerez √† ce que la carte s'ins√®re de mani√®re harmonieuse au reste de la page.</li>
</ul>
</li>
<li>
<p>Il est maintenant n√©cessaire d'ajouter une barre de recherche √† notre page. Nous n'avons pas encore abord√© les √©l√©ments HTML permettant de faire saisir des informations √† l'utilisateur. Le principal d'entre-eux est l'√©l√©ment <code>&lt;input&gt;</code>. Prenez connaissance des diff√©rents types de champs qu'il permet de cr√©er en lisant la documentation en ligne : <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/Input">https://developer.mozilla.org/fr/docs/Web/HTML/Element/Input</a> puis ajouter un √©l√©ment <code>&lt;input&gt;</code> √† votre page.</p>
<ul>
<li>Vous veillerez √† ce que cet √©l√©ment s'ins√®re de mani√®re harmonieuse au reste de la page (localisation dans la barre de navigation, ou dans un panneau lat√©ral par exemple).</li>
<li>On note que cet √©l√©ment n'a pour l'instant aucune action et n'est ajout√© √† la page qu'√† des fins d'illustration.</li>
</ul>
</li>
</ol>
<p><strong>üöÄ Pensez √©galement valider votre code HTML et votre code CSS en ligne : <a href="https://validator.w3.org/">https://validator.w3.org/</a></strong></p>
<blockquote>
<p><strong>Remarque</strong> : Vous trouverez ci-dessous plusieurs captures d'√©cran de styles appliqu√©s au m√™me contenu HTML, celui qui vous √™tes cens√© cr√©er.<br />
Vous pouvez vous en inspirer lors de la r√©alisation de votre page, mais n'h√©sitez pas √† faire preuve d'imagination !</p>
</blockquote>
<hr />
<h4 id="exemples"><a class="header" href="#exemples">Exemples</a></h4>
<div class="center">
<p><img src="img/tp3_style1.png" alt="Exemple de style (1)" /></p>
<p><img src="img/tp3_style2.png" alt="Exemple de style (2)" /></p>
<p><img src="img/tp3_style_table.png" alt="Exemple de style pour le tableau" /></p>
</div>
<hr />
<h2 id="8-retour-sur-quelques-aspects-du-positionnement-des-√©l√©ments"><a class="header" href="#8-retour-sur-quelques-aspects-du-positionnement-des-√©l√©ments">8. Retour sur quelques aspects du positionnement des √©l√©ments</a></h2>
<h3 id="81-le-centrage-dun-√©l√©ment-dans-la-page-dans-son-conteneur-"><a class="header" href="#81-le-centrage-dun-√©l√©ment-dans-la-page-dans-son-conteneur-">8.1 Le centrage d'un √©l√©ment (dans la page, dans son conteneur, ...)</a></h3>
<p>Ici en d√©finissant une largeur (<code>width</code>) et des marges automatiques (<code>margin: auto</code>) sur un √©l√©ment en bloc ; puis en demandant √† centrer le texte autour de l'axe vertical au sein de cet √©l√©ment (<code>text-align: center</code>).</p>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">.a {
  width: 50%;
  padding: 3px;
  background-color: lightgreen;
  border: solid 1px gray;
}

.b {
  margin: auto;
}

.c {
  text-align: center;
}
</code></pre>
<p><u>Code XHTML:</u></p>
<pre><code class="language-html">&lt;section&gt;
   &lt;div class=&quot;a&quot;&gt;Bloc utilisant la propri√©t√© 'width', non centr√©&lt;/div&gt;
&lt;/section&gt;
&lt;hr&gt;
&lt;section&gt;
   &lt;div class=&quot;a b&quot;&gt;Bloc utilisant la propri√©t√© 'width', centr√© ('margin:auto')&lt;/div&gt;
&lt;/section&gt;
&lt;hr&gt;
&lt;section&gt;
   &lt;div class=&quot;a b c&quot;&gt;Bloc utilisant la propri√©t√© 'width', centr√© ('margin:auto') et texte align√© au centre&lt;/div&gt;
&lt;/section&gt;
</code></pre>
<p><u>R√©sultat:</u></p>
<div class="res">
  <section>
     <section style="padding: 3px; border: solid 1px gray; width: 50%; background-color: lightgreen;">Bloc utilisant la propri√©t√© 'width', non centr√©</section>
  </section>
  <hr>
  <section>
     <section style="padding: 3px; border: solid 1px gray; width: 50%; margin: auto; background-color: lightgreen;">Bloc utilisant la propri√©t√© 'width', centr√© ('margin:auto')</section>
  </section>
  <hr>
  <section>
     <section style="padding: 3px; border: solid 1px gray; width: 50%; margin: auto; background-color: lightgreen;text-align: center;">Bloc utilisant la propri√©t√© 'width', centr√© ('margin:auto') et texte align√© au centre</section>
  </section>
</div>
<h3 id="82-utilisation-de-display-inline-block-pour-avoir-des-blocs-en-ligne-"><a class="header" href="#82-utilisation-de-display-inline-block-pour-avoir-des-blocs-en-ligne-">8.2 Utilisation de <code>display: inline-block;</code> pour avoir des blocs en ligne :</a></h3>
<p>Les blocs qui utilisent cette propri√©t√© vont se comporter comme des √©l√©ments en bloc (respect des propri√©t√©s <code>width</code>, <code>height</code>, etc.) mais ne vont pas cr√©er de retour √† la ligne avant / apr√®s l'√©l√©ment, lui permettant de s'afficher √† cot√© de ses √©l√©ments fr√®res.</p>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">.a {
  background-color: cornsilk;
  border: solid 1px gray;
  padding: 4px;
  width: 30%;
}

.b {
  display: inline-block;
}
</code></pre>
<p><u>Code XHTML:</u></p>
<pre><code class="language-html">&lt;div&gt;
 &lt;div class=&quot;a&quot;&gt;Bloc 1&lt;/div&gt;
 &lt;div class=&quot;a&quot;&gt;Bloc 2&lt;/div&gt;
 &lt;div class=&quot;a&quot;&gt;Bloc 3&lt;/div&gt;
&lt;/div&gt;
&lt;hr&gt;
&lt;div&gt;
 &lt;div class=&quot;a b&quot;&gt;Bloc 1&lt;/div&gt;
 &lt;div class=&quot;a b&quot;&gt;Bloc 2&lt;/div&gt;
 &lt;div class=&quot;a b&quot;&gt;Bloc 3&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><u>R√©sultat:</u></p>
<div>
  <section>
   <section style="background-color: cornsilk;border: solid 1px gray;padding: 4px; width: 30%;">Bloc 1</section>
   <section style="background-color: cornsilk;border: solid 1px gray;padding: 4px; width: 30%;">Bloc 2</section>
   <section style="background-color: cornsilk;border: solid 1px gray;padding: 4px; width: 30%;">Bloc 3</section>
  </section>
  <hr>
  <section>
   <section style="background-color: cornsilk;border: solid 1px gray;padding: 4px; display: inline-block; width: 30%;">Bloc 1</section>
   <section style="background-color: cornsilk;border: solid 1px gray;padding: 4px; display: inline-block; width: 30%;">Bloc 2</section>
   <section style="background-color: cornsilk;border: solid 1px gray;padding: 4px; display: inline-block; width: 30%;">Bloc 3</section>
  </section>
</div>
<h3 id="83-lutilisation-de-la-propri√©t√©-position-pour-changer-le-type-de-positionnement-dun-√©l√©ment"><a class="header" href="#83-lutilisation-de-la-propri√©t√©-position-pour-changer-le-type-de-positionnement-dun-√©l√©ment">8.3 L'utilisation de la propri√©t√© <code>position</code> pour changer le type de positionnement d'un √©l√©ment</a></h3>
<p><em>(voir la d√©monstration sur <a href="https://developer.mozilla.org/fr/docs/Web/CSS/position">https://developer.mozilla.org/fr/docs/Web/CSS/position</a>)</em></p>
<ul>
<li>
<p>positionnement relatif avec <code>position: relative</code> :</p>
<ul>
<li>l'√©l√©ment est d√©cal√© √† l'aide des propri√©t√©s <code>top</code>, <code>right</code>, <code>left</code>, <code>bottom</code> par rapport √† sa position normale dans le flux du document</li>
<li>cel√† n'affecte pas les boites voisines mais l'√©l√©ment peut prendre place au dessus de ses √©l√©ments fr√®res</li>
</ul>
</li>
<li>
<p>positionnement absolu avec <code>position: absolute</code> :</p>
<ul>
<li>l'√©l√©ment est positionn√© √† l'aide des propri√©t√©s <code>top</code>, <code>right</code>, <code>left</code>, <code>bottom</code></li>
<li>l'√©l√©ment est sorti du flux et ne participe plus au positionnement de ses √©l√©ments fr√®res</li>
</ul>
</li>
<li>
<p>positionnement fixe avec <code>position: fixed</code> :</p>
<ul>
<li>l'√©l√©ment reste fixe dans la page : il n'est pas affect√© par le d√©filement de la page</li>
<li>il s'agit d'un positionnement absolu : l'√©l√©ment est sorti du flux et ne participe plus au positionnement de ses √©l√©ments fr√®res</li>
</ul>
</li>
<li>
<p>positionnement en adh√©rence avec <code>position: sticky</code> :</p>
<ul>
<li>il s'agit d'un positionnement relatif jusqu'√† un seuil donn√© puis l'√©l√©ment se comporte ensuite comme un √©l√©ment fixe</li>
</ul>
</li>
</ul>
<p><em>La diff√©rence de participation au flux des √©l√©ments entre <code>sticky</code> et <code>fixed</code> est la raison pour laquelle il pouvait √™tre plus judicieux d'utiliser <code>sticky</code> pour positionner de mani√®re fixe l'√©l√©ment <code>header</code> ou l'√©l√©ment <code>footer</code> tout en permettant sa contribution au flux des √©l√©ments lors des exercices du TP3.</em></p>
<h3 id="84-la-possibilit√©-de-faire-flotter-des-√©l√©ments"><a class="header" href="#84-la-possibilit√©-de-faire-flotter-des-√©l√©ments">8.4 La possibilit√© de faire &quot;flotter&quot; des √©l√©ments</a></h3>
<p>La propri√©t√© <code>float</code> permet de faire sortir l'√©l√©ment du flux et de le pousser dans la direction indiqu√©e par la valeur de la propri√©t√© (<code>float:right</code> ou <code>float:left</code>).<br />
Ses √©l√©ments fr√®res vont venir prendre place autour de lui.<br />
Lorsque l'on souhaite interdire le voisinage avec un √©l√©ment flottant et reprendre le flux normal du document, on utilise la propri√©t√© <code>clear</code> (avec la valeur <code>right</code>, <code>left</code> ou <code>both</code> selon le besoin).</p>
<h4 id="-pour-les-r√©partir-sur-la-page-1"><a class="header" href="#-pour-les-r√©partir-sur-la-page-1">... pour les r√©partir sur la page (1)</a></h4>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">.s {
  text-align: center;
  background: lightgreen;
  padding: 4px;
}

.left {
  float: left;
  width: 48%;
}

.right {
  float: right;
  width: 48%;
}
</code></pre>
<p><u>Code XHTML:</u></p>
<pre><code class="language-html">&lt;div class=&quot;left s&quot;&gt;Bloc de gauche&lt;/div&gt;
&lt;div class=&quot;right s&quot;&gt;Bloc de droite&lt;/div&gt;
&lt;div style=&quot;clear: both;&quot;&gt;&lt;/div&gt; &lt;!-- Cela va permettre au titre
            en dessous des blocs verts de ne pas venir se coller √† eux --&gt;
</code></pre>
<p><u>R√©sultat:</u></p>
<div>
  <section style="float: left;width: 48%; text-align: center; background: lightgreen; padding: 4px;">Bloc de gauche</section>
  <section style="float: right;width: 48%; text-align: center; background: lightgreen; padding: 4px;">Bloc de droite</section>
  <div style="clear: both;"></div> <!-- Cela va permettre √† mon titre en dessous de ne pas venir se coller aux deux blocs verts -->
</div>
<h4 id="-pour-les-r√©partir-sur-la-page-2"><a class="header" href="#-pour-les-r√©partir-sur-la-page-2">... pour les r√©partir sur la page (2)</a></h4>
<p><u>Code CSS:</u></p>
<pre><code class="language-css">.s {
  text-align: center;
  background: lightgreen;
  padding: 4px;
  margin: 4px;
  border: solid 1px black;
}

.floatbox {
  float: left;
  width: 22%;
}
</code></pre>
<p><u>Code XHTML:</u></p>
<pre><code class="language-html">&lt;div class=&quot;floatbox s&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;floatbox s&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;floatbox s&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;floatbox s&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;floatbox s&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;floatbox s&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;floatbox s&quot;&gt;7&lt;/div&gt;
</code></pre>
<p><u>R√©sultat:</u></p>
<div>
<section style="float: left;width: 22%;text-align: center;background: lightgreen;padding: 4px;margin: 4px;border: solid 1px black;">1</section>
<section style="float: left;width: 22%;text-align: center;background: lightgreen;padding: 4px;margin: 4px;border: solid 1px black;">2</section>
<section style="float: left;width: 22%;text-align: center;background: lightgreen;padding: 4px;margin: 4px;border: solid 1px black;">3</section>
<section style="float: left;width: 22%;text-align: center;background: lightgreen;padding: 4px;margin: 4px;border: solid 1px black;">4</section>
<section style="float: left;width: 22%;text-align: center;background: lightgreen;padding: 4px;margin: 4px;border: solid 1px black;">5</section>
<section style="float: left;width: 22%;text-align: center;background: lightgreen;padding: 4px;margin: 4px;border: solid 1px black;">6</section>
<section style="float: left;width: 22%;text-align: center;background: lightgreen;padding: 4px;margin: 4px;border: solid 1px black;">7</section>
</div>
<div style="clear:both;"></div>
<h4 id="en-savoir-plus-en-vid√©os-"><a class="header" href="#en-savoir-plus-en-vid√©os-">En savoir plus en vid√©os ?</a></h4>
<ul>
<li>CSS
<ul>
<li><a href="https://www.youtube.com/watch?v=O3DAm82vIvU">Why isn't this CSS doing anything?</a> (vid√©o sur l'utilisation de l'inspecteur de code de Mozilla, en particulier pour voir pourquoi certaines propri√©t√©s ne sont pas appliqu√©es, par exemple lors de l'utilisation de <code>width</code> sur un √©l√©ment <em>en ligne</em>)</li>
<li><a href="https://www.youtube.com/watch?v=eBefjaWud-M">Testing Color Contrast &amp; Simulating Color Blindness with the Firefox Accessibility Inspector</a></li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="le-framework-bootstrap"><a class="header" href="#le-framework-bootstrap">Le framework Bootstrap</a></h1>
<div class="center">
<p><img src="img/bootstrap_logo.png" alt="Logo de Bootstrap" /></p>
</div>
<h2 id="1-introduction"><a class="header" href="#1-introduction">1. Introduction</a></h2>
<p>Le d√©veloppement de sites web requiert une tr√®s bonne connaissance des langages du web (HTML, CSS, JavaScript), mais leur apprentissage, pour en maitriser tous les aspects, peut √™tre long et difficile.</p>
<p>Des frameworks (ou cadriciels) sont propos√©s pour faciliter cette t√¢che. Un framework est une collection de briques de code bien structur√©es et pr√™tes √† l'emploi permettant de faciliter le d√©veloppement et la maintenance d'un projet informatique. L'un des plus utilis√©s est <a href="http://getbootstrap.com/">Bootstrap</a>.</p>
<p><strong>Bootstrap est un kit CSS</strong>, <strong>incluant aussi des composant HTML et javascript</strong>, cr√©√© par les d√©veloppeurs de Twitter. Il est devenu le framework CSS de r√©f√©rence et est disponible en <em>open source</em>. Au 09/01/2023, la derni√®re version est la <strong><code>v5.3.0-alpha1</code></strong> (la version <strong><code>4.6.1</code></strong> est la derni√®re mise-√†-jour en v4.x).</p>
<p>Ce framework :</p>
<ul>
<li>facilite l'utilisation des r√®gles CSS pour concevoir des sites attractifs et adaptatifs <em>(Responsive Web Design)</em></li>
<li>utilise une grille d'affichage pour agencer les diff√©rentes bo√Ætes d'affichage des sites et s'adaptant imm√©diatement diff√©rents type de supports (ordinateurs, tablettes, smartphones)</li>
</ul>
<h3 id="11-avantages"><a class="header" href="#11-avantages">1.1 Avantages</a></h3>
<ul>
<li>portabilit√© <em>(cross-browser)</em> : pr√©sentation similaire quel que soit le navigateur</li>
<li>homog√©n√©it√© : ensemble de styles pr√©d√©finis partag√©s, √©l√©ments compl√©mentaires (barres de navigation, boutons...) uniformis√©s</li>
<li>simplicit√© : syst√®me de grille pour positionner des √©l√©ments</li>
<li>adaptabilit√© <em>(responsive)</em> : par d√©faut l'affichage s'adapte √† la taille de l'√©cran <em>(mobile-first)</em></li>
<li>facilit√© d'utilisation : avec des connaissances de base en HTML et CSS</li>
</ul>
<blockquote>
<p><strong>Remarque</strong>: D'autres framework CSS connus sont par exemples <a href="https://get.foundation/">Foundation</a>, <a href="https://bulma.io/">Bulma</a> ou <a href="https://semantic-ui.com/">Semantic UI</a>. Ils proposent des fonctionnalit√©s similaires.</p>
</blockquote>
<h3 id="12-utilisation"><a class="header" href="#12-utilisation">1.2 Utilisation</a></h3>
<p>Pour utiliser Bootstrap dans une page HTML il faut inclure un ou plusieurs des fichiers distribu√©s : <a href="http://getbootstrap.com/getting-started/">http://getbootstrap.com/getting-started/</a>.
Plusieurs approches peuvent √™tre utilis√©es pour inclure le(s) fichier(s) n√©cessaires (elles offrent diff√©rentes options et/ou correspondent √† diff√©rents contextes de travail) :</p>
<ol>
<li>
<p>T√©l√©chargement en local des fichiers distribu√©s depuis le site Web de Bootstrap et inclusion dans la page HTML de mani√®re habituelle : l'archive zipp√©e propos√©e est d√©compress√©e et vous faites r√©f√©rence (par des liens relatifs) √† ces fichiers dans votre document HTML.</p>
</li>
<li>
<p><strong>Utilisation d'un CDN</strong> <em>(<a href="https://fr.wikipedia.org/wiki/R%C3%A9seau_de_diffusion_de_contenu">Content Delivery Network - r√©seau de diffusion de contenu</a>)</em>, une infrastructure de serveurs <em>&quot;qui coop√®rent afin de mettre √† disposition du contenu ou des donn√©es √† des utilisateurs&quot;</em>. Ce proc√©d√© permet d'optimiser le temps de chargement (performance des serveurs contact√©s, mise en cache du contenu par le navigateur Web, diminution de la charge du serveur servant le reste de la page, etc.). L'inclusion dans la page HTML est similaire, il suffit simplement d'utiliser l'URL d'un de ces <em>CDN</em> :</p>
</li>
</ol>
<pre><code class="language-html">&lt;head&gt;
  &lt;link
    href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css&quot;
    rel=&quot;stylesheet&quot;
    integrity=&quot;sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD&quot;
    crossorigin=&quot;anonymous&quot;&gt;
&lt;/head&gt;
</code></pre>
<ol start="3">
<li>Utilisation d'un gestionnaire de paquets Javascript (<code>npm</code>, <em>node package manager</em>, par exemple) - cette solution ne sera par abord√©e dans le cadre de ce TP.</li>
</ol>
<blockquote>
<p><strong>Remarque:</strong> Dans le cadre des premi√®res parties de ce TP nous n'aborderons pas les fonctionnalit√©s JavaScript offertes par Bootstrap et nous n'inclurons donc que le fichier CSS qui est distribu√©. Pour utiliser ses fonctionnalit√©s Javascript, vous devriez inclure le fichier javascript de Bootstrap (<code>bootstrap.js</code>).</p>
</blockquote>
<h2 id="2-le-syst√®me-de-grille"><a class="header" href="#2-le-syst√®me-de-grille">2. Le syst√®me de grille</a></h2>
<blockquote>
<p>Documentation officielle :</p>
<ul>
<li><a href="https://getbootstrap.com/docs/5.3/layout/grid/">Bootstrap Docs - Grid system</a></li>
</ul>
</blockquote>
<h3 id="21-en-th√©orie"><a class="header" href="#21-en-th√©orie">2.1 En th√©orie</a></h3>
<p>Une des difficult√©s avec HTML + CSS est la ma√Ætrise du placement des √©l√©ments dans une page.</p>
<p>Pour faciliter celui-ci Bootstrap propose un syst√®me de <strong>grille</strong> <em>(grid)</em> compos√©e de <strong>12 colonnes</strong> <em>(col)</em>, et d‚Äôun nombre de <strong>lignes</strong> <em>(row)</em> potentiellement illimit√©. Les √©lements de contenu sont plac√©s dans cette grille, en utilisant une ou plusieurs de ses cellules.</p>
<p>Ce syst√®me de dimensionnement √† les propri√©t√©s suivantes :</p>
<ul>
<li>
<p>la <strong>largeur des colonnes</strong> est exprim√©e en % de la largeur de la fen√™tre de visualisation</p>
</li>
<li>
<p>la <strong>hauteur des lignes</strong> est fix√©e par la hauteur de son contenu et prend la hauteur du plus gros √©l√©ment qu'elle contient</p>
</li>
</ul>
<p><img src="img/grid_bootstrap1.png" alt="Syst√®me de grille" /></p>
<p>La puissance de Bootstrap r√©side dans le fait que le syst√®me de grille est <em>responsive</em> :</p>
<p><strong>Les colonnes d'une m√™me ligne se r√©organisent automatiquement selon la largeur de la fen√™tre d'affichage¬†: si la fen√™tre est suffisamment large, elles sont c√¥te √† c√¥te, sinon elles s'empilent</strong>.</p>
<p>Il est √©galement possible de jouer sur la taille des contenus, voir de les faire dispara√Ætre.</p>
<h3 id="22-en-pratique"><a class="header" href="#22-en-pratique">2.2 En pratique</a></h3>
<h4 id="221-les-classes-√†-utiliser"><a class="header" href="#221-les-classes-√†-utiliser">2.2.1 Les classes √† utiliser</a></h4>
<p>On utilise ce syst√®me de grille gr√¢ce √† des <strong>classes CSS</strong> particuli√®res qui vont √™tre associ√©es √† des √©l√©ments HTML pour d√©terminer leur largeur en nombre de colonnes.</p>
<p><strong>Concr√®tement il va falloir :</strong></p>
<ul>
<li>
<p><strong>un conteneur</strong> (<code>&lt;div&gt;</code>, <code>&lt;section&gt;</code>, ..) ayant la classe :</p>
<ul>
<li><code>container</code> pour une grille de largeur fixe (d√©finit selon les tailles d'√©crans), centr√©e sur la page, ou bien</li>
<li><code>container-fluid</code> pour une grille occupant toute la largeur de l'√©cran (<code>width: 100%</code>), ou bien</li>
<li><code>container-{breakpoint}</code> pour une grille occupant toute la largeur de l'√©cran jusqu'au breakpoint d√©finit.</li>
</ul>
</li>
<li>
<p><strong>d√©finir une ligne</strong> avec la classe <code>row</code></p>
</li>
<li>
<p><strong>d√©finir une colonne de la ligne</strong> avec <code>col-{breakpoint}-{width}</code></p>
<ul>
<li>o√π <em><strong><code>breakpoint</code></strong></em> correspond √† la largeur d'√©cran au dessous de laquelle l'√©l√©ment s'empile avec ses fr√®res : <code>sm</code>, <code>md</code>, <code>lg</code>, <code>xl</code> ou <code>xxl</code>,</li>
<li>o√π <em><strong><code>width</code></strong></em> correspond √† la largeur de la colonne, en nombre de colonnes √©l√©mentaires, de 1 √† 12.</li>
</ul>
</li>
</ul>
<p><u>Exemple:</u></p>
<pre><code class="language-html">&lt;div class=&quot;container&quot;&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-sm-4&quot;&gt;One of three columns&lt;/div&gt;
    &lt;div class=&quot;col-sm-4&quot;&gt;One of three columns&lt;/div&gt;
    &lt;div class=&quot;col-sm-4&quot;&gt;One of three columns&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-lg-6&quot;&gt;One of two columns&lt;/div&gt;
    &lt;div class=&quot;col-lg-6&quot;&gt;One of two columns&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-md-2&quot;&gt;Third row, 1st column&lt;/div&gt;
    &lt;div class=&quot;col-md-7&quot;&gt;Third row, 2nd column&lt;/div&gt;
    &lt;div class=&quot;col-md-3&quot;&gt;Third row, 3rd column&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><u>R√©sultat:</u></p>
<div class="res twbs">
  <section class="container">
    <section class="row">
      <section class="col-sm-4">One of three columns</section>
      <section class="col-sm-4">One of three columns</section>
      <section class="col-sm-4">One of three columns</section>
    </section>
    <section class="row">
      <section class="col-lg-6">One of two columns</section>
      <section class="col-lg-6">One of two columns</section>
    </section>
    <section class="row">
      <section class="col-md-2">Third row, 1st column</section>
      <section class="col-md-7">Third row, 2nd column</section>
      <section class="col-md-3">Third row, 3rd column</section>
    </section>
  </section>
</div>
<h4 id="222-point-de-rupture"><a class="header" href="#222-point-de-rupture">2.2.2 Point de rupture</a></h4>
<table class="twbs table table-bordered table-striped">
  <thead>
    <tr>
      <th></th>
      <th class="text-center">
        Extra small<br>
        <small>&lt;576px</small>
      </th>
      <th class="text-center">
        Small<br>
        <small>‚â•576px</small>
      </th>
      <th class="text-center">
        Medium<br>
        <small>‚â•768px</small>
      </th>
      <th class="text-center">
        Large<br>
        <small>‚â•992px</small>
      </th>
      <th class="text-center">
        X-large<br>
        <small>‚â•1200px</small>
      </th>
      <th class="text-center">
        XX-large<br>
        <small>‚â•1400px</small>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th class="text-nowrap" scope="row">Max container width</th>
      <td>None (auto)</td>
      <td>540px</td>
      <td>720px</td>
      <td>960px</td>
      <td>1140px</td>
      <td>1320px</td>
    </tr>
    <tr>
      <th class="text-nowrap" scope="row">Class prefix</th>
      <td style="text-align: center;padding: 3px;"><code>.col-</code></td>
      <td style="text-align: center;padding: 3px;"><code>.col-sm-</code></td>
      <td style="text-align: center;padding: 3px;"><code>.col-md-</code></td>
      <td style="text-align: center;padding: 3px;"><code>.col-lg-</code></td>
      <td style="text-align: center;padding: 3px;"><code>.col-xl-</code></td>
      <td style="text-align: center;padding: 3px;"><code>.col-xxl-</code></td>
    </tr>
    <tr>
      <th class="text-nowrap" scope="row"># of columns</th>
      <td colspan="6">12</td>
    </tr>
    <tr>
      <th class="text-nowrap" scope="row">Gutter width</th>
      <td colspan="6">1.5rem (.75rem on each side of the column)</td>
    </tr>
    <tr>
      <th class="text-nowrap" scope="row">Nestable</th>
      <td colspan="6">Yes</td>
    </tr>
    <tr>
      <th class="text-nowrap" scope="row">Column ordering</th>
      <td colspan="6">Yes</td>
    </tr>
  </tbody>
</table>
<h4 id="223-illustration-de-leffet-des-breakpoints"><a class="header" href="#223-illustration-de-leffet-des-breakpoints">2.2.3 Illustration de l'effet des <em>breakpoints</em></a></h4>
<p><img src="img/bootstrap-grid-1.png" alt="Dispositif d'affichage extra-extra-large" /></p>
<hr />
<p><img src="img/bootstrap-grid-2.png" alt="Dispositif d'affichage extra-large" /></p>
<hr />
<p><img src="img/bootstrap-grid-3.png" alt="Dispositif d'affichage large" /></p>
<hr />
<p><img src="img/bootstrap-grid-4.png" alt="Dispositif d'affichage medium" /></p>
<hr />
<p><img src="img/bootstrap-grid-5.png" alt="Dispositif d'affichage small" /></p>
<hr />
<p><img src="img/bootstrap-grid-6.png" alt="Dispositif d'affichage extra-small" /></p>
<p>Version interactive : <a href="data/TP4/example_grid_layout.html">ici</a>.</p>
<h4 id="224-possibilit√©-de-ne-pas-sp√©cifier-la-largeur-pour-des-colonnes-de-m√™mes-tailles-"><a class="header" href="#224-possibilit√©-de-ne-pas-sp√©cifier-la-largeur-pour-des-colonnes-de-m√™mes-tailles-">2.2.4 Possibilit√© de ne pas sp√©cifier la largeur pour des colonnes de m√™mes tailles :</a></h4>
<p><u>Exemple:</u></p>
<pre><code class="language-html">&lt;div class=&quot;container&quot;&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-sm&quot;&gt;One of three columns&lt;/div&gt;
    &lt;div class=&quot;col-sm&quot;&gt;One of three columns&lt;/div&gt;
    &lt;div class=&quot;col-sm&quot;&gt;One of three columns&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-lg&quot;&gt;One of two columns&lt;/div&gt;
    &lt;div class=&quot;col-lg&quot;&gt;One of two columns&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-md-2&quot;&gt;Third row, 1st column&lt;/div&gt;
    &lt;div class=&quot;col-md-7&quot;&gt;Third row, 2nd column&lt;/div&gt;
    &lt;div class=&quot;col-md-3&quot;&gt;Third row, 3rd column&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><u>R√©sultat:</u></p>
<div class="res twbs">
  <section class="container">
    <section class="row">
      <section class="col-sm">One of three columns</section>
      <section class="col-sm">One of three columns</section>
      <section class="col-sm">One of three columns</section>
    </section>
    <section class="row">
      <section class="col-lg">One of two columns</section>
      <section class="col-lg">One of two columns</section>
    </section>
    <section class="row">
      <section class="col-md-2">Third row, 1st column</section>
      <section class="col-md-7">Third row, 2nd column</section>
      <section class="col-md-3">Third row, 3rd column</section>
    </section>
  </section>
</div>
<h4 id="225-utilisation-sans-sp√©cifier-de-point-de-rupture-"><a class="header" href="#225-utilisation-sans-sp√©cifier-de-point-de-rupture-">2.2.5 Utilisation sans sp√©cifier de point de rupture :</a></h4>
<p><u>Exemple:</u></p>
<pre><code class="language-html">&lt;div class=&quot;container&quot;&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col&quot;&gt;One of seven columns&lt;/div&gt;
    &lt;div class=&quot;col&quot;&gt;One of seven columns&lt;/div&gt;
    &lt;div class=&quot;col&quot;&gt;One of seven columns&lt;/div&gt;
    &lt;div class=&quot;col&quot;&gt;One of seven columns&lt;/div&gt;
    &lt;div class=&quot;col&quot;&gt;One of seven columns&lt;/div&gt;
    &lt;div class=&quot;col&quot;&gt;One of seven columns&lt;/div&gt;
    &lt;div class=&quot;col&quot;&gt;One of seven columns&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col&quot;&gt;One of two columns&lt;/div&gt;
    &lt;div class=&quot;col&quot;&gt;One of two columns&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-md-2&quot;&gt;Third row, 1st column&lt;/div&gt;
    &lt;div class=&quot;col-md-7&quot;&gt;Third row, 2nd column&lt;/div&gt;
    &lt;div class=&quot;col-md-3&quot;&gt;Third row, 3rd column&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><u>R√©sultat:</u></p>
<div class="res twbs">
  <section class="container">
    <section class="row">
      <section class="col">One of seven columns</section>
      <section class="col">One of seven columns</section>
      <section class="col">One of seven columns</section>
      <section class="col">One of seven columns</section>
      <section class="col">One of seven columns</section>
      <section class="col">One of seven columns</section>
      <section class="col">One of seven columns</section>
    </section>
    <section class="row">
      <section class="col">One of two columns</section>
      <section class="col">One of two columns</section>
    </section>
    <section class="row">
      <section class="col-md-2">Third row, 1st column</section>
      <section class="col-md-7">Third row, 2nd column</section>
      <section class="col-md-3">Third row, 3rd column</section>
    </section>
  </section>
</div>
<h2 id="3-autres-composants-de-bootstrap"><a class="header" href="#3-autres-composants-de-bootstrap">3. Autres composants de Bootstrap</a></h2>
<p>Ce framework permet √©galement, toujours par l'utilisation de classes qu'il d√©finie, d'appliquer des styles coh√©rents √† un certain nombre d'√©l√©ments html (<code>img</code>, <code>button</code>, <code>input</code>, etc.) ainsi que de composer des √©l√©ments plus complexes (<code>dropdown menus</code>, <code>navbar</code>, etc.).</p>
<h3 id="31-int√©gration-dimages-responsive"><a class="header" href="#31-int√©gration-dimages-responsive">3.1 Int√©gration d'images <em>responsive</em></a></h3>
<blockquote>
<p>Documentation officielle :</p>
<ul>
<li><a href="https://getbootstrap.com/docs/5.3/content/images/">Bootstrap Docs - Image</a></li>
<li><a href="https://getbootstrap.com/docs/5.3/utilities/borders/">Bootstrap Docs - Borders</a></li>
</ul>
</blockquote>
<p>Comme avec le syst√®me de grille, il va √™tre possible d'appliquer simplement aux images des classes CSS qui vont permettre de faciliter leur int√©gration dans une page <em>responsive</em>.
Quelques-unes des classes utilisables sont les suivantes :</p>
<ul>
<li>la classe <code>img-fluid</code> permet de rendre l'image responsive,</li>
<li>la classe <code>img-thumbnail</code> permet de rendre l'image responsive et de lui ajouter une marge arrondie de 1px (effet vignette),</li>
<li>la classe <code>rounded</code> permet d'arrondir les angles de l'image,</li>
<li>la classe <code>rounded-circle</code> permet de d√©couper l'image selon une ellipse.</li>
</ul>
<h3 id="32-un-composant-simple--le-bouton"><a class="header" href="#32-un-composant-simple--le-bouton">3.2 Un composant simple : le bouton</a></h3>
<blockquote>
<p>Documentation officielle :</p>
<ul>
<li><a href="https://getbootstrap.com/docs/5.3/components/buttons/">Bootstrap Docs - Buttons</a></li>
<li><a href="https://getbootstrap.com/docs/5.3/components/button-group/">Bootstrap Docs - Button group</a></li>
</ul>
</blockquote>
<p>Ces √©l√©ments peuvent √™tre facilement combin√©s pour en cr√©er de plus complexes, comme ici avec :</p>
<h5 id="bouton-contenant-un-badge-"><a class="header" href="#bouton-contenant-un-badge-">Bouton contenant un <a href="https://getbootstrap.com/docs/5.3/components/badge/#example">badge</a> :</a></h5>
<p><u>Code HTML:</u></p>
<pre><code class="language-html">&lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot;&gt;
  Notifications &lt;span class=&quot;badge badge-light&quot;&gt;4&lt;/span&gt;
&lt;/button&gt;
</code></pre>
<p><u>R√©sultat:</u></p>
<div class="res twbs" style="transform: scale(1.4)translate(107px, -2px);display: table-row;">
  <button type="button" class="btn btn-primary">
    Notifications <span class="badge badge-light">4</span>
  </button>
</div>
<p><br><br></p>
<h5 id="groupe-de-3-boutons-sans-se-soucier-des-angles-√†-arrondir-"><a class="header" href="#groupe-de-3-boutons-sans-se-soucier-des-angles-√†-arrondir-">Groupe de 3 boutons sans se soucier des angles √† arrondir :</a></h5>
<p><u>Code HTML:</u></p>
<pre><code class="language-html">&lt;div class=&quot;btn-group&quot; role=&quot;group&quot; aria-label=&quot;Basic example&quot;&gt;
  &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot;&gt;Left&lt;/button&gt;
  &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot;&gt;Middle&lt;/button&gt;
  &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot;&gt;Right&lt;/button&gt;
&lt;/div&gt;
</code></pre>
<p><u>R√©sultat:</u></p>
<div class="res twbs" style="transform: scale(1.4)translate(107px, -2px);display: table-row;">
  <section class="btn-group" role="group" aria-label="Basic example">
    <button type="button" class="btn btn-secondary">Left</button>
    <button type="button" class="btn btn-secondary">Middle</button>
    <button type="button" class="btn btn-secondary">Right</button>
  </section>
</div>
<h2 id="4-mise-en-pratique---exercice-1"><a class="header" href="#4-mise-en-pratique---exercice-1">4. Mise en pratique - Exercice 1</a></h2>
<p><strong>üöÄ Consignes</strong>:</p>
<ol>
<li>
<p>R√©cup√©rer les donn√©es du jour : <a href="data/TP4.zip">TP4.zip</a> et extraire le contenu de l'archive sur votre ordinateur.</p>
</li>
<li>
<p>Ouvrir la page <code>page_bootstrap1.html</code> (dans votre navigateur et dans votre √©diteur de code). Cette page contient d√©j√† plusieurs blocs de texte format√©s sous la forme de paragraphes et organis√©s dans 3 <code>&lt;article&gt;</code> et dans 2 <code>&lt;section&gt;</code>.</p>
</li>
<li>
<p>Inclure le fichier CSS de bootstrap dans la section <code>head</code> du document HTML en utilisant un CDN :</p>
</li>
</ol>
<pre><code class="language-html">&lt;head&gt;
  ...
  &lt;link
    href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css&quot;
    rel=&quot;stylesheet&quot;
    integrity=&quot;sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD&quot;
    crossorigin=&quot;anonymous&quot;&gt;
  ...
&lt;/head&gt;
</code></pre>
<ol start="4">
<li>
<p>On souhaite organiser la page en utilisant le syst√®me de grille de Bootstrap pr√©sent√© pr√©c√©demment afin qu'elle pr√©sente son contenu de mani√®re <em>responsive</em>. Les instructions concernant le style des √©l√©ments et le comportement relatif √† la taille de la fen√™tre du navigateur sont pr√©sent√©es ci-dessous :</p>
<ul>
<li>les <em>articles</em> doivent √™tre affich√©s sur un fond de couleur <code>aliceblue</code>, avoir des bords arrondis (<code>border-radius</code>) √† une longueur de 10px, et utiliser une marge interne (<code>padding</code>) de 12.5 pixels.</li>
<li>les <em>articles</em> doivent √™tre plac√©s sur une m√™me ligne et occuper une largeur identique si la largeur de la fen√™tre est plus grande ou √©gale √† 768 pixels, sinon ils s'empilent. Lorsqu'ils s'empilent ils doivent √™tre s√©par√©s d'un espace de 10px.</li>
<li>les <em>sections</em> doivent √™tre affich√©es sur un fond de couleur <code>cornsilk</code>, avoir des bords arrondis (<code>border-radius</code>) √† une longueur de 10px, et utiliser une marge interne (<code>padding</code>) de 8 pixels.</li>
<li>les <em>sections</em> doivent √™tre plac√©es sur une m√™me ligne et occuper une largeur identique si la largeur de la fen√™tre est plus grande ou √©gale √† 768 pixels, sinon elles s'empilent. Lorsqu'ils s'empilent ils doivent √™tre s√©par√©s d'un espace de 10px.</li>
</ul>
</li>
</ol>
<p>Pour cet exercice comme pour les deux suivants, vous √©crirez vos r√®gles CSS directement dans le fichier HTML, entre les balises <code>&lt;style&gt; &lt;/style&gt;</code> √† ins√©rer dans l'en-t√™te du document (cf. TP2).</p>
<p>Le r√©sultat attendu est pr√©sent√© ci-dessous.</p>
<div class="center">
<p><img src="img/tp4_ex1_resultat_large.png" alt="R√©sultat en largeur extra-large" />
<img src="img/tp4_ex1_resultat_small.png" alt="R√©sultat en largeur small" /></p>
</div>
<h2 id="5-mise-en-pratique---exercice-2"><a class="header" href="#5-mise-en-pratique---exercice-2">5. Mise en pratique - Exercice 2</a></h2>
<p><strong>üöÄ Consignes</strong>:</p>
<ol>
<li>
<p>Copiez la page <code>page_bootstrap1.html</code> vers <code>page_bootstrap2.html</code>. C'est sur ce nouveau document que vous travaillez d√©sormais.</p>
</li>
<li>
<p>Modifier le document de mani√®re √† ce que, lorsque la largeur de la fen√™tre est sup√©rieure √† 768px, les <em>articles</em> occupent respectivement 25%, 50% et 25% de la largeur de la page.</p>
</li>
<li>
<p>Veillez √† ce que le texte des <em>articles</em> et des <em>sections</em> soit d√©sormais justifi√©.</p>
</li>
</ol>
<p><img src="img/tp4_ex2_resultat_large.png" alt="R√©sultat en largeur extra-large" /></p>
<h2 id="5-mise-en-pratique---exercice-3"><a class="header" href="#5-mise-en-pratique---exercice-3">5. Mise en pratique - Exercice 3</a></h2>
<p><strong>üöÄ Consignes</strong>:</p>
<ol>
<li>
<p>Copiez la page <code>page_bootstrap2.html</code> vers <code>page_bootstrap3.html</code>. C'est sur ce nouveau document que vous travaillez d√©sormais.</p>
</li>
<li>
<p>Nous souhaitons int√©grer les images qui correspondent √† nos 3 articles. Elles doivent s'ins√©rer de mani√®re harmonieuse avec l'article correspondant. Les images √† utiliser sont les suivantes :</p>
<ul>
<li>https://upload.wikimedia.org/wikipedia/commons/c/cc/ESC_large_ISS022_ISS022-E-11387-edit_01.JPG (Vue a√©rienne de l'a√©roport international de Hobart en Tasmanie)</li>
<li>https://upload.wikimedia.org/wikipedia/commons/7/73/MatanuskaGlacierPanorama.jpg (Le glacier Matanuska en Alaska)</li>
<li>https://upload.wikimedia.org/wikipedia/commons/1/15/Ile-large-2017-port.jpg (Vue a√©rienne de l'√Æle du Large)</li>
</ul>
<p>Veillez √† ce que la premi√®re et la troisi√®me image pr√©sentent un effet de vignette. La seconde image devra √™tre d√©coup√©e selon une forme d'ellipse.</p>
</li>
<li>
<p>Centrez le titre de la page.</p>
</li>
</ol>
<p><img src="img/tp4_ex3_resultat_large.png" alt="R√©sultat en largeur extra-large" /></p>
<h2 id="6-des-composants-plus-complexes--navbar-dropdown-menu-etc---exercice-4"><a class="header" href="#6-des-composants-plus-complexes--navbar-dropdown-menu-etc---exercice-4">6. Des composants plus complexes : <em>navbar</em>, <em>dropdown menu</em>, etc. - Exercice 4</a></h2>
<p>Les exemples pr√©c√©dents ont pour vocation de fournir une introduction √† la mani√®re dont fonctionne <code>Bootstrap</code>.</p>
<p>Certaines de ses fonctionnalit√©s n√©cessitent l'ajout d'une d√©pendance Javascript propre √† <code>Bootstrap</code>.
Vous devez l'inclure dans votre fichier HTML, en utilisant la balise <code>&lt;script&gt;</code>, de pr√©f√©rence √† la fin de l'√©l√©ment <code>&lt;body&gt;</code>.</p>
<p>En utilisant l'approche <em>CDN</em> :</p>
<pre><code class="language-html">&lt;body&gt;
  &lt;!--
      Le contenu habituel de votre page ici ...
  --&gt;
  &lt;script
      src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js&quot; 
      integrity=&quot;sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN&quot; 
      crossorigin=&quot;anonymous&quot;&gt;
  &lt;/script&gt;
&lt;/body&gt;
</code></pre>
<p>Vous pouvez maintenant b√©n√©ficier de certains √©l√©ments de Bootstrap qui n√©cessitent ces fonctionnalit√©s Javascript, et ce sans saisir de code Javascript suppl√©mentaire (sauf si n√©cessaire).
C'est par exemple le cas des barres de navigation et des menus d√©roulants.</p>
<ol>
<li>
<p>Copiez la page <code>page_bootstrap3.html</code> vers <code>page_bootstrap4.html</code>. C'est sur ce nouveau document que vous travaillez d√©sormais.</p>
</li>
<li>
<p>Votre page inclue d√©j√† le fichier CSS de Bootstrap. Vous devez maintenant inclure la biblioth√®que Javascript requises (<code>Bootstrap.js</code>) dans votre page comme montr√© dans l'extrait de code pr√©c√©dent.</p>
</li>
<li>
<p>Rendez-vous sur la page de documentation des barres de navigation : <a href="https://getbootstrap.com/docs/5.3/components/navbar/">https://getbootstrap.com/docs/5.3/components/navbar/</a></p>
</li>
<li>
<p>Essayer d'inclure une barre de navigation noire contenant les entr√©es suivantes : <code>Accueil</code>, <code>Partenaires</code>, <code>Contact</code> et <code>√Ä propos</code> (ce sont les m√™mes intitul√©s que dans le TP3) ainsi qu'un √©l√©ment permettant d'effectuer une recherche. Fiez-vous aux exemple de la documentation de Bootstrap.
Cette barre de navigation devra √™tre <em>responsive</em>, lorsque la largeur de l'√©cran est inf√©rieure √† 992px, elle doit dispara√Ætre au profit de l'√©l√©ment qui permet de la d√©plier (voir exemple ci-dessous).<br />
Vous pouvez √©galement chercher dans la documentation comment faire en sorte que l'√©l√©ment de recherche et son bouton forment un groupe comme sur le screenshot ci-dessous (ce n'est √† priori pas le comportement que vous avez par d√©faut mais bootstrap propose des classes permettant de faire √ßa facilement).</p>
</li>
</ol>
<div class="center">
<p><strong>Largeur d'√©cran: 1250px</strong>
<img src="img/tp4_ex4_extralarge.png" alt="R√©sultat en largeur extra-large" /></p>
<p><strong>Largeur d'√©cran: 620px</strong>
<img src="img/tp4_ex4_small.png" alt="R√©sultat en largeur small" /></p>
</div>
<ol start="5">
<li>Si vous avez r√©ussi avec succ√®s les questions pr√©c√©dentes c'est que vous ma√Ætrisez d√©j√† bien la documentation de Bootstrap. Essayer d'ajouter √† la page en cours une <a href="https://getbootstrap.com/docs/5.3/components/modal/">fen√™tre modale</a> dont l'ouverture serait d√©clench√©e par un clic sur un <a href="https://getbootstrap.com/docs/5.3/components/buttons/">bouton</a>. L'ensemble des informations sont pr√©sentes dans la documentation. Vous √™tes libre de choisir le contenu de la fen√™tre modale ainsi que la mani√®re dont le lien entre le bouton et la fen√™tre modale est d√©fini dans votre code.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="introduction-au-langage-javascript"><a class="header" href="#introduction-au-langage-javascript">Introduction au langage Javascript</a></h1>
<h2 id="1-pr√©ambule"><a class="header" href="#1-pr√©ambule">1. Pr√©ambule</a></h2>
<p>Le Javascript est aujourd‚Äôhui un langage incontournable du d√©veloppement Web.<br />
C'est un langage de programmation <strong>multi-paradigme</strong> : orient√© objet √† prototype, imp√©ratif et fonctionnel <em>(il partage ces deux derni√®res caract√©ristiques avec Python par exemple)</em>.</p>
<div class="center">
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Unofficial_JavaScript_logo_2.svg/200px-Unofficial_JavaScript_logo_2.svg.png" />
</div>
<p>Le langage a √©t√© cr√©√© <em>Netscape</em> (fin 1995) est standardis√© sous le nom d'<a href="https://fr.wikipedia.org/wiki/ECMAScript">ECMAScript</a> (c'est peut-√™tre un terme que vous rencontrerez - notamment sous sa forme abr√©g√©e pour d√©signer les diff√©rentes versions du standard : <em>ES5</em>, <em>ES6</em>, etc.).</p>
<p>Sa syntaxe est d√©riv√©e de celle du C/C++.</p>
<pre><code class="language-js">for (let i = 0; i &lt; 10; i++) {
  console.log(&quot;Iteration n¬∞&quot; + i);
}

var j = 0;
while (j &lt; 10) {
  console.log(&quot;...&quot;);
  j++;
}
</code></pre>
<p>Ses autres particularit√©s sont les suivantes :</p>
<ul>
<li>Langage <strong>interpr√©t√©</strong> (pas de compilation, ex√©cution directe dans un interpr√©teur)</li>
<li><strong>Typage dynamique</strong> (laisse l'ordinateur r√©aliser l'op√©ration de typage √† la vol√©e)</li>
<li>Mod√®le objet √† base de <strong>prototypes</strong></li>
<li>Langage <strong>fonctionnel</strong> (les <a href="https://en.wikipedia.org/wiki/First-class_function">fonctions sont des <em>objets de premi√®re classe</em></a> : on peut passer des fonctions en argument √† des fonctions, les assigner √† des variables, les stocker dans des structures de donn√©es, etc.)</li>
</ul>
<h4 id="pourquoi-le-javascript-"><a class="header" href="#pourquoi-le-javascript-">Pourquoi le JavaScript ?</a></h4>
<div class="center">
<p><img src="https://mdn.mozillademos.org/files/13502/cake.png" alt="" /></p>
<p><span class="source">Source: <a href="https://developer.mozilla.org/fr/docs/Learn/JavaScript/First_steps/What_is_JavaScript">https://developer.mozilla.org/fr/docs/Learn/JavaScript/First_steps/What_is_JavaScript</a></p>
</div>
<ul>
<li>Couche <strong>&quot;Comportement&quot;</strong> (JavaScript) qui s'ajoute naturellement √† la couche <strong>&quot;Pr√©sentation&quot;</strong> (CSS) et √† la couche <strong>&quot;Contenu structur√©&quot;</strong> (HTML) des technologies web.</li>
<li>Cr√©ation de contenus complexes, dynamiques et interactifs dont la logique est ex√©cut√©e cot√© client, le moment venu.</li>
<li>Les navigateurs web disposent de plusieurs <strong>API</strong> <em>(Application Programming Interfaces)</em> qui permettent de manipuler le document (<em>API DOM</em>), de manipuler des contenues 2D ou 3D (<em>API Canvas</em> et <em>API WebGL</em>) ou les informations de g√©olocalisation (<em>API Geolocation</em>) par exemple ; ces API sont accessibles en JavaScript.</li>
</ul>
<h3 id="11-quelques-id√©es-re√ßues"><a class="header" href="#11-quelques-id√©es-re√ßues">1.1 Quelques id√©es re√ßues</a></h3>
<ul>
<li>
<p>JavaScript n'est pas √† proprement parl√© le seul langage du Web. En effet d'autres solutions ont √©t√© d√©velopp√©es pour s‚Äôex√©cuter cot√© client (c'est par exemple le cas de Adobe Flash ou des <em>applets</em> Java - d√©sormais tomb√©s en d√©su√©tude).
En revanche, avec la normalisation du langage et un meilleur support par tous les navigateurs et avec l'introduction de HTML5 (et de ses nombreuses API JavaScript), le Javascript a effectu√© un retour en force dans l'√©cosyst√®me Web cot√© client. Il existe √©galement un language de bas niveau d√©velopp√© pour le Web et standardis√© en 2019, nomm√© <a href="https://fr.wikipedia.org/wiki/WebAssembly">WebAssembly</a>.</p>
</li>
<li>
<p>Le Javascript n'est pas seulement utilis√© cot√© client mais √©galement de plus en plus comme un langage de script √† part enti√®re, notamment depuis l'existence de <a href="https://nodejs.org">node.js</a> (vers 2009), ou, plus r√©cemment de <a href="https://deno.land/">Deno</a> (2018). Il est ainsi d√©sormais possible de l'utiliser √©galement pour √©crire du code c√¥t√© serveur. Ce point ne sera pas abord√© dans ce cours.</p>
</li>
</ul>
<div class="center">
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/320px-Node.js_logo.svg.png" alt="" style="
    width: 200px;
    margin: 0 40px;
">
<img src="https://upload.wikimedia.org/wikipedia/commons/e/e8/Deno_2021.svg" alt="" style="
    width: 180px;
    margin: 0 40px;
"></p>
</div>
<h3 id="12-environnements-dex√©cution-javascript"><a class="header" href="#12-environnements-dex√©cution-javascript">1.2 Environnements d'ex√©cution JavaScript</a></h3>
<p>Un environnement d'ex√©cution Javascript est compos√© d'un <strong>moteur d'ex√©cution</strong> JavaScript <em>(runtime)</em> et d'objets JavaScript sp√©cifiques √† l'environnement en question.</p>
<p>Les principaux environnement d'ex√©cutions sont les <strong>navigateurs Web</strong> (<em>Chrome</em> utilise le moteur <a href="https://v8.dev/"><em>V8</em></a>, <em>Firefox</em> utilise <a href="https://developer.mozilla.org/fr/docs/SpiderMonkey"><em>SpiderMonkey</em></a> et <em>Safari</em> utilise <em>WebKit</em>).</p>
<p><strong>Node.js</strong> est un environnement d‚Äôex√©cution c√©l√®bre (utilisant lui aussi le moteur <em>V8</em>) qui n'est li√© √† un aucun navigateur Web ; il permet ainsi l'ex√©cution de code Javascript hors du contexte du navigateur.</p>
<h3 id="13-int√©gration-dans-une-page-html"><a class="header" href="#13-int√©gration-dans-une-page-html">1.3 Int√©gration dans une page HTML</a></h3>
<ul>
<li>
<p>L'int√©gration de code JavaScript se fait au moyen de la balise <code>&lt;script&gt; &lt;/script&gt;</code>.</p>
</li>
<li>
<p>Elle peut se faire √† deux endroits de la page HTML : dans l'en-t√™te ou dans le corps de la page HTML.</p>
</li>
<li>
<p>Le chargement et l'ex√©cution de ces scripts respecte l'ordre d'apparition dans la page.</p>
</li>
</ul>
<pre><code class="language-html">&lt;html&gt;
  &lt;head&gt;
    &lt;script&gt;
      // Code Javascript Ici
    &lt;/script&gt;
    &lt;script src=&quot;monScript.js&quot;&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;header&gt;Contenu ...&lt;/header&gt;
    &lt;main&gt;
        Contenu de la page
    &lt;/main&gt;
    &lt;footer&gt;Contenu ...&lt;/footer&gt;
    &lt;script&gt;
      // Code Javascript Ici
    &lt;/script&gt;
    &lt;script src=&quot;unAutreScript.js&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<blockquote>
<p><strong>Remarque</strong>:</p>
<ul>
<li>Les scripts plac√©s dans l'en-t√™te (<code>&lt;head&gt;</code>) sont ex√©cut√©s avant la construction et l'affichage de la page.</li>
<li>Les script plac√©s dans le corps (<code>&lt;body&gt;</code>) sont ex√©cut√©s au fur et √† mesure que la page HTML est lue et que le DOM se construit.</li>
</ul>
</blockquote>
<p>Comme pour l'ajout de r√®gles CSS, il existe donc bien deux mani√®res <em>(r√©dactions du code JavaScript dans la page HTML ou inclusion d'un fichier externe)</em> d'int√©grer un script JavaScript.</p>
<h3 id="14-la-mani√®re-dont-√ßa-fonctionne-"><a class="header" href="#14-la-mani√®re-dont-√ßa-fonctionne-">1.4 La mani√®re dont √ßa fonctionne ?</a></h3>
<ol>
<li><strong>√âcriture</strong> : Vous cr√©ez vos pages HTML et votre code JavaScript (que vous mettez dans le fichier HTML et/ou dans un ou plusieurs fichiers)</li>
<li><strong>Chargement</strong> : Le navigateur retrouve et charge la page en analysant <em>(parsing)</em> son contenu de haut en bas.
Lorsque le navigateur rencontre du code  JavaScript il l'analyse, v√©rifie sa correction puis l'ex√©cute. Le navigateur construit un mod√®le interne de la page HTML : le DOM</li>
<li><strong>Ex√©cution</strong> :  Le navigateur affiche la page. JavaScript continue √† s'ex√©cuter, en utilisant le DOM  pour examiner la page, la modifier, recevoir des √©v√©nements depuis celle-ci, ou pour demander au navigateur d'aller chercher d'autres donn√©es sur le serveur web.</li>
</ol>
<h3 id="15-quel-int√©r√™t-dutiliser-de-la-programmation-c√¥t√©-client-avec-javascript-"><a class="header" href="#15-quel-int√©r√™t-dutiliser-de-la-programmation-c√¥t√©-client-avec-javascript-">1.5 Quel int√©r√™t d'utiliser de la programmation c√¥t√© client avec JavaScript ?</a></h3>
<ul>
<li>
<p>V√©rification des donn√©es saisies (-&gt; n'envoyer au serveur que les valeurs correctes)</p>
</li>
<li>
<p>R√©duire les traitements sur le serveur (pour diminuer sa charge par exemple)</p>
</li>
<li>
<p>R√©duire les co√ªts de communication</p>
</li>
<li>
<p>Pouvoir modifier la pr√©sentation (animation, etc.) sans avoir recours au serveur</p>
</li>
</ul>
<p>De mani√®re g√©n√©rale : <strong>am√©liorer l'interactivit√©</strong> et <strong>diminuer les temps de r√©ponse</strong>.</p>
<h3 id="16-votre-environnement-de-travail"><a class="header" href="#16-votre-environnement-de-travail">1.6 Votre environnement de travail</a></h3>
<p>Vous utiliserez les m√™mes outils (√©diteur de code de votre choix et navigateur Web) que lors des premi√®res s√©ance de TP.</p>
<p>Comme lors des autres s√©ances <strong>il est indispensable de travailler avec la fen√™tre des outils pour d√©veloppeurs (<em>DevTools</em> - accessible avec <kbd>F12</kbd>) de votre navigateur - celui-ci comprend en effet une console JavaScript</strong>.</p>
<h2 id="2-les-base-du-langages"><a class="header" href="#2-les-base-du-langages">2. Les base du langages</a></h2>
<blockquote>
<p><strong>Liens utiles sur le JavaScript:</strong></p>
<ul>
<li><strong>Mozilla Developpers Network - Premier pas en JavaScript</strong> : <a href="https://developer.mozilla.org/fr/docs/Learn/JavaScript/First_steps">https://developer.mozilla.org/fr/docs/Learn/JavaScript/First_steps</a></li>
<li><strong>W3schools Javascript Tutorial</strong> : <a href="https://www.w3schools.com/js/">https://www.w3schools.com/js/</a></li>
<li><strong>Eloquent JavaScript</strong> - 3rd edition (online, PDF, E-PUB, etc.) : <a href="https://eloquentjavascript.net/">https://eloquentjavascript.net/</a></li>
<li>Pour se faire la main en JavaScript il faut pratiquer... des <a href="https://www.w3schools.com/js/exercise_js.asp">exercices comme ceux de W3schools</a> puis des sites comme <a href="https://JavaScript30.com">JavaScript30</a> peuvent donner de bonnes occasions de pratiquer !</li>
</ul>
</blockquote>
<p>De mani√®re g√©n√©rale, si vous cherchez sur le Web en d√©crivant explicitement votre probl√®me (et optionnellement en anglais), vous devrez trouver facilement la solution (<em>StackOverflow</em>, <em>Mozilla Developpers Network</em>, <em>W3schools</em>, etc.).</p>
<p><img src="img/screenshot-google-js.png" alt="" /></p>
<h3 id="21-√âl√©ments-de-base-pour-javascript-dans-le-navigateur"><a class="header" href="#21-√âl√©ments-de-base-pour-javascript-dans-le-navigateur">2.1 √âl√©ments de base pour JavaScript dans le navigateur</a></h3>
<p><strong>üöÄ Ouvrez un navigateur et une console JavaScript et saisissez les commandes qui suivent une-√†-une (validation avec <kbd>Enter</kbd>) et observez bien le r√©sultat!</strong> (nous verrons plus tard √† quoi correspondent <code>document</code> et <code>window</code>)</p>
<pre><code class="language-js">console.log(&quot;Contenu du message √† afficher&quot;);
</code></pre>
<pre><code class="language-js">document // Pour manipuler des objets sur la page
</code></pre>
<pre><code class="language-js">// Ne va pas fonctionner si aucun √©l√©ment de la page n'a cet id !
// Trouver l'id d'un √©l√©ment de la page et modifiez le de la mani√®re suivante !
document.getElementById('myElem').innerHTML = &quot;New content !&quot;
</code></pre>
<pre><code class="language-js">// Ne va pas fonctionner si aucun √©l√©ment de la page n'a cet id !
// Trouver l'id d'un √©l√©ment de la page et modifiez le de la mani√®re suivante !
document.querySelector('#myElem').innerHTML = &quot;New content !&quot;
</code></pre>
<pre><code class="language-js">// Ne va pas fonctionner si aucun √©l√©ment 'div' n'a cette classe !
// Trouver la classe d'un √©l√©ment sur la page pour modifier son contenu.
document.querySelector('div.myClass').innerHTML = &quot;New content too !&quot;
</code></pre>
<pre><code class="language-js">document.title // Le titre de la page (celui que vous √©crivez dans &lt;head&gt;&lt;title&gt;)
</code></pre>
<pre><code class="language-js">window // Objet relatif √† la fen√™tre
</code></pre>
<pre><code class="language-js">window.alert(&quot;Contenu de l'alerte !&quot;) // ouvre une fen√™tre d'alerte
</code></pre>
<pre><code class="language-js">window.innerHeight // renvoie un entier, la hauteur de la fen√™tre
</code></pre>
<pre><code class="language-js">window.innerWidth // renvoie un entier, la largeur de la fen√™tre
</code></pre>
<pre><code class="language-js">window.screen // renvoie un Object JavaScript contenant des informations sur l'√©cran
</code></pre>
<pre><code class="language-js">// Un Object d√©crivant l'URL actuelle du document
window.location
</code></pre>
<pre><code class="language-js">// On acc√®de √† la propri√©t√© 'href' de cet objet
// ... c'est la cha√Æne de caract√®re qui correspond √† l'URL actuelle:
window.location.href
</code></pre>
<h3 id="22-variables"><a class="header" href="#22-variables">2.2 Variables</a></h3>
<h4 id="221-d√©finition"><a class="header" href="#221-d√©finition">2.2.1 D√©finition</a></h4>
<blockquote>
<p><strong>En informatique, les variables sont des symboles qui associent un nom (l'identifiant) √† une valeur.</strong></p>
</blockquote>
<p>Elles sont utilis√©es pour stocker des donn√©es dans la m√©moire de l'ordinateur <em>(on associe une valeur √† un nom de variable)</em>.</p>
<h4 id="222-types"><a class="header" href="#222-types">2.2.2 Types</a></h4>
<p>Vous rencontrerez deux types de variables :</p>
<ul>
<li>
<p>types primitifs :</p>
<ul>
<li><code>Boolean</code> : deux valeurs litt√©rales <code>true</code> et <code>false</code></li>
<li><code>Number</code> : nombres entiers ou flottants (<code>1</code>, <code>3.14</code>, etc.) et des valeurs particuli√®res (<code>Infinity</code>, <code>-Infinity</code>, <code>NaN</code>)</li>
<li><code>String</code> : cha√Ænes de caract√®res (<code>&quot;Salut !&quot;</code>, <code>'Hello'</code>)</li>
</ul>
</li>
<li>
<p>variables de type objet (par exemple <code>Array</code> pour un tableau ou <code>Object</code> pour stocker des paires de cl√©s/valeurs)</p>
</li>
<li>
<p>types sp√©ciaux :</p>
<ul>
<li><code>undefined</code> (poss√®de une unique valeur, <code>undefined</code> et d√©crit une variable dont le contenu n'a jamais √©t√© initialis√©)</li>
<li><code>null</code> (poss√®de une unique valeur, <code>null</code> et sp√©cifie qu'une variable a bien √©t√© initialis√©e mais qu'elle ne point sur aucun objet)</li>
</ul>
</li>
</ul>
<p>Regardons en d√©tails comment cela fonctionne.</p>
<h4 id="223-d√©claration-dune-variable"><a class="header" href="#223-d√©claration-dune-variable">2.2.3 D√©claration d'une variable</a></h4>
<p>Les instructions qui suivent peuvent √™tre saisies dans la console JavaScript de votre navigateur :</p>
<pre><code class="language-js">// On peut d√©clarer un variable sans lui affecter de valeur:
var a; // √©quivalent √† `var a = undefined;`
var b, c;

console.log(a); // undefined

// Affectation avec la forme litt√©rale
// (cha√Æne de caract√®re, entier, r√©el)
a = &quot;Coucou&quot;;
b = 1;
c = 3.14;

// On peut affecter une valeur lors de la d√©claration
var d = &quot;Hello&quot;;

// On peut ensuite affecter une valeur d'un autre type
d = 12;


// Tableau d'entiers (forme litt√©rale)
var myTableau = [1, 2, 3, 4];

var tableauVide = [];
var tableauVide = new Array(); // Identique √† l'√©criture pr√©c√©dente

// Un tableau peut contenir 

// Objet JavaScript (forme litt√©rale)
var myObj = {
  &quot;rate&quot;: 5,
  &quot;comment&quot;: &quot;Awesome place ! Great Food !&quot;
};

var autreObj = {};
var autreObj = new Object(); // Identique √† l'√©criture pr√©c√©dente

// Ces objets ont des m√©thodes :
var nb = 12;
var txt = nb.toString(); // Renvoie &quot;12&quot;
console.log(txt.length); // 2
</code></pre>
<p>On acc√®de ainsi aux propri√©t√©s (attributs, m√©thodes) d'un object en utilisant un <strong>accesseurs de propri√©t√©</strong>. Cela permet de fournir un acc√®s aux propri√©t√©s d'un objet en utilisant <em>une notation avec un point</em> ou une <em>notation avec des crochets</em>.</p>
<blockquote>
<p><strong>Remarque:</strong> Historiquement la d√©claration de variable se fait avec <code>var</code>. Depuis <strong>ES6</strong> la bonne pratique est d'utiliser <code>let</code> ou <code>const</code>. Cette fonctionnalit√© est maintenant support√©e par les diff√©rents navigateurs Web.</p>
</blockquote>
<ul>
<li><code>const</code> :</li>
</ul>
<pre><code class="language-js">const myConst = 12;

// On ne peut pas faire :
myConst = 15; // TypeError : invalid assignement to const 'myConst'
</code></pre>
<ul>
<li><code>let</code> :</li>
</ul>
<pre><code class="language-js">let isValid = false;

// later in your code :
isValid = true;
</code></pre>
<p>Par ailleurs, il est possible de d√©terminer le type d'une variable en utilisant l'op√©rateur <code>typeof</code> :</p>
<pre><code class="language-js">var v0;
console.log(typeof v0); // undefined

var v1 = 12;
console.log(typeof v1); // number

var v2 = &quot;Hello&quot;;
console.log(typeof v2); // string

var v3 = [1, 2, 3];
console.log(typeof v3); // object

var v4 = {&quot;cl√©&quot;: &quot;valeur&quot;};
console.log(typeof v4); // object

var v5 = null;
console.log(typeof v5); // object
</code></pre>
<h4 id="224-r√®gles-de-nommage-des-variables"><a class="header" href="#224-r√®gles-de-nommage-des-variables">2.2.4 R√®gles de nommage des variables</a></h4>
<ul>
<li>Pas d'espace, d‚Äôop√©rateurs arithm√©tiques (<code>+</code> , <code>-</code>, <code>/</code>, <code>*</code>) ou de caract√®re de ponctuation (<code>.</code>, <code>,</code>, <code>;</code>)</li>
<li>Des lettres, des chiffres, <code>_</code> ou <code>$</code></li>
<li>Ne peuvent pas commencer par un chiffre</li>
<li>Noms sensibles √† la casse <code>nomUtilisateur</code> ‚â† <code>nomutilisateur</code></li>
<li>Interdiction d‚Äôutiliser des mots cl√©s r√©serv√©s JS (ex., if, then, else)</li>
<li>Choisir des noms descriptifs (par exemple pour une variable correspondant au prix unitaire d'un produit, utiliser <code>prixUnitaire</code> plut√¥t que <code>u</code>)</li>
<li>utiliser <em>camelCase</em> pour joindre des mots multiples dans un nom de variable (premi√®re lettre du premier mot en minuscule, premi√®re lettre des mots suivants en
majuscule : <code>nomUtilisateur</code> plut√¥t que <code>nom_utilisateur</code>)</li>
</ul>
<h3 id="23-op√©rateur-arithm√©tiques-logiques-et-de-comparaison"><a class="header" href="#23-op√©rateur-arithm√©tiques-logiques-et-de-comparaison">2.3 Op√©rateur arithm√©tiques, logiques et de comparaison</a></h3>
<ul>
<li>
<p><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code></p>
</li>
<li>
<p><code>++</code>, <code>--</code></p>
</li>
<li>
<p><code>==</code>, <code>!=</code>, <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code> ... mais aussi <code>===</code> et <code>!==</code></p>
</li>
<li>
<p><code>||</code> (pensez √† <code>or</code> en Python), <code>&amp;&amp;</code> (pensez √† <code>and</code> en Python), <code>!</code> (pensez √† <code>not</code> en Python)</p>
</li>
</ul>
<p>Attention √† la diff√©rence entre <code>==</code> et <code>!=</code> d'une part et <code>===</code> et <code>!==</code> d'autre part...!</p>
<ul>
<li>
<p><code>==</code> √©galit√©</p>
</li>
<li>
<p><code>!=</code> diff√©rence</p>
</li>
<li>
<p><code>===</code> √©galit√© de valeur et de type</p>
</li>
<li>
<p><code>!==</code> diff√©rence de valeur ou de type</p>
</li>
</ul>
<p>Ainsi :</p>
<pre><code class="language-js">'0' == 0 // true
'0' === 0 // false

null == undefined // true
null === undefined // false
</code></pre>
<p>On voit que l'op√©rateur <code>==</code> effectue des conversions de type avant de tester l'√©galit√© / la diff√©rence. De mani√®re g√©n√©rale, utilisez <code>===</code> et <code>!==</code> plut√¥t que <code>==</code> et <code>!=</code>, car c'est g√©n√©ralement ce que vous voulez.</p>
<h3 id="24-contr√¥le-du-flux-dex√©cution"><a class="header" href="#24-contr√¥le-du-flux-dex√©cution">2.4 Contr√¥le du flux d'ex√©cution</a></h3>
<ul>
<li>
<p>Lorsque le navigateur web rencontre du code JavaScript il l'ex√©cute dans l'ordre d'apparition (√† quelques exceptions qui ne sont pas abord√©es).</p>
</li>
<li>
<p>Contrairement au Python, l'indentation ne joue pas de r√¥le dans la logique du code <em>(cela ne veut pas dire qu'il ne faut pas respecter certaines r√®gles! pensez √† la lecture du code par vous ou d'autres d√©veloppeurs!)</em></p>
</li>
<li>
<p>Instructions conditionnelles : <code>if</code>, <code>else</code>, <code>else if</code> <code>switch</code></p>
</li>
<li>
<p>Instructions it√©ratives : <code>for</code>, <code>while</code></p>
</li>
</ul>
<p><strong>Exemple 1</strong>:</p>
<pre><code class="language-js">// Pour i=0, tant que i inf√©rieur √† 35, et sachant qu'on incr√©mente i apr√®s chaque ex√©cution du bloc ...
for (let i = 0; i &lt; 35; i++) {

  // Un message est √©crit dans la console en fonction de la valeur de &quot;i&quot;
  if (i &lt; 12) {
    console.log('La valeur de la variable &quot;i&quot; est actuellement inf√©rieure √† 12 !');
  } else if (i &lt; 25) {
    console.log('La valeur de la variable &quot;i&quot; est actuellement inf√©rieure √† 25 (mais sup√©rieure ou √©gale √† 12) !');
  } else {
    console.log('La variable &quot;i&quot; vaut au moins 25 maintenant !')
  }
}
</code></pre>
<p><strong>Exemple 2</strong></p>
<pre><code class="language-js">var i = 0; // On d√©clare la variable utilis√©e dans le test

// Le contenu du bloc va s'ex√©cuter tant que la condition est valide
while (i &lt; 5) {
    console.log('Je suis dans l\'it√©ration n' + i);
    // On incr√©mente (i.e. on ajoute 1 √†) la variable 'i' 
    i++;
}
</code></pre>
<p><strong>Exemple 3</strong></p>
<pre><code class="language-js">// D√©finition d'une fonction cr√©ant un paragraphe
// et l'ajoutant √† la fin de la page
// (la fonction est d√©finie, on pourra l'utiliser avec son nom 'createParagraph'
// mais elle n'est pas ex√©cut√©e lors de sa d√©finition, seulement lorsqu'elle
// sera invoqu√©e par la suite).
function createParagraph() {
  let para = document.createElement('p');
  para.textContent = 'You clicked the button!';
  document.body.appendChild(para);
}

// Cr√©√© un tableau r√©f√©ren√ßant tous les √©l√©ments 'button':
let buttons = document.querySelectorAll('button');

// Utilisation d'une boucle pour parcourir le tableau dans son ensemble
for(let i = 0; i &lt; buttons.length ; i++) {

  // Ajoute un &quot;click event listener&quot; sur chaque bouton
  // lors du clic, la fonction 'createParagraph'
  // sera appel√©e:
  buttons[i].addEventListener('click', createParagraph);
}
</code></pre>
<h3 id="25-commentaires"><a class="header" href="#25-commentaires">2.5 Commentaires</a></h3>
<pre><code class="language-js">/*
 Commentaire
 multi lignes ...
*/
var a = 12;

// Commentaire sur une seule ligne
</code></pre>
<h3 id="26-fonctions"><a class="header" href="#26-fonctions">2.6 Fonctions</a></h3>
<p>On a vu un exemple de fonction dans la partie 2.4. Il existe plusieurs syntaxe pour d√©finir une fonction appel√©e <code>addition</code>, par exemple :</p>
<pre><code class="language-js">function addition(a, b) {
  return a + b;
}
</code></pre>
<p>et</p>
<pre><code class="language-js">var addition = function (a, b) {
  return a + b;
}
</code></pre>
<p>On pourra ensuite <em>appeler</em> cette fonction (ici elle attend donc 2 arguments) et stocker la valeur de retour dans une variable :</p>
<pre><code class="language-js">var resultat = addition(30, 20);
console.log(resultat); // 50
</code></pre>
<p>On notera qu'une fonction peut √™tre donn√©e en argument √† une autre fonction.</p>
<pre><code class="language-js">function multAdd(a, b, c, addFunction) {
  return addFunction(a * b, c);
}

multAdd(2, 3, 4, addition); // 10
</code></pre>
<h3 id="27-port√©e-scope-des-variables"><a class="header" href="#27-port√©e-scope-des-variables">2.7 Port√©e (<em>scope</em>) des variables</a></h3>
<ul>
<li>
<p>Les variables peuvent avoir une port√©e <strong>globale</strong> ou <strong>locale</strong>. </p>
</li>
<li>
<p>En JavaScript, la port√©e d'une variable est d√©finie par son emplacement dans le code source (elle appara√Æt de fa√ßon lexicale).</p>
</li>
<li>
<p>Une variable globale est d√©finie partout dans le script. Elle a une port√©e globale.</p>
</li>
<li>
<p>Une variable d√©clar√©e √† l'int√©rieur d'une fonction n'est d√©finie que dans le corps de ceIe fonction. Elle est une variable locale et elle a une port√©e locale. C'est cela qu'on appelle &quot;port√©e de fonction&quot;. On note toutefois qu'avec <code>let</code> et <code>const</code> il est aussi possible d'avoir une <code>port√©e de bloc</code>.</p>
</li>
<li>
<p>Les param√®tres d'une fonction sont aussi des variables locales et elles ne sont d√©finis que dans le corps de la fonction.</p>
</li>
<li>
<p>Une variable affect√©e mais non d√©clar√©e est consid√©r√©e comme une variable globale. Par cons√©quent, m√™me si on peut √©viter d'utiliser <code>var</code> quand on √©crit du code dans la port√©e globale, pour d√©clarer les variables locales, il faudra toujours utiliser <code>var</code>, <code>let</code> ou <code>const</code>.</p>
</li>
</ul>
<p><strong>Exemple</strong> : port√©e de fonction</p>
<pre><code class="language-js">function addition(a, b) {
  // 'a' et 'b' sont des variables locales,
  // elles n'existent qu'au sein de la fonction 'addition'
  return a + b;
}

console.log(a); // undefined

var resultat = addition(12, 13);

console.log(a); // undefined
</code></pre>
<p><strong>Exemple</strong> : port√©e de bloc</p>
<pre><code class="language-js">function mult(a, b) {
  // 'res' est une variable locale, elle n'est valable que
  // dans le bloc d√©finit par la fonction 'mult'
  let res = 0;
  for (let i = 0; i &lt; b; i++) {
    res += a;
    // Ici la variable 'i' est d√©finie
  }
  // Ici on a quitt√© le bloc, la variable 'i' est 'undefined'
  return res;
}
</code></pre>
<p><strong>Exemple</strong> : variable globale</p>
<pre><code class="language-js">var monNom = 'Matthieu';
// On pourra utiliser cette variable au sein de n'importe quelle fonction
// ou de n'importe quel bloc du script, elle est globale ...

function mult(a, b) {
  // ... alors que 'a' et 'b' sont des variables locales
  let res = 0;
  for (let i = 0; i &lt; b; i++) {
    res += a;
  }
  return monNom + &quot; a calcul√© que &quot; + a + &quot; * &quot; + b + &quot; est √©gal √† &quot; + res;
}

mult(12, 12) // 'Matthieu a calcul√© que 12 * 12 est √©gal √† 144'
</code></pre>
<h2 id="3-manipulation-du-dom"><a class="header" href="#3-manipulation-du-dom">3. Manipulation du DOM</a></h2>
<h3 id="31-la-variable-document"><a class="header" href="#31-la-variable-document">3.1 La variable <code>document</code></a></h3>
<p>Nous avons utilis√© pr√©c√©demment la variable nomm√©e <code>document</code> : il s'agit d'un objet JavaScript qui repr√©sente un document HTML (le contenu de la fen√™tre).</p>
<p>Cet object dispose de plusieurs propri√©t√©s int√©ressantes :</p>
<ul>
<li><code>body</code> (l'√©l√©ment <code>&lt;body&gt;</code>)</li>
<li><code>documentElement</code> (l'√©l√©ment <code>&lt;html</code>)</li>
<li><code>cookie</code> (permet de lire / √©crire des cookies)</li>
<li>etc.</li>
</ul>
<p>Comme avec les autres objects JavaScript, on acc√®de √† ses propri√©t√©s en utilisant un accesseur de propri√©t√©s, par exemple avec la notation avec un point :</p>
<pre><code class="language-js">document.body
</code></pre>
<p>La variable <code>document</code> dispose √©galement de propri√©t√©s tr√®s int√©ressantes permettant de s√©lectionner un (<code>querySelector</code>) ou plusieurs (<code>querySelectorAll</code>) √©l√©ments HTML en utilisant un s√©lecteur CSS (notation similaire √† celles apprise dans le TP CSS) :</p>
<ul>
<li>s√©lection d'un √©l√©ment par sa classe : <code>var navbar = document.querySelector('.navbar');</code></li>
<li>s√©lection d'un √©l√©ment par son type et sa classe : <code>var maDiv = document.querySelector('div.blue');</code></li>
<li>s√©lection d'un √©l√©ment par son id : <code>var menu = document.querySelector('#menu');</code></li>
<li>s√©lection de toutes les 'div' du document : <code>var tableauDeDiv = document.querySelectorAll('div');</code> (retourne un tableau)</li>
</ul>
<p>La variable <code>document</code> dispose √©galement d'une m√©thode pour s√©lectionner un √©l√©ment par son identifiant seulement : <code>document.getElementById('menu')</code> (√©quivalent √† <code>document.querySelector('#menu')</code>).</p>
<p>Ces m√©thodes pour s√©lectionner un ou plusieurs √©l√©ments seront indispensables dans la suite de ce cours.</p>
<p>Une fois une r√©f√©rence obtenue √† un √©l√©ment, il sera possible de modifier le contenu de cet √©l√©ment, de modifier son style, de lui attacher un gestionnaire d'√©v√©nement, etc.</p>
<h3 id="32-les-principales-m√©thodes-des-√©l√©ments-html"><a class="header" href="#32-les-principales-m√©thodes-des-√©l√©ments-html">3.2 Les principales m√©thodes des √©l√©ments HTML</a></h3>
<p>Changer le contenu d'un √©l√©ment HTML avec <code>innerHTML</code>:</p>
<pre><code class="language-js">// On s√©lectionne la div avec la classe 'test'
const target = document.querySelector('div.test');
// On remplace l'ensemble du contenu de cette div par un nouveau texte
target.innerHTML = 'Hello hello !';
</code></pre>
<p>Changer une propri√©t√© de style avec <code>style</code>:</p>
<pre><code class="language-js">// On s√©lectionne la div avec la classe 'test'
const target = document.querySelector('div.test');
// On change la valeur de la propri√©t√© CSS 'background-color':
// (notez que les noms de propri√©t√©s CSS avec tirets sont transform√©s en camelCase)
target.style.backgroundColor = 'red';
</code></pre>
<p>Enlever un √©l√©ment HTML du DOM:</p>
<pre><code class="language-js">// On s√©lectionne la div avec la classe 'test'
const target = document.querySelector('div.test');
// On supprime l'√©l√©ment (il est enlev√© du DOM / de la page)
target.remove();
</code></pre>
<h3 id="33-cr√©ation-d√©l√©ments-html-en-javascript"><a class="header" href="#33-cr√©ation-d√©l√©ments-html-en-javascript">3.3 Cr√©ation d'√©l√©ments HTML en JavaScript</a></h3>
<p>On a vu qu'il √©tait possible de modifier un √©l√©ment HTML existant ou de le supprimer avec JavaScript.</p>
<p>Il est √©galement possible de cr√©er un nouvel √©l√©ment HTML avec JavaScript :</p>
<pre><code class="language-js">// On cr√©√© un √©l√©ment de type paragraphe
// Attention, il a √©t√© cr√©√© en m√©moire mais n'est pas encore ajout√© au document !
const monParagraphe = document.createElement('p');

// On peut d√®s maintenant d√©finir le contenu de l'√©l√©ment et √©ventuellement son style
monParagraphe.innerHTML = 'Hey there !';
monParagraphe.style.color = 'red';

// On ajoute cet √©l√©ment, par exemple apr√®s le dernier √©l√©ment de la page :
document.body.appendChild(monParagraphe);
</code></pre>
<p>Il est aussi possible de choisir d'ins√©rer un √©l√©ment √† un endroit particulier du document :</p>
<pre><code class="language-js">// On cr√©√© un √©l√©ment de type paragraphe
// Attention, il a √©t√© cr√©√© en m√©moire mais n'est pas encore ajout√© au document !
const monParagraphe = document.createElement('p');

// On peut d√®s maintenant d√©finir le contenu de l'√©l√©ment et √©ventuellement son style
monParagraphe.innerHTML = 'Hey there !';
monParagraphe.style.color = 'red';

// On s√©lectionne l'√©l√©ment parent
const parent = document.querySelector('#menu'):

// On s√©lectionne l'√©l√©ment, enfant du parent, avant lequel ins√©rer le nouvel √©l√©ment
// (ici le dernier paragraphe)
const otherChild = parent.querySelector('p:last-child');

// On ajoute cet √©l√©ment juste avant 'otherChild'
parent.insertBefore(monParagraphe, otherChild);
</code></pre>
<h2 id="4-√âv√©nements"><a class="header" href="#4-√âv√©nements">4. √âv√©nements</a></h2>
<ul>
<li>
<p>Les interactions de l'utilisateur avec la page peuvent provoquer l'ex√©cution de code JavaScript:</p>
<ul>
<li>clic sur un bouton ou sur tout autre √©l√©ment HTML</li>
<li>survol de la souris au dessus d'un √©l√©ment HTML</li>
<li>modification d'une zone de saisie</li>
<li>appui sur une touche de clavier</li>
<li>etc.</li>
</ul>
</li>
<li>
<p>Ces interactions sont g√©r√©es via des <strong>√©v√©nements</strong> (<em>Event</em>)</p>
</li>
</ul>
<h3 id="41-exemple-d√©v√©nements"><a class="header" href="#41-exemple-d√©v√©nements">4.1 Exemple d'√©v√©nements</a></h3>
<div class="table-wrapper"><table><thead><tr><th>nom</th><th>√©v√©nement</th><th>s'applique √†</th></tr></thead><tbody>
<tr><td>blur</td><td>perte du focus</td><td>champ de saisie, window</td></tr>
<tr><td>focus</td><td>attribution du focus</td><td>champ de saisie, window</td></tr>
<tr><td>click</td><td>clic sur un objet</td><td></td></tr>
<tr><td>change</td><td>changement dans un champ de saisie</td><td></td></tr>
<tr><td>contextmenu</td><td>clic droit sur un objet</td><td></td></tr>
<tr><td>dblclick</td><td>double clic¬†sur un objet</td><td></td></tr>
<tr><td>load</td><td>la page  ou l'image est charg√©e</td><td>window, image</td></tr>
<tr><td>keydown</td><td>touche enfonc√©e</td><td>¬†</td></tr>
<tr><td>keyup</td><td>¬†l'utilisateur a appuy√© sur une touche</td><td>¬†</td></tr>
<tr><td>keypress</td><td>touche rel√¢ch√©e¬†</td><td>¬†</td></tr>
<tr><td>¬†mousedown</td><td>un bouton de la souris est enfonc√©e¬†</td><td>¬†</td></tr>
<tr><td>mouseup</td><td>le bouton de la souris est rel√¢ch√©¬†</td><td>¬†</td></tr>
<tr><td>mousemove</td><td>d√©placement de la souris¬†</td><td>¬†</td></tr>
<tr><td>mouseout</td><td>le souris vient de quitter une zone¬†</td><td>¬†</td></tr>
<tr><td>mouseover</td><td>la souris entre sur une zone¬†</td><td>¬†</td></tr>
</tbody></table>
</div>
<h3 id="42-d√©finir-un-gestionnaire-d√©v√©nement-event-handler"><a class="header" href="#42-d√©finir-un-gestionnaire-d√©v√©nement-event-handler">4.2 D√©finir un gestionnaire d'√©v√©nement (<em>event handler</em>)</a></h3>
<p>Il existe 2 m√©thodes pour attacher / d√©tacher un gestionnaire d'√©v√©nement d'un √©l√©ment HTML.
Toutes les 2 n√©cessitent de conna√Ætre le nom de l'√©v√©nement cibl√© :</p>
<ol>
<li>Avec <code>addEventListener</code> et <code>removeEventListener</code> :</li>
</ol>
<pre><code class="language-js">// Cr√©ation de la fonction qui sera appel√©e lorsque l'√©v√©nement se produit
function displayAlertOnClick() {
  alert('clicked !');
}

// S√©lection de la cible de l'√©v√©nement, ici l'√©l√©ment HTML body
const target = document.querySelector('body');

// Attache le gestionnaire d'√©v√©nement √† la cible
target.addEventListener('click', displayAlertOnClick);

// Essayez ensuite de cliquer n'importe o√π sur la page
// ...

// On peut ensuite enlever ce gestionnaire d'√©v√©nement
target.removeEventListener('click', displayAlertOnClick);

// Essayez √† nouveau de cliquer sur la page, il ne se passe plus rien.
// ....
</code></pre>
<ol start="2">
<li>Avec la propri√©t√© 'on' + nom de l'√©v√©nement de la cible (<code>onclick</code>, <code>onload</code>, etc.):</li>
</ol>
<pre><code class="language-js">// Cr√©ation de la fonction qui sera appel√©e lorsque l'√©v√©nement se produit
function displayAlertOnClick() {
  alert('clicked !');
}

// S√©lection de la cible de l'√©v√©nement, ici l'√©l√©ment HTML body
const target = document.querySelector('body');

// Attache le gestionnaire d'√©v√©nement √† la cible
target.onclick = displayAlertOnClick

// Essayez ensuite de cliquer n'importe o√π sur la page
// ...

// On peut ensuite enlever ce gestionnaire d'√©v√©nement
// (ou plut√¥t le remplacer par null ou undefined)
target.onclick = null;

// Essayez √† nouveau de cliquer sur la page, il ne se passe plus rien.
// ....
</code></pre>
<p>Cette m√©thode ne permet pas d'ajouter plusieurs gestionnaires d'√©v√©nements du m√™me type √† un √©l√©ment HTML (contrairement √† la premi√®re m√©thode).</p>
<h2 id="5-mise-en-pratique"><a class="header" href="#5-mise-en-pratique">5. Mise en pratique</a></h2>
<p><strong>üöÄ Rendez-vous sur la page <a href="https://www.w3schools.com/js/exercise_js.asp">https://www.w3schools.com/js/exercise_js.asp</a> et commencez les exercices dans l'ordre : faites les 15 premiers</strong> (<em>JS Variables</em>, <em>JS Operators</em>, <em>JS Data Types</em> et <em>JS Functions</em>).</p>
<p>Ces exercices simples mettent l'accent sur votre bonne compr√©hension du m√©canisme de base de l'√©criture du code JavaScript. Ils repr√©sentent √©galement un bon moyen d'apprendre certaines de ces notions par la pratique.</p>
<p><strong>Soyez attentif aux √©nonc√©s et suivez votre instinct ! N'h√©sitez pas √† demander et/ou √† vous rendre sur le tutoriel correspondant avant de cliquer sur <code>Show Answer</code> :)</strong></p>
<div class="center">
<p><img src="img/tp8_1.png" alt="" /></p>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="javascript---mise-en-pratique"><a class="header" href="#javascript---mise-en-pratique">Javascript - Mise en pratique</a></h1>
<div class="center">
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Unofficial_JavaScript_logo_2.svg/200px-Unofficial_JavaScript_logo_2.svg.png" />
</div>
<h2 id="1-am√©liorer-la-page-pr√©c√©demment-cr√©√©e-avec-du-javascript"><a class="header" href="#1-am√©liorer-la-page-pr√©c√©demment-cr√©√©e-avec-du-javascript">1. Am√©liorer la page pr√©c√©demment cr√©√©e avec du JavaScript</a></h2>
<p>Nous allons reprendre la page cr√©√©e lors du TP4.
Vous pouvez prendre le r√©sultat que vous avez obtenus si vous √™tes all√© jusqu'au bout de l'exercice ou celui fourni en guise de correction (conseill√©).</p>
<p>Nous souhaitons impl√©menter plusieurs fonctionnalit√©s :</p>
<ul>
<li>
<p>un message (de type <code>alert</code>) lors de l'ouverture de la page disant 'Bienvenue sur ma page Web !'.</p>
</li>
<li>
<p>la couleur du texte de chacun des 3 articles doit changer afin que le texte apparaisse en rouge lors du clic, lors du clic suivant, il doit revenir noir.</p>
</li>
<li>
<p>la couleur du fond de chacune des 2 sections doit changer afin que le fond apparaisse en gris lors du survol (cf. image ci-dessous).</p>
</li>
<li>
<p>lors de l'appui sur le bouton 'search', si le contenu du champ est vide, une alerte sera affich√©e ; s'il n'est pas vide alors le contenu sera recherch√© sur google.fr (cf. image ci-dessous).</p>
</li>
</ul>
<p><img src="img/section_mouseover.gif" alt="" /></p>
<p><img src="img/search_google.gif" alt="" /></p>
<h2 id="2-cr√©er-un-carrousel"><a class="header" href="#2-cr√©er-un-carrousel">2. Cr√©er un carrousel</a></h2>
<p>Nous souhaitons ensuite impl√©menter un &quot;carrousel&quot;. Il s'agit d'un composant rencontr√© tr√®s fr√©quemment sur web, permettant de faire d√©filer (automatiquement et/ou au clic de l'utilisateur) des images.</p>
<p>Votre carrousel sera compos√© d'un espace image et de deux boutons sous cet espace permettant de changer l‚Äôimage pour l'image pr√©c√©dente et pour l'image suivante.</p>
<p>Vous devrez mettre en place un tableau JavaScript contenant 5 images, et faire d√©filer ces 5 images au clic sur les boutons &quot;pr√©c√©dent&quot; et &quot;suivant&quot; (en pensant √†
revenir √† la premi√®re image en fin de parcours de la collection).</p>
<p>Vous placerez ce carrousel en haut de la page HTML sur laquelle vous travaillez, sous le titre et avant les premiers articles. Vous utiliserez les images suivantes :</p>
<ul>
<li>https://pixnio.com/free-images/2017/08/06/2017-08-06-08-58-39-1000x526.jpg</li>
<li>https://pixnio.com/free-images/2017/08/04/2017-08-04-13-34-03-1000x667.jpg</li>
<li>https://pixnio.com/free-images/2017/08/04/2017-08-04-13-32-41-1000x690.jpg</li>
<li>https://pixnio.com/free-images/2017/08/04/2017-08-04-13-34-27-1000x667.jpg</li>
<li>https://pixnio.com/free-images/2017/08/04/2017-08-04-13-34-55-850x850.jpg</li>
</ul>
<p><img src="img/carrousel.gif" alt="" /></p>
<h2 id="3-pour-aller-plus-loin-lajout-dune-carte-interactive"><a class="header" href="#3-pour-aller-plus-loin-lajout-dune-carte-interactive">3. Pour aller plus loin... l'ajout d'une carte interactive</a></h2>
<p>Nous souhaitons d√©sormais ajouter une carte interactive cr√©√©e avec la biblioth√®que <a href="https://leafletjs.com/"><em>leaflet</em></a> et y ajouter des √©pingles permettant de localiser nos lieux pr√©f√©r√©s.</p>
<h3 id="31-leaflet"><a class="header" href="#31-leaflet">3.1 Leaflet</a></h3>
<p>Il s'agit d'une biblioth√®que permettant de cr√©er des cartes interactives. La biblioth√®que est <em>mobile-friendly</em> par d√©faut et dispose de l'ensemble des fonctionnalit√©s requise pour cr√©er des cartes interactives personnalis√©es et avec vos propres donn√©es.</p>
<p><img src="img/tp7_leaflet_features.png" alt="Capture d'√©cran du site Web de Leaflet.js" /></p>
<h3 id="32-ajout-dune-carte-et-de-plusieurs-√©pingles"><a class="header" href="#32-ajout-dune-carte-et-de-plusieurs-√©pingles">3.2 Ajout d'une carte et de plusieurs √©pingles.</a></h3>
<p>Suivez le <a href="https://leafletjs.com/examples/quick-start/">tutoriel pr√©sent sur le site de <em>leaflet</em></a> (jusqu'√† la partie &quot;Working with popups&quot; inclus) afin d'ajouter une carte √† votre page (cette carte devra √™tre centr√©e sur le campus de Saint-Martin-d'H√®res) puis d'ajouter 3 √©pingles (<em>marker</em> dans le tutoriel) o√π vous le souhaitez, chacune de ces √©pingle devra √™tre permettre d'ouvrir une popup lorsqu'elle sera cliqu√©e.</p>
<p>Vous constaterez que pour l'utiliser il est n√©cessaire d'inclure deux fichiers dans votre document HTML :</p>
<ul>
<li>Un fichier CSS (extension <code>.css</code>) contenant des r√®gles de styles</li>
<li>Un fichier JavaScript (extension <code>.js</code>) contenant le code source de la biblioth√®que</li>
</ul>
<h3 id="33-choix-dun-autre-fond-de-carte"><a class="header" href="#33-choix-dun-autre-fond-de-carte">3.3 Choix d'un autre fond de carte</a></h3>
<p>Renseignez vous (documentation, autres ressources sur le Web, ...) sur la mani√®re de permettre √† l'utilisateur de changer son fond de carte, comme sur l'exemple qui suit. Essayez d'impl√©menter cette fonctionnalit√©.</p>
<p><img src="img/change-basemap3.gif" alt="" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="programmation-web-cot√©-serveur-en-python"><a class="header" href="#programmation-web-cot√©-serveur-en-python">Programmation Web cot√© serveur en Python</a></h1>
<h2 id="1-pr√©ambule-1"><a class="header" href="#1-pr√©ambule-1">1. Pr√©ambule</a></h2>
<h3 id="11-langages-cot√©-client-et-langages-cot√©-serveur-"><a class="header" href="#11-langages-cot√©-client-et-langages-cot√©-serveur-">1.1 Langages cot√© client et langages cot√© serveur ...</a></h3>
<p>HTML <em>(HyperText Markup Language)</em> et CSS <em>(Cascading Style Sheet)</em>, sont deux langages de simple affichage <strong>statique</strong> de contenus (statique car rien ne change, le contenu est toujours le m√™me).</p>
<p>Les langages de script permettent de produire des pages web non statiques, <strong>dynamiques</strong>, c‚Äôest-√†-dire dont le contenu peut varier en fonction de diff√©rentes conditions (et notamment des actions de l'utilisateur).</p>
<p>Il existe des langages c√¥t√© client (le principal actuellement est Javascript) et des langages c√¥t√© serveur.</p>
<p><strong>PHP</strong> est un c√©l√®bre exemple de langage de programmation qui s‚Äôex√©cute c√¥t√© serveur. Ce langage permet de produire du code, visualisable par le client, qui peut diff√©rer en fonction de circonstances d√©finies, ce qui introduit donc un certain dynamisme. Ce dynamisme peut √™tre accru gr√¢ce √† une connexion avec une base de donn√©es (PostGreSQL, MySQL, SQLite, etc.).</p>
<div class="center" style="border: solid 3px black; border-radius: 10px;">
<p><img src="1-Intro-Internet-web/img/traitement_page_serveur.png" alt="" /></p>
<p class="source center" style="font-size: 0.85em;">Source: Marl√®ne Villanova</p>
</div>
<p>La figure ci-dessus (√©galement pr√©sent√©e dans les slides du 1er cours) pr√©sente l‚Äôarchitecture couplant un langage de programmation et une base de donn√©es afin de g√©n√©rer, sur le serveur, du contenu dynamique lors d'une requ√™te en provenance d'un client (navigateur Web) : c'est ce que nous allons impl√©menter dans les 2 prochains TP.<br />
<strong>Nous n'utiliserons pas le langage PHP mais le langage Python avec le <em>micro-framework</em> <code>Flask</code>.</strong></p>
<p>Il existe de nombreux <em>frameworks</em> de programmation de <strong>serveur</strong> Web dans un multitude de langages, par exemple :</p>
<ul>
<li>en PHP : <code>laravel</code>, <code>Symphony</code>,</li>
<li>en Python : <code>Django</code>, <code>Flask</code>, <code>cherry.py</code></li>
<li>en JavaScript avec node.js : <code>Express.js</code>,</li>
<li>en Java : <code>Spring</code>, ...</li>
<li>en Ruby : <code>Ruby on Rails</code>, ...</li>
</ul>
<p>Les logiciels <a href="https://fr.wikipedia.org/wiki/Apache_HTTP_Server"><code>Apache HTTP server</code></a> et <a href="https://fr.wikipedia.org/wiki/NGINX"><code>NGINX</code></a> sont √©galement des serveurs HTTP.</p>
<p>Au m√™me titre, il existe diff√©rents <strong>clients</strong>, que vous utilisez ou connaissez d√©j√† pour certains puisqu'il s'agit notamment des navigateurs Web :</p>
<ul>
<li><code>Chrome</code>, <code>Firefox</code>, <code>Microsoft Edge</code>, etc.</li>
<li>En ligne de commande : <a href="https://fr.wikipedia.org/wiki/CURL"><code>cURL</code></a>, <a href="https://fr.wikipedia.org/wiki/GNU_Wget"><code>Wget</code></a></li>
<li>Des biblioth√®ques proposent d'effectuer des requ√™tes HTTP dans la plupart des langages de programmation (<a href="https://docs.python-requests.org/en/master/"><code>requests</code></a> et <a href="https://www.python-httpx.org/"><code>httpx</code></a> en Python par exemple)</li>
</ul>
<h3 id="12-le-protocole-http"><a class="header" href="#12-le-protocole-http">1.2 Le protocole HTTP</a></h3>
<p>Dans le 1er cours, nous avons √©voqu√© le protocole HTTP (pour <em>Hypertext Transfer Protocol</em>, litt√©ralement &quot;protocole de transfert hypertexte&quot;). Il s'agit d'un <strong>protocole de communication client-serveur</strong> (se situant au niveau &quot;application&quot; du mod√®le en couches pr√©sent√© √† cette occasion et dont l'illustration est rappel√©e ci-dessous).</p>
<div class="center">
<p><img src="1-Intro-Internet-web/img/dataflow_ips_wikipedia.png" alt="" /></p>
<p class="source center" style="font-size: 0.85em;">Source: <a href="https://commons.wikimedia.org/wiki/File:Data_Flow_of_the_Internet_Protocol_Suite.PNG">Wikimedia Commons - user: renepick</a> / <a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA-3.0</a></p>
</div>
<div class="center">
<p><img src="1-Intro-Internet-web/img/client-server-mdn.png" alt="" /></p>
<p><span class="source" style="display: block;padding-right: 86px;font-size: 0.85em;">Source: <a href="https://developer.mozilla.org/files/4291/client-server.png">Mozilla Developpers Network</a></span></p>
</div>
<p>Le protocole HTTP d√©finie plusieurs <strong>m√©thodes</strong>. Une m√©thode est une commande sp√©cifiant au serveur un <strong>type de requ√™te</strong>, lui demandant d'effectuer une action particuli√®re sur la ressource d√©sign√©e par l'URL qui accompagne cette m√©thode.</p>
<p>Les m√©thodes qui seront utilis√©es dans cette s√©rie de TP sont les suivantes (il s'agit √©galement des plus utilis√©es):</p>
<ul>
<li><strong><code>GET</code></strong> : m√©thode pour demander une ressource (une requ√™te <code>GET</code> est sans effet sur la ressource, on peut la r√©p√©ter et obtenir le m√™me r√©sultat), c'est la m√©thode utilis√©e lors de la r√©cup√©ration d'une page Web par exemple.</li>
<li><strong><code>POST</code></strong> : m√©thode pour transmettre des donn√©es en vue de leur traitement (par exemple depuis un formulaire HTML)</li>
</ul>
<p><strong>‚Üí Concr√™tement, lorsqu'une page HTML est consult√©e, la premi√®re √©tape consiste √† la r√©cup√©rer : une requ√™te HTTP de type <code>GET</code> sur l'url de la page est effectu√©e</strong>.</p>
<p><strong>‚Üí De m√™me, lorsque vous validez un formulaire, une requ√™te HTTP de type <code>POST</code> est effectu√©e sur une url du serveur permettant de valider et de traiter le formulaire</strong>.</p>
<p>Ces autres m√©thodes sont parfois utilis√©es (notamment lors de l'utilisation d'une API de type REST pour les 3 derni√®res), gardez leur nom en t√™te pour savoir qu'il s'agit de m√©thodes HTTP si vous les rencontrez :</p>
<ul>
<li><code>HEAD</code> : m√©thode pour demander des informations sur la ressource, sans r√©cup√©rer la ressource.</li>
<li><code>PUT</code> : m√©thode pour remplacer ou ajouter une ressource.</li>
<li><code>DELETE</code> : m√©thode pour supprimer une ressource.</li>
<li><code>PATCH</code> : m√©thode pour faire une modification partielle (contrairement √† <code>PUT</code> qui la remplacerait) d'une ressource.</li>
</ul>
<h3 id="13-le-fil-rouge-de-ce-tp-et-des-suivants-"><a class="header" href="#13-le-fil-rouge-de-ce-tp-et-des-suivants-">1.3 Le fil rouge de ce TP et des suivants ...</a></h3>
<p>Nous souhaitons construire <strong>une plate-forme collaborative permettant de noter et de donner un avis sur les b√¢timents du campus</strong>. Cette t√¢che complexe peut-√™tre d√©compos√©e en plusieurs sous-t√¢ches:</p>
<ul>
<li>cr√©er une base de donn√©es permettant de stocker cette information</li>
<li>donner √† l'utilisateur la possibilit√© de consulter l'information (localisation des b√¢timents not√©s et d√©tails des notes/avis)</li>
<li>donner √† l'utilisateur la possibilit√© de saisir une nouvelle information (ajout d'une note/avis √† une localisation en ayant d√©j√† o√π non)</li>
</ul>
<p>Aujourd'hui (<strong>TP7</strong>), nous verrons comment organiser le code cot√© serveur pour que diff√©rentes actions puissent √™tre effectu√©es en fonction du type de requ√™te ou du chemin de la requ√™te <em>(i.e. comment passer d'un contenu statique √† un contenu dynamique)</em> et nous verrons comment utiliser des <em>templates</em> HTML.</p>
<p>Le <strong>TP8</strong> servira √† cr√©er un formulaire dans la page HTML et √† le traiter cot√© serveur pour ajouter son contenu dans une base de donn√©es <a href="https://www.sqlite.org/">SQLite</a>. Les informations pr√©sentes dans la base de donn√©es seront mobilis√©es pour √™tre affich√©es cot√© client ; elles pourront √©galement √™tre mises √† jour.
Nous ajouterons ensuite une carte interactive dans la page HTML. C'est cette carte qui sera utilis√©e comme interface pour l'ajout d'avis (lors du clic de l'utilisateur par exemple) ainsi que pour l'affichage de la localisation des avis pr√©sents dans la base de donn√©es (sous forme de <em>markers</em>). Cette carte fera appel √† du code Javascript, ex√©cut√© directement dans le navigateur web du client. L'application construite pourra √™tre d√©ploy√©e individuellement sur la plate-forme <a href="https://www.pythonanywhere.com/">PythonAnywhere</a>.</p>
<h2 id="2-la-biblioth√®que-flask"><a class="header" href="#2-la-biblioth√®que-flask">2. La biblioth√®que <code>Flask</code></a></h2>
<p>Il s'agit d'un <em>micro-framework</em> con√ßu pour d√©velopper une application Web cot√© serveur. √Ä ce titre il va fournir des outils g√©n√©riques pour cr√©er ce type d'application tout en favorisant la mise en oeuvre de bonnes pratiques et en limitant l'√©criture de code inutile. Le qualificatif <em>micro</em> d√©crit ici plusieurs r√©alit√©s :</p>
<ul>
<li>vise √† garder le code de base simple mais extensible,</li>
<li>n'est pas opini√¢tre dans le choix d'une base de donn√©es,</li>
<li>au final, <code>Flask</code> s'occupe de l'essentiel (g√©rer les routes et les requ√™tes HTTP et permettre l'utilisation de <em>templates</em>) mais les autres t√¢ches &quot;optionnelles&quot; (connexion √† une DB, authentification, formulaires, etc.) sont laiss√©es √† des extensions.</li>
</ul>
<p><strong><code>Flask</code></strong> repose notamment sur deux biblioth√®ques dont il est utile d'avoir connaissance : <code>Werkzeug</code> (une boite √† outils WSGI) et <code>Jinja2</code> (un moteur de <em>template</em>).</p>
<div class="center smallcontent">
<p><img src="https://flask.palletsprojects.com/en/1.1.x/_images/flask-logo.png" alt="" /></p>
</div>
<p><strong>Liens utiles:</strong></p>
<ul>
<li>Documentation officielle de <code>Flask</code>: <a href="https://flask.palletsprojects.com/en/1.1.x/">https://flask.palletsprojects.com/en/1.1.x/</a></li>
<li>Documentation officielle de <code>Jinja2</code>: <a href="https://jinja.palletsprojects.com/en/2.11.x/">https://jinja.palletsprojects.com/en/2.11.x/</a></li>
<li>Documentation officielle de <code>Werkzeug</code> : <a href="https://werkzeug.palletsprojects.com/en/0.16.x/">https://werkzeug.palletsprojects.com/en/0.16.x/</a></li>
<li>Liste de <em>plugins</em> et de ressources pour <code>Flask</code>: <a href="https://github.com/humiaozuzu/awesome-flask">https://github.com/humiaozuzu/awesome-flask</a></li>
</ul>
<h3 id="21-premier-pas-avec-flask---application-et-routes"><a class="header" href="#21-premier-pas-avec-flask---application-et-routes">2.1 Premier pas avec Flask - Application et routes</a></h3>
<h4 id="application"><a class="header" href="#application">Application</a></h4>
<p><u>Code :</u></p>
<pre><code class="language-python">from flask import Flask

app = Flask(__name__)

@app.route(&quot;/route1&quot;)
def root():
    return &quot;Hello from Flask!&quot;
</code></pre>
<p><span class="tryit">Pour tester</span> : <a href="http://mthh.pythonanywhere.com/route1">http://mthh.pythonanywhere.com/route1</a></p>
<p><u>Explications :</u></p>
<ul>
<li><code>app</code> d√©signe une application Flask;</li>
<li>la fonction <code>root</code> est appel√©e une <strong>vue</strong>. Elle retourne une cha√Æne de caract√®res, qui sera le contenu de la r√©ponse. Par d√©faut, le statut de la r√©ponse est 200, et le type de contenu est HTML, encod√© en UTF-8;</li>
<li>la ligne qui pr√©c√®de la fonction <code>root</code> est un <strong><a href="https://www.python.org/dev/peps/pep-0318/">d√©corateur</a></strong>, il sert ici √† sp√©cifier l‚ÄôURL pour laquelle cette vue doit √™tre utilis√©e (sa <em><strong>route</strong></em>). Ce d√©corateur est une m√©thode de l'objet <code>app</code>, l'application Flask, cr√©√©e au-dessus, dans laquelle s'inscrit cette route.</li>
</ul>
<h4 id="routes"><a class="header" href="#routes">Routes</a></h4>
<p>En d√©veloppement Web, on appelle <strong>route</strong> une URL ou un ensemble d‚ÄôURLs conduisant √† l‚Äôex√©cution d‚Äôune fonction donn√©e.</p>
<p>Dans Flask, les routes sont d√©clar√©es via le d√©corateur <code>@app.route</code>, comme dans l‚Äôexemple ci-dessus.
Une route peut √™tre param√©tr√©e, auquel cas le param√™tre sera pass√© √† la fonction vue :</p>
<pre><code class="language-python">@app.route(&quot;/hello/&lt;name&gt;&quot;)
def hello(name):
    return &quot;Hello {}&quot;.format(name)
</code></pre>
<p><span class="tryit">Pour tester</span> : <a href="http://mthh.pythonanywhere.com/hello/John">http://mthh.pythonanywhere.com/hello/John</a></p>
<p>Les exemples ci-dessus vous permettent de personnaliser la r√©ponse en fonction de la demande de l'utilisateur ou de faire effectuer des calculs cot√© serveur en b√©n√©ficiant de la puissance et de l'√©tendue des fonctionnalit√©s offertes par python et son √©cosyst√®me.</p>
<ul>
<li>Il est √©galement possible de sp√©cifier plusieurs param√®tres lors de la d√©finition d'une route en utilisant la forme <code>/hello/&lt;a&gt;/&lt;b&gt;</code> :</li>
</ul>
<pre><code class="language-python">@app.route(&quot;/add/&lt;a&gt;/&lt;b&gt;&quot;)
def add(a, b):
    return &quot;Result: {}&quot;.format(int(a) + int(b))
</code></pre>
<p><span class="tryit">Pour tester</span> : <a href="http://mthh.pythonanywhere.com/add/3/12">http://mthh.pythonanywhere.com/add/3/12</a></p>
<ul>
<li>Il est possible de sp√©cifier le type attendu pour les param√®tres de la route ; s'ils ne sont pas satisfaits, une r√©ponse de type <code>404 - NOT FOUND</code> sera renvoy√© par d√©faut :</li>
</ul>
<pre><code class="language-python">@app.route(&quot;/add/&lt;int:a&gt;/&lt;int:b&gt;&quot;)
def add(a, b):
    return &quot;Result: {}&quot;.format(a + b)
</code></pre>
<p><span class="tryit">Pour tester</span> : <a href="http://mthh.pythonanywhere.com/add/12/abc">http://mthh.pythonanywhere.com/add/12/abc</a></p>
<p>Un r√©ponse <code>404 - NOT FOUND</code> sera √©galement renvoy√©e si vous essayer d'acc√©der √† une route qui n'est pas d√©finie (ici <code>abdef</code>) :</p>
<p><span class="tryit">Pour tester</span> : <a href="http://mthh.pythonanywhere.com/abdef">http://mthh.pythonanywhere.com/abdef</a></p>
<ul>
<li>Par commodit√©e il est √©galement possible de sp√©cifier plusieurs routes conduisant √† l'ex√©cution d'une fonction :</li>
</ul>
<pre><code class="language-python">@app.route(&quot;/greetings&quot;)
@app.route(&quot;/greetings/&lt;name&gt;&quot;)
def greetings(name=None):
    return &quot;Hello {} !&quot;.format(name or 'world')
</code></pre>
<p><span class="tryit">Pour tester</span> : <a href="http://mthh.pythonanywhere.com/greetings">http://mthh.pythonanywhere.com/greetings</a>
<br>
<span class="tryit">Pour tester</span> : <a href="http://mthh.pythonanywhere.com/greetings/Paul">http://mthh.pythonanywhere.com/greetings/Paul</a></p>
<h4 id="m√©thodes-http"><a class="header" href="#m√©thodes-http">M√©thodes HTTP</a></h4>
<p>Lors de la cr√©ation d'une route, il est possible de sp√©cifier la ou les m√©thodes par laquelle elle est accessible. Dans les exemples pr√©c√©dents, comme aucune m√©thode n'√©tait sp√©cifi√©e explicitement, il s'agissait de la m√©thode <strong>GET</strong>. Ainsi notre premi√®re fonction aurait pu √™tre √©crite de la mani√®re qui suit :</p>
<pre><code class="language-python">@app.route(&quot;/&quot;, methods=['GET'])
def root():
    return &quot;Hello from Flask!&quot;
</code></pre>
<p>Une route qui accepte seulement une m√©thode <strong>POST</strong> sera donc d√©clar√©e de la mani√®re suivante :</p>
<pre><code class="language-python">@app.route('/valid-form', methods=['POST'])
</code></pre>
<p>Il pourra parfois √™tre n√©cessaire de cr√©er des routes qui acceptent les deux m√©thodes. Prenons l'exemple du code ci-dessous. La route <code>/update</code> est cr√©√©e pour accepter les m√©thodes <strong>GET</strong> et <strong>POST</strong> :</p>
<pre><code class="language-python">from flask import request, render_template

@app.route('/update', methods=['GET', 'POST'])
def example():
    if request.method == 'GET':
        return render_template('update.html')
    elif request.method == 'POST':
        # traitement des donn√©es envoy√©es ...
        return 'Entry updated' !

</code></pre>
<ul>
<li>S'il s'agit d'une requ√™te de type <strong>GET</strong>, la page qui correspond au <em>template</em> <code>update.html</code> sera retourn√©e au client <em>(on s'imagine qu'elle contient notamment un formulaire permettant de mettre √† jour une entr√©e dans la BD)</em>.</li>
<li>S'il s'agit d'une requ√™te de type <strong>POST</strong>, les donn√©es envoy√©es sont trait√©es pour mettre √† jour l'entr√©e <em>(cette action correspond √† la validation et √† l'envoi, par le client, du formulaire contenu dans la page auquel il a acced√© pr√©c√©dement par la route <code>/update</code>)</em> :</li>
</ul>
<h3 id="22-templates"><a class="header" href="#22-templates">2.2 <em>Templates</em></a></h3>
<p><strong><code>Flask</code></strong> dispose d'un m√©canisme qui permet d'utiliser un <strong>mod√®le</strong> <em>(template)</em> de document dont certaines parties seront remplac√©es dynamiquement √† l'ex√©cution, avant d'√™tre envoy√© au client.</p>
<p>Les exemples pr√©sent√©s jusqu'ici ne renvoient que des cha√Ænes de caract√®res. Comme indiqu√© plus haut, il s'agit en r√©alit√© de contenu HTML ; vous pouvez ainsi √©crire des routes renvoyant du contenu HTML correctement formatt√© et g√©n√©r√© de mani√®re dynamique:</p>
<pre><code class="language-python">from datetime import date

@app.route(&quot;/pretty-add/&lt;int:a&gt;/&lt;int:b&gt;&quot;)
def pretty_add(a, b):
    current_date = date.today().isoformat()
    result = a + b
    return &quot;&quot;&quot;
    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
      &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot; /&gt;
        &lt;title&gt;Addition result page&lt;/title&gt;
      &lt;/head&gt;
      &lt;body style=&quot;text-align:center;&quot;&gt;
        &lt;h1&gt;Result page&lt;/h1&gt;
        &lt;p&gt;{} + {} = &lt;strong&gt;{}&lt;/strong&gt;&lt;/p&gt;
        &lt;hr/&gt;
        &lt;p&gt;&lt;em&gt;Computed on {}&lt;/em&gt;&lt;/p&gt;
      &lt;/body&gt;
    &lt;/html&gt;&quot;&quot;&quot;.format(a, b, result, current_date)
</code></pre>
<p><span class="tryit">Pour tester</span> : <a href="http://mthh.pythonanywhere.com/pretty-add/12/20">http://mthh.pythonanywhere.com/pretty-add/12/20</a></p>
<p>Si cette m√©thode est utilisable, elle va toutefois vite rendre votre code difficilement compr√©hensible et elle ne facilite pas la r√©utilisation de morceau de code qui pourraient l'√™tre.</p>
<p>C'est ici que l'int√©r√™t du <strong>moteur de <em>templates</em></strong> rentre en jeu. Ce dernier va permettre de stocker dans des fichiers s√©par√©s le <strong>mod√®le</strong> de nos pages HTML. Lors de l'ex√©cution (avec la fonction <code>render_template</code> pr√©sent√©e ensuite), le mod√®le va √™tre compl√©t√© avec les param√®tres fournis pour produire un document HTML utilisable par le client.</p>
<h4 id="syntaxe-utilis√©e-par-jinja2"><a class="header" href="#syntaxe-utilis√©e-par-jinja2">Syntaxe utilis√©e par <code>Jinja2</code></a></h4>
<p>Reprenons l'exemple de notre route <code>pretty-add</code> d√©finit ci-dessus ; il est possible de d√©finir (dans un fichier <code>template/pretty-add.html</code> par exemple) le <em>template</em> suivant:</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;title&gt;Addition result page&lt;/title&gt;
  &lt;/head&gt;
  &lt;body style=&quot;text-align:center;&quot;&gt;
    &lt;h1&gt;Result page&lt;/h1&gt;
    &lt;p&gt;{{ a }} + {{ b }} = &lt;strong&gt;{{ result }}&lt;/strong&gt;&lt;/p&gt;
    &lt;hr/&gt;
    &lt;p&gt;&lt;em&gt;Computed on {{ current_date }}&lt;/em&gt;&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>... et de r√©√©crire la fonction de la mani√®re suivante :</p>
<pre><code class="language-python">from Flask import render_template

@app.route(&quot;/pretty-add/&lt;int:a&gt;/&lt;int:b&gt;&quot;)
def pretty_add(a, b):
    date_now = date.today().isoformat()
    result = a + b
    return render_template('pretty-add.html',
                           a=a,
                           b=b,
                           result=result,
                           current_date=date_now)
</code></pre>
<p>Dans cet exemple nous avons utilis√©:</p>
<ul>
<li>des <strong>expressions</strong>, d√©limit√©es par les symboles <code>{{ ... }}</code> ; elles peuvent contenir des expressions Python et ici, lorsqu'on √©crit <code>{{ result }}</code> on cherche donc √† utiliser le contenu de la variable <code>result</code> pour l'afficher dans la page HTML qui sera renvoy√©e.</li>
</ul>
<p>D'autres constructions peuvent √™tre utilis√©es:</p>
<ul>
<li>des <strong>d√©clarations</strong> <em>(statements)</em>, d√©limit√©s avec les symboles <code>{% ... %}</code> (conditions, boucles, etc.),</li>
<li>des <strong>commentaires</strong>, d√©limit√©s avec les symboles <code>{# ... #}</code>.</li>
</ul>
<blockquote>
<p><strong>Remarque:</strong> La fonction <code>render_template</code> accepte les variables attendues par le <em>template</em> (son premier argument) en tant qu'arguments optionnels nomm√©s : on utilise le nom de la variable attendue dans le <em>template</em> comme cl√© et le nom de la variable dans le code actuel comme valeur (<code>current_date=date_now</code> dans l'exemple pr√©c√©dent).</p>
</blockquote>
<h4 id="exemple-avec-une-boucle"><a class="header" href="#exemple-avec-une-boucle">Exemple avec une boucle</a></h4>
<p>Il va ainsi √™tre possible d'utiliser, dans les <em>templates</em> des d√©clarations Python complexes ainsi que diff√©rents √©l√©ments utilis√©s habituellement pour le contr√¥le du flux d'ex√©cution du programme. Regardez le code de ce <em>template</em> :</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;title&gt;My Webpage&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;ul id=&quot;navigation&quot;&gt;
    {% for item in navigation %}
        &lt;li&gt;&lt;a href=&quot;{{ item['href'] }}&quot;&gt;{{ item['caption'] }}&lt;/a&gt;&lt;/li&gt;
    {% endfor %}
    &lt;/ul&gt;

    &lt;h1&gt;My Webpage&lt;/h1&gt;
    &lt;p&gt;Hello {{ name }}&lt;/p&gt;

    {#
      A multi
          -line
        comment
    #}
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><u>Explications :</u></p>
<ul>
<li>La variable <code>navigation</code> est ici une <code>list</code> de <code>dict</code>, de la forme
<pre><code class="language-python">navigation = [
    {&quot;href&quot;: &quot;index.html&quot;, &quot;caption&quot;: &quot;Accueil&quot;},
    {&quot;href&quot;: &quot;partenaires.html&quot;, &quot;caption&quot;: &quot;Partenaires&quot;}
]
</code></pre>
il est possible d'utiliser la d√©claration <strong><code>{% for item in navigation %}</code></strong> qui a le m√™me effet qu'une boucle utilisant <code>for</code> en Python - la syntaxe utilis√©e ici n√©cessite toutefois de fermer le bloc correspondant √† cette boucle avec la d√©claration <strong><code>{% endfor %}</code></strong>.</li>
<li>La variable <code>name</code> est de type <code>str</code> et on l'affiche telle-quelle.</li>
<li>La dernier bloc <code>{# ... #}</code> correspond √† un commentaire ; comme dans les autres langages, servez-vous en si n√©cessaire !</li>
<li>Les variables attendues (ici <code>navigation</code> et <code>name</code>) dans le <em>template</em> sont √† donner en arguments optionnels et nomm√©s de la fonction <code>render_template</code>.</li>
</ul>
<h4 id="r√©utilisation-de-templates"><a class="header" href="#r√©utilisation-de-templates">R√©utilisation de <em>templates</em></a></h4>
<p>Reprenons l'exemple des pages que nous avons cr√©√©es dans les TP pr√©c√©dents : elles contenaient une barre de navigation et un <em>footer</em> qui avaient tous deux vocation √† √™tre les m√™mes pour chacune des pages du site.</p>
<p>Gr√¢ce au <strong>m√©canisme permettant d'inclure</strong> des <em>templates</em>, nous allons par exemple pouvoir d√©finir dans des fichiers s√©par√©s les √©l√©ments r√©utilisables de notre site, pour les inclure depuis le <em>template</em> contenant le contenu principal de la page :</p>
<pre><code class="language-html">{% include 'header.html' %}
    Contenu principal de la page ici...
{% include 'footer.html' %}
</code></pre>
<p>Les <em>templates</em> appel√©s de cette mani√®re ont acc√®s aux m√™mes variables que le <em>template</em> qui les a inclus.</p>
<h2 id="3---mise-en-pratique--exercice-1--inscription-√†-pythonanywhere-et-d√©marrage-dun-projet-flask"><a class="header" href="#3---mise-en-pratique--exercice-1--inscription-√†-pythonanywhere-et-d√©marrage-dun-projet-flask">3 - Mise en pratique üöÄ Exercice 1 üöÄ Inscription √† PythonAnywhere et d√©marrage d'un projet <code>Flask</code></a></h2>
<h3 id="31-inscription-√†-pythonanywhere"><a class="header" href="#31-inscription-√†-pythonanywhere">3.1 Inscription √† PythonAnywhere</a></h3>
<p>L'inscription se passe √† l'URL suivante : <a href="https://www.pythonanywhere.com/registration/register/beginner/">https://www.pythonanywhere.com/registration/register/beginner/</a>.</p>
<p>Cette plateforme va vous permettre d'√©xecuter du code Python sur un serveur distant. Cette solution peut √™tre utile si vous voulez vous lib√©rer des contraintes li√©es √† la plateforme sur laquelle vous travaillez (syst√®me d'exploitation, droits administrateurs, etc.).</p>
<p>Dans notre cas, elle va √™tre utile car elle permet d'h√©berger une application Web (cr√©ee avec <code>Flask</code> mais aussi avec <code>Web2py</code> ou <code>Django</code>) et d'y acc√©der √† une URL de la forme <strong><code>http://{pseudonyme}.pythonanywhere.com</code></strong>.</p>
<p>Suivez les indications suivantes pour y cr√©er une application <code>Flask</code> vide.</p>
<ul>
<li>Apr√®s vous √™tre enregistr√© et logg√© sur la plateforme, cliquez sur le bouton <strong>&quot;Web&quot;</strong> :</li>
</ul>
<p><img src="img/pa1.png" alt="" /></p>
<ul>
<li>Cliquez sur le bouton &quot;Add a new web app&quot; :</li>
</ul>
<p><img src="img/pa2.png" alt="" /></p>
<ul>
<li>Une fenetre s'ouvre, cliquez sur &quot;next&quot; :</li>
</ul>
<p><img src="img/pa3.png" alt="" /></p>
<ul>
<li>Choisissez d'utiliser le <em>framework</em> <strong>Flask</strong> :</li>
</ul>
<p><img src="img/pa4.png" alt="" /></p>
<ul>
<li>S√©lectionnez la version de Python avec laquelle vous avez l'habitude de travailler :</li>
</ul>
<p><img src="img/pa5.png" alt="" /></p>
<ul>
<li>Ne modifiez pas le chemin du fichier <code>flask_app.py</code> et cliquez sur &quot;next&quot; :</li>
</ul>
<p><img src="img/pa6.png" alt="" /></p>
<ul>
<li>L'application est cr√©√©e et accessible √† l'URL <strong><code>https://{pseudonyme}.pythonanywhere.com</code></strong>. Cliquez sur le bouton &quot;Files&quot; pour √©diter le code de votre serveur :</li>
</ul>
<p><img src="img/pa7.png" alt="" /></p>
<ul>
<li>Naviguez dans l'arborescence jusqu'√† trouver ce fichier. Cliquez pour l'ouvrir :</li>
</ul>
<p><img src="img/pa8.png" alt="" /></p>
<ul>
<li>Vous pouvez l'√©diter (et le sauvegarder en faisant <kbd>ctrl</kbd> +  <kbd>s</kbd> par exemple).</li>
</ul>
<p><img src="img/pa9.png" alt="" /></p>
<ul>
<li>Apr√®s l'avoir √©dit√©, vous devez recharger votre <em>web app</em>. Cela peut se faire directement depuis la page de l'√©diteur de code (image ci-dessous) ou depuis la section <strong>Web</strong> de votre espace <em>PythonAnywhere</em>.</li>
</ul>
<p><img src="img/pa10.png" alt="" /></p>
<p><strong>üöÄ Rechargez votre application et v√©rifiez que tout fonctionne correctement</strong>, l'URL √† utiliser est <strong><code>https://{pseudonyme}.pythonanywhere.com</code></strong>.</p>
<p><img src="img/pa10.png" alt="" /></p>
<blockquote>
<p><strong>Remarque:</strong> Vous pouvez consulter les logs d'erreur de l'application √† l'adresse <small>https://www.pythonanywhere.com/user/{pseudonyme}/files/var/log/{pseudonyme}.pythonanywhere.com.error.log</small></p>
</blockquote>
<h3 id="32-premiers-pas-avec-flask-et-structure-du-projet"><a class="header" href="#32-premiers-pas-avec-flask-et-structure-du-projet">3.2 Premiers pas avec Flask et structure du projet</a></h3>
<p>Dans le dossier <code>mysite</code> vous disposez dor√©navant d'un fichier <code>flask_app.py</code>.</p>
<p>Il est √©galement n√©cessaire de cr√©er un dossier que vous nommerez <code>templates</code>. Dans le dossier <code>templates</code> vous d√©compresserez les donn√©es du jour : <a href="data/TP7.zip">donn√©es TP7</a> - il s'agit de 2 fichiers de <em>templates</em> utilisant <code>Jinja2</code>.</p>
<p>Vous devez donc avoir la structure de projet suivante:</p>
<pre><code>mysite
‚îú‚îÄ‚îÄ templates           &lt;--- Le dossier contenant nos mod√®les de documents HTML
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îî‚îÄ‚îÄ header.html     
‚îî‚îÄ‚îÄ flask_app.py        &lt;--- Le code de l'appli Web √† r√©aliser
</code></pre>
<h2 id="4-mise-en-pratique--exercice-2--modification-de-lapplication"><a class="header" href="#4-mise-en-pratique--exercice-2--modification-de-lapplication">4. Mise en pratique üöÄ Exercice 2 üöÄ Modification de l'application</a></h2>
<ol>
<li>Ajoutez le morceau de code suivant dans le fichier <code>flask_app.py</code>, il s'agit des premiers avis fictifs √† utiliser avant que nous ne constituions la base de donn√©es dans le TP suivant:</li>
</ol>
<pre><code class="language-python">entries = [
 {&quot;id_review&quot;: 1, &quot;id_batiment&quot;: 26, &quot;rate&quot;: 5, &quot;comment&quot;: &quot;Mattis molestie a iaculis at erat pellentesque adipiscing commodo.&quot;},
 {&quot;id_review&quot;: 2, &quot;id_batiment&quot;: 18, &quot;rate&quot;: 4, &quot;comment&quot;: &quot;Amet massa vitae tortor condimentum lacinia.&quot;},
 {&quot;id_review&quot;: 3, &quot;id_batiment&quot;: 31, &quot;rate&quot;: 3, &quot;comment&quot;: &quot;Imperdiet sed euismod nisi porta lorem mollis aliquam.&quot;},
 {&quot;id_review&quot;: 4, &quot;id_batiment&quot;: 22, &quot;rate&quot;: 1, &quot;comment&quot;: &quot;Dignissim enim sit amet venenatis. Urna cursus eget nunc scelerisque.&quot;},
 {&quot;id_review&quot;: 5, &quot;id_batiment&quot;: 26, &quot;rate&quot;: 4, &quot;comment&quot;: &quot;A pellentesque sit amet porttitor eget dolor morbi.&quot;},
 {&quot;id_review&quot;: 6, &quot;id_batiment&quot;: 18, &quot;rate&quot;: 3, &quot;comment&quot;: &quot;Consequat nisl vel pretium lectus quam id leo in vitae.&quot;},
]
</code></pre>
<ol start="2">
<li>
<p>En vous aidant des exemples montr√©s au d√©but de cette s√©ance de TP, vous devez modifier la route existante afin que la route <code>/</code> et la route <code>/index</code> appellent toutes deux la fonction <code>root</code>. Cette fonction devra utiliser le <em>template</em> <code>index.html</code>. Vous devrez √©galement ouvrir ce fichier de <em>template</em> pour voir les variables qui sont attendues et que vous devrez donner en argument √† la fonction <code>render_template</code>.</p>
</li>
<li>
<p>Vous devez cr√©er une nouvelle route du nom de <code>/review</code> doit accepter un argument de type <code>int</code>, l'identifiant de l'avis que l'utilisateur souhaite obtenir. Vous devez √©galement √©crire la fonction correspondante : pour un identifiant donn√©, elle doit renvoyer la note et l'avis sous forme d'un bloc de texte formatt√© de mani√®re simple <em>(par exemple: &quot;Note X - Commentaire : xxxxx&quot;)</em>. Si aucun avis ne correspond √† l'identifiant, elle retourne une cha√Æne de caract√®res vide.</p>
</li>
<li>
<p>Dans votre navigateur, v√©rifiez les points suivants avant de passer √† l'exercice qui suit:</p>
</li>
</ol>
<ul>
<li>les routes <code>/</code> et <code>/index</code> fonctionnent et renvoient le m√™me contenu (cf. image).</li>
<li>la route <code>/review</code> retourne une erreur <code>404 - NOT FOUND</code> alors que la route <code>/review/2</code> retourne bien le contenu de l'avis correspondant.</li>
</ul>
<div class="center">
<p><img src="img/tp5_ex2_index.png" alt="Capture d'√©cran de la route &quot;/index&quot;" />
<img src="img/tp5_ex2_review.png" alt="Capture d'√©cran de la route &quot;/review/2&quot;" /></p>
</div>
<h2 id="5-mise-en-pratique--exercice-3--utilisation-des-templates"><a class="header" href="#5-mise-en-pratique--exercice-3--utilisation-des-templates">5. Mise en pratique üöÄ Exercice 3 üöÄ Utilisation des <em>templates</em></a></h2>
<ol>
<li>En plus d'afficher le nombre d'avis pr√©sents dans la base, nous souhaitons afficher la totalit√© de la liste des avis sur la page d'accueil. Vous devez modifier le <em>template</em> <code>index.html</code> pour cr√©er dynamiquement une liste HTML o√π chaque item correspondra √† un avis de la <code>list</code> Python appell√©e <code>entries</code>. Un exemple similaire a √©t√© donn√© <a href="7-serveur-client1.html#exemple-avec-une-boucle">ici</a>.</li>
</ol>
<div class="center">
<p><img src="img/tp5_ex3_resultat.png" alt="Capture d'√©cran de la route &quot;/index&quot;" /></p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="interactions-serveurclient-formulaires-et-bd"><a class="header" href="#interactions-serveurclient-formulaires-et-bd">Interactions serveur/client, formulaires et BD</a></h1>
<h2 id="1-pr√©ambule-2"><a class="header" href="#1-pr√©ambule-2">1. Pr√©ambule</a></h2>
<p>Les objectifs de ce TP sont:</p>
<ul>
<li>de connecter l'application <strong><code>Flask</code></strong> √† une base de donn√©es <strong>SQLite</strong>.</li>
<li>de cr√©er un formulaire permettant d'ajouter une nouvelle entr√©e √† cette base de donn√©es.</li>
<li>d'utiliser une carte interactive <em>leaflet</em> pour s√©lectionner la localisation de l'avis.</li>
</ul>
<p>Pour mobiliser les donn√©es de cette BD, nous n'aurons pas √† saisir de requ√™tes SQL ; en effet nous allons utiliser un <strong>ORM</strong> (un <em>Object Relational Mapping</em> / un <em>Mapping</em> objet-relationnel) du nom de <a href="https://www.sqlalchemy.org/">SQLAlchemy</a>.</p>
<p><em>Il n'y a pas de code √† saisir avant la fin cette partie o√π vous rencontrerez √† nouveau le symbole 'üöÄ'.</em></p>
<p><strong>Liens utiles √† propos de Flask et Jinja2:</strong></p>
<ul>
<li>Documentation officielle de <code>Flask</code>: <a href="https://flask.palletsprojects.com/en/1.1.x/">https://flask.palletsprojects.com/en/1.1.x/</a></li>
<li>Documentation officielle de <code>Jinja2</code>: <a href="https://jinja.palletsprojects.com/en/2.11.x/">https://jinja.palletsprojects.com/en/2.11.x/</a></li>
<li>Liste de <em>plugins</em> et de ressources pour <code>Flask</code>: <a href="https://github.com/humiaozuzu/awesome-flask">https://github.com/humiaozuzu/awesome-flask</a></li>
</ul>
<blockquote>
<p><strong>Liens utiles sur le JavaScript:</strong></p>
<ul>
<li>Mozilla Developpers Network - Premier pas en JavaScript : <a href="https://developer.mozilla.org/fr/docs/Learn/JavaScript/First_steps">https://developer.mozilla.org/fr/docs/Learn/JavaScript/First_steps</a></li>
<li>W3schools Javascript Tutorial : <a href="https://www.w3schools.com/js/">https://www.w3schools.com/js/</a></li>
<li>Eloquent JavaScript - 3rd edition (online, PDF, E-PUB, etc.) : <a href="https://eloquentjavascript.net/">https://eloquentjavascript.net/</a></li>
<li>Pour se faire la main en JavaScript il faut pratiquer... des <a href="https://www.w3schools.com/js/exercise_js.asp">exercices comme ceux de W3schools</a> puis des sites comme <a href="https://JavaScript30.com">JavaScript30</a> peuvent donner de bonnes occasions de pratiquer !</li>
</ul>
</blockquote>
<blockquote>
<p><strong>Liens utiles sur les fonctionnalit√©s utilis√©es aujourd'hui:</strong></p>
<ul>
<li>√âl√©ment HTML <code>&lt;input&gt;</code> et ses attributs : <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input">https://developer.mozilla.org/fr/docs/Web/HTML/Element/input</a></li>
<li>√âl√©ment HTML <code>&lt;a&gt;</code> et ses attributs : <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/a">https://developer.mozilla.org/fr/docs/Web/HTML/Element/a</a></li>
<li>√âl√©ment HTML <code>&lt;fieldset&gt;</code> : <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/Fieldset">https://developer.mozilla.org/fr/docs/Web/HTML/Element/Fieldset</a></li>
<li>Documentation officielle de <code>Leaflet</code>: <a href="https://leafletjs.com/reference-1.7.1.html">https://leafletjs.com/reference-1.7.1.html</a></li>
<li>Liste de <em>plugins</em> et de ressources pour <code>Leaflet</code>: <a href="https://leafletjs.com/plugins.html">https://leafletjs.com/plugins.html</a></li>
</ul>
</blockquote>
<h3 id="installation-et-cr√©ation-de-la-base-de-donn√©es"><a class="header" href="#installation-et-cr√©ation-de-la-base-de-donn√©es">Installation et cr√©ation de la base de donn√©es</a></h3>
<p>En utilisant <em>PythonAnywhere</em> cette biblioth√®que est d√©j√† install√©e, vous n'avez rien de particulier √† faire.</p>
<p>Sinon il est possible d'installer SQLAlchemy et l'extension <code>flask_sqlalchemy</code> que nous allons utiliser avec Flask comme les autres packages Python. </p>
<h3 id="localisation-de-la-base-de-donn√©es"><a class="header" href="#localisation-de-la-base-de-donn√©es">Localisation de la base de donn√©es</a></h3>
<p>Il est n√©cessaire d'indiquer √† l'ORM o√π se situe la BD √† laquelle se connecter, en l‚Äôoccurrence, dans le m√™me dossier que le code de l'application, avec le nom <code>app.db</code>:</p>
<pre><code class="language-python">from flask import Flask
from flask_sqlalchemy import SQLAlchemy

# On stocke le chemin absolu du dossier qui contient le fichier
# qui s'√©xecute :
basedir = os.path.abspath(os.path.dirname(__file__))

app = Flask(__name__)

# app.config est un dictionnaire :
app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///' + os.path.join(basedir, 'app.db')
db = SQLAlchemy(app)
</code></pre>
<h3 id="cr√©er-un-mod√®le-correspondant-au-type-dentr√©es-que-nous-souhaitons"><a class="header" href="#cr√©er-un-mod√®le-correspondant-au-type-dentr√©es-que-nous-souhaitons">Cr√©er un mod√®le correspondant au type d'entr√©es que nous souhaitons</a></h3>
<p>Nous souhaitons stocker nos notes et avis dans une table <code>Review</code>.
Celle-ci va avoir 6 colonnes :</p>
<ul>
<li><code>id_review</code> (l'identifiant unique de l'avis),</li>
<li><code>rate</code> (une note, de 1 √† 5, o√π 5 repr√©sente la plus forte note),</li>
<li><code>comment</code> (un champ de texte libre, limit√© √† 255 caract√®res mais qui peut √™tre laiss√© vide),</li>
<li><code>name</code> (un champ de texte o√π l'utilisateur inscrira son nom),</li>
<li><code>latitude</code> (un champ de nombres √† virgule),</li>
<li><code>longitude</code> (un champ de nombre √† virgule),</li>
</ul>
<pre><code class="language-python">class Review(db.Model):
    id_review = db.Column(db.Integer(), primary_key=True)
    rate = db.Column(db.Integer(), nullable=False)
    comment = db.Column(db.String(255))
    name=db.Column(db.String(), nullable=False)
    latitude=db.Column(db.Float(), nullable=False)
    longitude=db.Column(db.Float(), nullable=False)
</code></pre>
<p>Ce code va permettre de modifier la base de donn√©es sans √©crire de requ√™tes SQL mais en manipulant des objets Python.<br />
Notez que nous avons sp√©cifi√© le type attendu (<code>db.Integer</code>, <code>db.String</code>, ..) pour chaque colonne (<code>db.Column</code>) de la table (ici <code>Review</code>) que vous allons manipuler √† travers ce mod√®le.</p>
<p>L'utilisation du mod√®le <code>Review</code> revient donc maintenant √† mobiliser la table suivante:</p>
<div class="table-wrapper"><table><thead><tr><th>id_review</th><th>name</th><th>comment</th><th>rate</th><th>latitude</th><th>longitude</th></tr></thead><tbody>
<tr><td>1</td><td>Cameran Duran</td><td><small>Mattis molestie a iaculis at erat pellentesque adipiscing commodo.</small></td><td>5</td><td>45.1913376954</td><td>5.7700002193</td></tr>
<tr><td>2</td><td>Nasim Erickson</td><td><small>Amet massa vitae tortor condimentum lacinia.</small></td><td>4</td><td>45.1915115994</td><td>5.7732725143</td></tr>
<tr><td>3</td><td>Guy Richardson</td><td><small>Imperdiet sed euismod nisi porta lorem mollis aliquam.</small></td><td>3</td><td>45.1922903805</td><td>5.7727360725</td></tr>
<tr><td>4</td><td>Veda Lott</td><td><small>Dignissim enim sit amet venenatis. Urna cursus eget nunc scelerisque.</small></td><td>1</td><td>45.1929812805</td><td>5.7674560725</td></tr>
<tr><td>5</td><td>Flavia Klein</td><td><small>A pellentesque sit amet porttitor eget dolor morbi.</small></td><td>4</td><td>45.1934789176</td><td>5.7725615994</td></tr>
</tbody></table>
</div>
<h3 id="utiliser-le-mod√®le-pour-communiquer-avec-la-bd-dans-un-style-orient√©-objet-1"><a class="header" href="#utiliser-le-mod√®le-pour-communiquer-avec-la-bd-dans-un-style-orient√©-objet-1">Utiliser le mod√®le pour communiquer avec la BD dans un style orient√©-objet (1)</a></h3>
<p>On pourra par exemple cr√©er une <em>review</em> et l'ajouter √† la base de donn√©es avec le code suivant :</p>
<pre><code class="language-python">new_review = Review(
    rate=5,
    comment=&quot;Mattis molestie a iaculis at erat pellentesque adipiscing commodo.&quot;,
    name=&quot;Ada&quot;,
    latitude=45.1913376954,
    longitude=5.7700002193,
)

db.session.add(new_review)
db.session.commit()
</code></pre>
<p>Il n'est pas n√©cessaire d'indiquer l'identifiant de la <em>review</em> √† cr√©er : comme il s'agit d'une cl√© primaire, elle sera renseign√©e automatiquement lors de l'appel de la m√©thode <code>db.session.commit()</code> en fonction des entr√©es d√©j√† pr√©sentes dans la table.</p>
<h3 id="utiliser-le-mod√®le-pour-communiquer-avec-la-bd-dans-un-style-orient√©-objet-2"><a class="header" href="#utiliser-le-mod√®le-pour-communiquer-avec-la-bd-dans-un-style-orient√©-objet-2">Utiliser le mod√®le pour communiquer avec la BD dans un style orient√©-objet (2)</a></h3>
<p>C'est √©galement avec ce mod√®le <code>Review</code> qu'on pourra faire des requ√™tes sur la table correspondante :</p>
<pre><code class="language-python"># Renvoie toute les entr√©es de la table `Review` dans une `list` python
all_review = Review.query.all()

# Effectue une requete sur la table `Review`
# en utilisant la cl√© primaire (ici id_review):
review2 = Review.query.get(2)
</code></pre>
<p>Il est ensuite possible d'acc√©der aux valeurs qui correspondent √† chacun des champs de la table <code>Review</code> pour une entr√©e donn√©e, en utilisant la notation par point :</p>
<pre><code class="language-python">#¬†Demande la review avec 2 comme `id_review` 
review2 = Review.query.get(2)
#¬†Acc√®s au champ `rate` de la review
print(review2.rate) # --&gt; 4
# Acc√®s au champ `comment` de la review
print(review2.comment) # --&gt; &quot;Amet massa vitae tortor condimentum lacinia.&quot;
</code></pre>
<h3 id="putting-it-all-together"><a class="header" href="#putting-it-all-together">Putting it all together...</a></h3>
<p>Ce code correspond √† l'adaptation du code obtenu √† la fin du TP pr√©c√©dent, en se connectant cette fois √† une base de donn√©es avec SQLAlchemy comme pr√©sent√© ci-dessus.</p>
<p><strong>üöÄ Prenez-en connaissance attentivement et copiez-le dans le fichier <code>flask_app.py</code> dans votre espace <em>PythonAnywhere</em></strong>.</p>
<p><strong>üöÄ R√©cup√©rez le fichier <a href="data/TP8/app.db"><code>app.db</code></a>, il s'agit de votre base de donn√©es SQLite. Copiez le dans votre espace <em>PythonAnywhere</em> dans le m√™me dossier que le fichier <code>flask_app.py</code></strong>.</p>
<pre><code class="language-python">from flask import Flask, render_template, request, url_for, redirect
from flask_sqlalchemy import SQLAlchemy
from datetime import date
import os

basedir = os.path.abspath(os.path.dirname(__file__))

app = Flask(__name__)
app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///' + os.path.join(basedir, 'app.db')
db = SQLAlchemy(app)


class Review(db.Model):
    id_review = db.Column(db.Integer(), primary_key=True)
    rate = db.Column(db.Integer(), nullable=False)
    comment = db.Column(db.String(255))
    name=db.Column(db.String(), nullable=False)
    latitude=db.Column(db.Float(), nullable=False)
    longitude=db.Column(db.Float(), nullable=False)


@app.route(&quot;/&quot;, methods=['GET', 'POST'])
@app.route('/index', methods=['GET', 'POST'])
def root():
    if request.method == 'GET':
        all_reviews = Review.query.all()
        return render_template('index.html',
                                list_reviews=all_reviews,
                                nb_reviews = len(all_reviews),
                                current_date=date.today().isoformat())
    elif request.method == 'POST':
        new_review = Review(
            rate=request.form['rate'],
            comment=request.form['comment'],
            name=request.form['name'],
            latitude=request.form['latitude'],
            longitude=request.form['longitude'],
        )
        db.session.add(new_review)
        db.session.commit()
        return redirect(url_for('root'))


@app.route('/review/&lt;int:ident&gt;')
def review(ident):
    the_review = Review.query.get(ident)
    if the_review:
        return 'Rate: {} - Comment: {}'.format(the_review.rate, the_review.comment)
    else:
        return ''

</code></pre>
<h2 id="2-cr√©ation-dun-formulaire-html-√†-traiter-c√¥t√©-serveur"><a class="header" href="#2-cr√©ation-dun-formulaire-html-√†-traiter-c√¥t√©-serveur">2. Cr√©ation d'un formulaire HTML √† traiter c√¥t√© serveur</a></h2>
<p>Notre page d'accueil ne va plus se contenter de lister les avis d√©j√† pr√©sents ; il va d√©sormais √™tre possible d'en ajouter de nouveaux gr√¢ce √† un formulaire HTML.</p>
<p>Ce formulaire HTML sera remplit par le client, dans son navigateur Web puis envoy√© (m√©thode HTTP <strong>POST</strong>) au serveur qui l'ajoutera √† la base de donn√©es.</p>
<pre><code class="language-html">  &lt;!-- le d√©but
              de votre fichier ici
    --&gt;
    &lt;div class=&quot;row&quot;&gt;                 &lt;!-- On utilise les lignes/colonnes Bootstrap ... --&gt;
      &lt;div class=&quot;col-md-4 mx-auto&quot;&gt;  &lt;!-- .. pour obtenir rapidement une disposition agr√©able --&gt;

        &lt;h3&gt;Ajout d'un nouvel avis&lt;/h3&gt;

        &lt;form action=&quot;{{ request.path }}&quot; method=&quot;post&quot;&gt;
            &lt;label for=&quot;rate&quot;&gt;Rate: &lt;/label&gt;
            &lt;output name=&quot;rateOutput&quot; id=&quot;ageOutputId&quot;&gt;5&lt;/output&gt;
            &lt;!--
                ^^^ On utilise un √©l√©ment 'output' ci-dessus pour afficher la valeur du slider ci-dessous
                grace au code qui figure dans l'attribut 'oninput' : il s'agit de code JavaScript
                qui reporte la valeur du slider sur l'element 'output' √† chaque changement.
                Ils sont tous les deux initialiser avec la meme valeur : 5.
            --&gt;
            &lt;input type=&quot;range&quot; name=&quot;rate&quot; id=&quot;rateInput&quot; min=&quot;1&quot; max=&quot;5&quot; value=&quot;5&quot; class=&quot;form-range&quot; oninput=&quot;rateOutput.value = rateInput.value&quot;/&gt;
            &lt;label for=&quot;comment&quot;&gt;Comment&lt;/label&gt;&lt;br&gt;
            &lt;!-- maxlenght=&quot;255&quot; pour correspondre √† la longueur du champ d√©finit dans notre mod√®le `Review` : --&gt;
            &lt;textarea name=&quot;comment&quot; maxlength=&quot;255&quot; placeholder=&quot;Laissez votre avis ici !&quot; class=&quot;form-control&quot;&gt;&lt;/textarea&gt;&lt;br&gt;
            &lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt;&lt;br&gt;
            &lt;input type=&quot;text&quot; name=&quot;name&quot; maxlength=&quot;255&quot; class=&quot;form-control&quot; placeholder=&quot;Saisir votre nom !&quot; /&gt;&lt;br&gt;
            &lt;input type=&quot;number&quot; id=&quot;inputLong&quot; name=&quot;longitude&quot; step=&quot;any&quot; readonly /&gt;
            &lt;input type=&quot;number&quot; id=&quot;inputLat&quot; name=&quot;latitude&quot; step=&quot;any&quot; readonly /&gt;
            &lt;input type=&quot;submit&quot; value=&quot;Envoyer&quot; class=&quot;btn btn-primary&quot; /&gt;
        &lt;/form&gt;

      &lt;/div&gt;
    &lt;/div&gt;
&lt;!-- le reste de votre fichier ici, normalement :

  &lt;hr /&gt;
  &lt;p&gt;Page g√©n√©r√©e le {{ current_date }}&lt;/p&gt;
&lt;/div&gt;

...etc..  --&gt;
</code></pre>
<p><u>Explications :</u></p>
<ul>
<li>Ce formulaire, d√©finit par l'√©l√©ment HTML <code>&lt;form&gt; &lt;/form&gt;</code> va √™tre envoy√© au chemin d√©finit dans l'attribut <code>action</code> (ici la route actuelle √† laquelle la page a √©t√© appel√©e, en utilisant le m√©canisme de <em>template</em> vu pr√©c√©demment), avec la m√©thode HTTP <code>post</code>.</li>
<li>Il contient un champ <code>&lt;input&gt;</code> de type <code>range</code> : c'est un <em>slider</em> num√©rique dont on peut d√©finir les valeurs min et max attendues ; il va servir √† renseigner la note, de 1 √† 5, donn√©e par l'utilisateur.</li>
<li>Il contient un champ <code>&lt;textarea&gt;</code> : c'est un zone de saisie de texte qui peut s'√©tendre sur plusieurs lignes.</li>
<li>Il contient un √©l√©ment <code>&lt;input&gt;</code> de type <code>submit</code> : cela cr√©√© un bouton qui a pour vocation √† appeler l'action d√©finit pour ce formulaire (cf. 1er point de cette liste). L'attribut <code>class</code> qu'il utilise lui permet d'utiliser un style de Bootstrap.</li>
</ul>
<p><strong>üöÄ Ajoutez le code de ce formulaire au fichier <code>templates/index.html</code></strong>.</p>
<p>Lorsque l'utilisateur cliquera sur &quot;Envoyer&quot;, le formulaire sera donc transmis au serveur avec la m√©thode <strong>POST</strong>.</p>
<p>Le code de notre application <code>Flask</code>, fourni quelques lignes plus haut, est d√©j√† adapt√© pour g√©rer ce type de requ√™te. Relisez le code de la fonction <code>root</code> accompagn√© des explications qui suivent.</p>
<p><u>Explications :</u></p>
<ul>
<li>Lorsqu'une requ√™te HTTP de type <strong>GET</strong> √† lieu sur cette route, l'application r√©cup√®re l'ensemble des entr√©es de la table <code>Review</code> (avec <code>Review.query.all()</code>) puis elle appelle le <em>template</em> <code>index.html</code> en utilisant les arguments appropri√©es et vus pr√©c√©demment.</li>
<li>Lorsqu'une requ√™te HTTP de type <strong>POST</strong> √† lieu sur cette route, l'application:
<ul>
<li>lit le formulaire (<code>request.form</code>) en acc√©dant √† la valeur des champs avec la notation entre crochets (<code>request.form['rate']</code> et <code>request.form['comment']</code>)</li>
<li>cr√©√©e un objet correspondant √† une nouvelle entr√©e (<code>new_review = Review(rate=data['rate'], comment=data['comment'])</code>)</li>
<li>ajoute cette entr√©e √† la table <code>Review</code> avec <code>db.session.add(new_review)</code> et <code>db.session.commit()</code></li>
<li>renvoie la page actuelle (<code>redirect(url_for('root'))</code>), cela a pour effet de rafra√Æchir la page dans le navigateur du client et de faire appara√Ætre l'avis qu'il vient de laisser</li>
</ul>
</li>
</ul>
<!-- 
**üöÄ Apr√®s avoir sauvegard√© votre code, recharger votre *web app*. Testez l'ajout de nouveaux avis gr√¢ce au formulaire qui vient d'√™tre cr√©√©.**

![](img/pa10.png)

* Le r√©sultat attendu est le suivant :

![](img/pa11.png)
 -->
<!-- **üöÄ Que se passe-t-il lors de l'utilisation de la BD avec ce nouveau mod√®le ?**

‚Üí Lors de l'utilisation de ce nouveau mod√®le l'application g√©n√®re un message d'erreur car la table qu'elle utilise dans la BD √† laquelle nous sommes connect√©s ne comporte pas les champs n√©cessaires (la colonne `name` est manquante).

Si l'on souhaite conserver les entr√©es pr√©sentes, nous pouvons utiliser un outil comme [Alembic](https://alembic.sqlalchemy.org/en/latest/index.html) qui va se charger de la _migration_ de notre table.

Dans le cadre de ce TP, je vous fournis la version modifi√©e de la BD : **[`app.db`](data/TP6/v2/app.db)**.
Veuillez la t√©l√©charger et remplacer le fichier `app.db` sur PythonAnywhere.


**üöÄ Rechargez la *web app* et tester l'ajout d'avis gr√¢ce √† ce nouveau formulaire.**

![](img/pa10.png)

* Le r√©sultat attendu est le suivant :

<div class="center">

![](img/pa12.png)

</div>

 -->
<h2 id="3--ajout-dune-carte-interactive"><a class="header" href="#3--ajout-dune-carte-interactive">3. üöÄ Ajout d'une carte interactive</a></h2>
<p>Vous allez ajouter une carte interactive gr√¢ce √† la biblioth√®que <em>leaflet</em>. C'est cette carte qui permettra √† l'utilisateur de choisir les coordonn√©es de l'avis √† laisser.</p>
<p>Pour cel√† vous devez effectuer les √©tapes suivantes, dans le fichier <code>templates/index.html</code> : </p>
<ul>
<li>
<p>inclure le fichier CSS de leaflet dans la section <code>&lt;head&gt;</code> de votre document : </p>
<pre><code class="language-js"> &lt;link rel=&quot;stylesheet&quot;
        href=&quot;https://unpkg.com/leaflet@1.9.3/dist/leaflet.css&quot;
        integrity=&quot;sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=&quot;
        crossorigin=&quot;&quot;/&gt;
</code></pre>
</li>
<li>
<p>incluer le fichier JS de leaflet apr√®s le fichier CSS, toujours dans la section <code>&lt;head&gt;</code> du document :</p>
<pre><code class="language-js">&lt;script src=&quot;https://unpkg.com/leaflet@1.9.3/dist/leaflet.js&quot;
        integrity=&quot;sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=&quot;
        crossorigin=&quot;&quot;&gt;
&lt;/script&gt;
</code></pre>
</li>
<li>
<p>inclure le morceau de code suivant dans la <code>&lt;div&gt;</code> ayant la classe <code>row</code>, au dessus du formulaire : </p>
<pre><code class="language-html">&lt;div class=&quot;col-lg-8&quot;&gt;
    &lt;!-- Un √©l√©ment 'div' que nous allons utiliser pour la carte interactive : --&gt;
    &lt;div id=&quot;mapid&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
</li>
<li>
<p>inclure le morceau de code suivant entre de nouvelles balises <code>&lt;script&gt;&lt;/script&gt;</code>, √† la fin du document, apr√®s l'import du fichier <code>bootstrap.min.js</code> :</p>
<pre><code class="language-js">var mymap = L.map('mapid').setView([45.192, 5.768], 14);

var osmLayer = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    attribution: '¬© OpenStreetMap contributors',
    maxZoom: 19
});

mymap.addLayer(osmLayer);

// Ici on d√©finit une fonction Javascript dont le contenu sera ex√©cut√©
// lors d'un clic sur la carte...
// Le 'e' correspond au nom de variable de l'argument de la fonction onMapClick
// Lorsque la fonction s'ex√©cute (apr√®s un clic sur la carte donc)
// cette variable contient un objet de type
// [mouseevent](https://leafletjs.com/reference-1.6.0.html#mouseevent)
function onMapClick(e) {
    console.log(&quot;You clicked the map at &quot; + e.latlng);
    console.log(e.latlng.lng);
    console.log(e.latlng.lat);
}

// On associe la fonction cr√©√©e au dessus √† l‚Äô√©v√©nement &quot;click&quot;
// de l'objet mymap (notre carte interactive leaflet)
mymap.on('click', onMapClick);
</code></pre>
</li>
</ul>
<!-- # Interactions serveur/client (suite)

Le but de ce TP est de continuer notre plateforme interactive de d√©p√¥t d'avis en lui ajoutant plusieurs fonctionnalit√©s :

* les avis vont d√©sormais avoir des coordonn√©es,
* il va ainsi √™tre possible de les localiser sur une carte,
* et il va √™tre possible d'utiliser la carte pour pr√©-remplir le formulaire.

![Capture d'√©cran de la page d'accueil du site](img/tp7_1.png)

<div class="center">

**üöÄ Regarder l'exemple sur le lien suivant: [https://mthh.pythonanywhere.com/](https://mthh.pythonanywhere.com/) et relevez les nouvelles interactions qui ont √©t√© ajout√©es _(que se passe-t-il lors d'un clic sur la carte, que se passe-t-il lors du clic sur l'un des autres √©l√©ments du menu de navigation, etc. ?)_**

**Les diff√©rentes √©tapes de ce TP vont vous guider afin de reproduire et de personnaliser votre page d'une mani√®re similaire.**

</div>


## 1. Pr√©ambule et nouveaux √©l√©ments

### La BD

* Deux nouveaux champs doivent √™tre ajout√©s √† notre mod√®le `Review`. Il est ainsi d√©finit par le code Python suivant :

```python
class Review(db.Model):
    id_review = db.Column(db.Integer, primary_key=True)
    rate = db.Column(db.Integer, nullable=False)
    comment = db.Column(db.String(255))
    name = db.Column(db.String(), nullable=False)
    latitude = db.Column(db.Float(precision=10), nullable=False) # <- New !
    longitude = db.Column(db.Float(precision=10), nullable=False) # <- New !
```



### Javascript

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Unofficial_JavaScript_logo_2.svg/200px-Unofficial_JavaScript_logo_2.svg.png" />

Un langage de programmation multi-paradigme : orient√© objet √† prototype, imp√©ratif et fonctionnel *(il partage ces deux derni√®res caract√©ristiques avec Python par exemple)*.

Le langage est standardis√© sous le nom d'[ECMAScript](https://fr.wikipedia.org/wiki/ECMAScript) (c'est peut-√™tre un terme que vous rencontrerez - notamment sous sa forme abr√©g√©e pour d√©signer les diff√©rentes versions du standard : *ES5*, *ES6*, etc.).

#### Leaflet.js - *JavaScript library for mobile-friendly interactive maps*

Il s'agit d'une biblioth√®que permettant de cr√©er des cartes interactives. La biblioth√®que est *mobile-friendly* par d√©faut et dispose de l'ensemble des fonctionnalit√©s requise pour cr√©er des cartes interactives personnalis√©es et avec vos propres donn√©es.

![Capture d'√©cran du site Web de Leaflet.js](img/tp7_leaflet_features.png)

Pour l'utiliser il est n√©cessaire d'inclure deux fichiers dans le document HTML correspondant :

* Un fichier CSS (extension `.css`) contenant des r√®gles de styles
* Un fichier JavaScript (extension `.js`) contenant le code source de la biblioth√®que


> **Remarques**: D'autres biblioth√®ques permettent de cr√©er des cartes interactives en JavaScript, les plus connues sont [OpenLayers](https://openlayers.org/) et [Mapbox GL JS](https://docs.mapbox.com/mapbox-gl-js/api/).


#### Popper.js et Bootstrap.js

Ce sont les autres biblioth√®ques d√©j√† import√©es dans notre page. Elles sont utiles pour obtenir le comportement *responsive* de la barre de navigation.

* [`Popper.js`](https://popper.js.org/) est une biblioth√®que qui se sp√©cialise dans la cr√©ation et le positionnement d'info-bulles et de petites fen√™tres d'informations.
* `Bootstrap.js` d√©signe la partie JavaScript du *framework* Bootstrap ; elle utilise les deux biblioth√®que cit√©es pr√©c√©demment et c'est la raison pour la quelle on les a inclus. -->
<h2 id="4--permettre-lenvoi-des-coordonn√©es-dans-le-formulaire"><a class="header" href="#4--permettre-lenvoi-des-coordonn√©es-dans-le-formulaire">4. üöÄ Permettre l'envoi des coordonn√©es dans le formulaire</a></h2>
<blockquote>
<p><strong>Documentation utile</strong>:</p>
<ul>
<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input">https://developer.mozilla.org/fr/docs/Web/HTML/Element/input</a></li>
</ul>
</blockquote>
<p>Modifiez le code JavaScript pr√©sent dans votre fichier <code>templates/index.html</code> afin que les champs <code>latitude</code> et <code>longitude</code> du formulaire se remplissent
avec les coordonn√©es du point cliqu√© sur la carte par l'utilisateur.</p>
<h2 id="5--afficher-des-markers-et-des-info-bulles-correspondant-√†-la-localisation-des-avis"><a class="header" href="#5--afficher-des-markers-et-des-info-bulles-correspondant-√†-la-localisation-des-avis">5. üöÄ Afficher des <em>markers</em> et des info-bulles correspondant √† la localisation des avis</a></h2>
<blockquote>
<p><strong>Documentation utile</strong>:</p>
<ul>
<li><a href="https://jinja.palletsprojects.com/en/2.11.x/">https://jinja.palletsprojects.com/en/2.11.x/</a></li>
<li><a href="https://leafletjs.com/">https://leafletjs.com/</a></li>
</ul>
</blockquote>
<ol>
<li>
<p><strong>Regardez le morceau de code pr√©sent en bas de la page <a href="https://leafletjs.com/">https://leafletjs.com/</a></strong> : les 3 derni√®res lignes montrent la cr√©ation d'un <em>marker</em> et de l'info-bulle qui lui est associ√©e, avec la biblioth√®que Leaflet.</p>
</li>
<li>
<p><strong>Modifier le code du fichier <code>index.html</code> afin de cr√©er un <em>marker</em> pour chaque avis.</strong> Vous allez utiliser la m√™me fonctionnalit√© de <code>Jinja2</code> que celle qui nous permet de parcourir l'ensemble des avis (actuellement pour les afficher sous forme d'une liste HTML) afin de mobiliser le code vu dans le point pr√©c√©dent.</p>
</li>
<li>
<p><strong>Rechargez la <em>web app</em> et testez que tout fonctionne correctement avant de passer √† la suite :</strong></p>
<ul>
<li><strong>Lorsque vous envoyez le formulaire, la page doit se recharger correctement et le nouvel avis doit appara√Ætre sur la carte.</strong></li>
<li><strong>Lorsque vous cliquez sur un marker, la note et le commentaire doivent s'afficher dans une info-bulle.</strong></li>
</ul>
</li>
</ol>
<h2 id="6--donner-vie-aux-liens-√Ä-propos-et-contact-de-la-barre-de-navigation"><a class="header" href="#6--donner-vie-aux-liens-√Ä-propos-et-contact-de-la-barre-de-navigation">6. üöÄ Donner vie aux liens <code>√Ä propos</code> et <code>Contact</code> de la barre de navigation</a></h2>
<blockquote>
<p><strong>Documentation utile</strong>:</p>
<ul>
<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/a">https://developer.mozilla.org/fr/docs/Web/HTML/Element/a</a></li>
</ul>
</blockquote>
<ol>
<li>
<p><strong>Inspirez-vous de la page <a href="http://mthh.pythonanywhere.com/about">http://mthh.pythonanywhere.com/about</a> pour ajouter une page de ce type √† votre site Web. Cela n√©cessite de cr√©er un nouveau <em>template</em> et une nouvelle route dans l'application Python <code>flask_app.py</code>.</strong></p>
</li>
<li>
<p><strong>L'utilisateur doit pouvoir se rendre sur cette page en cliquant sur <code>√Ä propos</code>. Il doit pouvoir revenir sur la page d'accueil en cliquant sur <code>Accueil</code>.</strong></p>
</li>
<li>
<p><strong>Le lien <code>Contact</code> doit √©galement √™tre modifi√© afin d'y associer une adresse email.</strong></p>
</li>
<li>
<p><strong>Rechargez la <em>web app</em> et testez que tout fonctionne correctement avant de passer √† la suite.</strong></p>
</li>
</ol>
<h2 id="7--aller-plus-loin-dans-la-prise-en-compte-de-lutilisateur-1"><a class="header" href="#7--aller-plus-loin-dans-la-prise-en-compte-de-lutilisateur-1">7. üöÄ Aller plus loin dans la prise en compte de l'utilisateur... (1)</a></h2>
<blockquote>
<p><strong>Documentation utile</strong>:</p>
<ul>
<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/Fieldset">https://developer.mozilla.org/fr/docs/Web/HTML/Element/Fieldset</a></li>
<li><a href="https://leafletjs.com/">https://leafletjs.com/</a></li>
</ul>
</blockquote>
<ol>
<li>
<p><strong>Le formulaire pourrait √™tre d√©sactiv√© par d√©faut avant que l'utilisateur ne clique une premi√®re fois sur la carte... Quel attribut devez vous utilisez pour √ßa ?</strong> <em>(n'h√©sitez pas √† chercher sur le Web, √† grouper tous vos champs dans un √©l√©ment HTML <code>&lt;fieldset&gt;</code> si n√©cessaire, etc. !)</em></p>
</li>
<li>
<p><strong>Une fois les champs d√©sactiv√©s...il est n√©cessaire de les activer lors du clic de l'utilisateur. L'id√©e g√©n√©rale est la suivante :</strong></p>
<ul>
<li><strong>ce comportement devra √™tre d√©fini dans la fonction <code>onMapClick</code> dans le code Javascript, puisqu'elle est appel√©e lors d'un clic sur la carte</strong></li>
<li><strong>il vous faut r√©cup√©rer l'√©l√©ment HTML qui a √©t√© d√©sactiv√© (avec <code>document.getElementById('...')</code>) et changer la valeur de l'attribut appropri√©.</strong> <em>(inspirez-vous du code JavaScript existant)</em></li>
</ul>
</li>
</ol>
<h2 id="8--personnaliser-le-rendu"><a class="header" href="#8--personnaliser-le-rendu">8. üöÄ Personnaliser le rendu...</a></h2>
<ol>
<li>
<p><strong>Utiliser des r√®gles CSS (cf. <a href="2-HTML_CSS.html">TP2</a> et <a href="3-structure-style.html">TP3</a>) pour personnaliser l'apparence de votre site Web selon vos go√ªts (type de police diff√©rent pour une partie du document, couleurs des diff√©rents √©l√©ments, etc.).</strong></p>
</li>
<li>
<p><strong>Quelques id√©es...</strong></p>
<ul>
<li>&quot;habiller&quot; le formulaire autrement,</li>
<li>changer/ajuster l'emplacement des √©l√©ments dans la page <em>(veillez √† conserver une disposition agr√©able des √©l√©ments, aussi bien sur un grand √©cran que sur un √©cran type <em>smartphone</em>)</em>,</li>
<li>des polices utilisables gratuitement sont disponibles sur <a href="https://fonts.google.com/">https://fonts.google.com/</a> <em>(des instructions sont fournis sur la d√©marche √† suivre pour inclure puis utiliser ces polices)</em>,</li>
<li>pensez √©galement √† regarder la <a href="https://getbootstrap.com/docs/5.1/getting-started/introduction/">documentation de Bootstrap</a> si besoin <em>(couleur de la barre de navigation, etc.)</em>.</li>
</ul>
</li>
</ol>
<h2 id="9--aller-plus-loin-dans-la-prise-en-compte-de-lutilisateur-2"><a class="header" href="#9--aller-plus-loin-dans-la-prise-en-compte-de-lutilisateur-2">9. üöÄ Aller plus loin dans la prise en compte de l'utilisateur... (2)</a></h2>
<blockquote>
<p><strong>Documentation utile</strong>:</p>
<ul>
<li><a href="https://jinja.palletsprojects.com/en/2.11.x/templates/#assignments">https://jinja.palletsprojects.com/en/2.11.x/templates/#assignments</a></li>
<li><a href="https://jinja.palletsprojects.com/en/2.11.x/tricks/#highlighting-active-menu-items">https://jinja.palletsprojects.com/en/2.11.x/tricks/#highlighting-active-menu-items</a></li>
<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/a">https://developer.mozilla.org/fr/docs/Web/HTML/Element/a</a></li>
<li><a href="https://www.the-art-of-web.com/javascript/remove-anchor-links/">https://www.the-art-of-web.com/javascript/remove-anchor-links/</a></li>
</ul>
</blockquote>
<p>Plusieurs √©l√©ments peuvent encore √™tre am√©lior√©s dans la mise en forme et dans le comportement de votre site :</p>
<ul>
<li>Vos pages ont-elles toutes un titre ? Rem√©diez-y si ce n'est pas le cas !</li>
<li>L'√©tat de la barre de navigation : lorsque vous √™tes sur la page <code>√Ä propos</code>, est-ce bien ce lien l√† qui est d√©finit comme √©tant &quot;actif&quot; ? <em>(v√©rifiez le comportement par rapport √† la page <a href="http://mthh.pythonanywhere.com/about">http://mthh.pythonanywhere.com/about</a> si n√©cessaire)</em></li>
<li>Que se passe-t-il lorsqu'un utilisateur est sur la version mobile de votre page et qu'il clique sur la carte ? Est-il possible de descendre automatiquement jusqu'au formulaire afin que l'utilisateur voit qu'il a √©t√© activ√© ? <em>(plusieurs options sont possibles)</em></li>
<li>Peut-on changer le type de <em>marker</em> utilis√©s par Leaflet afin de personnaliser la page ? Comment pourrait-on afficher un <em>marker</em> diff√©rent en fonction du la note ?</li>
</ul>
<div class="center">
<p><img src="img/scroll_to_form.gif" alt="" /></p>
</div>
<p><strong>Essayez de r√©soudre ces probl√®mes : regardez les liens propos√©s ci-dessus et/ou utilisez un moteur de recherche pour d√©crire ce que vous souhaitez atteindre afin d'√©valuer les options qui s'offrent √† vous. Faites des propositions √† l'oral si vous n'√™tes pas s√ªr ou si vous voulez de l'aide pour l'impl√©mentation.</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="les-technos-web-quelques-notions-non-abord√©es"><a class="header" href="#les-technos-web-quelques-notions-non-abord√©es">Les <em>&quot;Technos Web&quot;</em>... quelques notions non abord√©es</a></h1>
<h2 id="1-syst√®me-de-gestion-de-contenu-cms"><a class="header" href="#1-syst√®me-de-gestion-de-contenu-cms">1. Syst√®me de gestion de contenu (CMS)</a></h2>
<p>Les syst√®mes de gestion de contenu (<em>Content Management System</em> - <em>CMS</em>) sont des solutions logicielles permettant de concevoir, g√©rer et mettre √† jour des sites Web de mani√®re &quot;dynamique&quot; (comme vu dans les TP pr√©c√©dents, on emploie ce terme pour d√©signer le fait que le <em>contenu</em> est g√©n√©ralement stock√© dans une base de donn√©es et mobilis√© <em>server-side</em> pour venir enrichir des mod√®les de pages).</p>
<p>Pour √™tre qualifi√©es de CMS, ces solutions doivent pr√©senter plusieurs caract√©ristiques :</p>
<ul>
<li>permettre l'√©dition simultan√©e d'un document par plusieurs √©diteurs et offrir des fonctionnalit√©s de hi√©rarchisation des utilisateurs avec des r√¥les (contributeur, administrateur, etc.)</li>
<li>permettre la s√©paration de la gestion du <em>contenu</em> et de la <em>forme</em></li>
<li>fournir la cha√Æne de publication des documents / du contenu du site</li>
<li>permettre la structuration du contenu (FAQ, blog, forum)</li>
</ul>
<p>Ces CMS proposent ainsi g√©n√©ralement une interface Web permettant l'administration du site et permettant l'√©dition de pages web via l'utilisation d'outils <em>WYSIWYG</em> (<em>What You See Is What You Get</em>) ou via l'utilisation de balises simplifi√©es (<a href="https://fr.wikipedia.org/wiki/BBCode">BBCode</a>, Markdown, etc.). La personnalisation du design (ou l'ajout de fonctionnalit√©s plus avanc√©es) rel√®ve parfois de l'utilisation de <em>plugins</em>.</p>
<p>Parmi les plus utilis√©s : <a href="https://fr.wordpress.org/">Wordpress</a>, Wix, Joomla, Shopify, <a href="https://www.drupal.fr/">Drupal</a>.<br />
Certains d'entre-eux sont sp√©cialis√©s dans la r√©alisation de types de sites web pr√©cis : <strong>phpBB</strong> est un moteur de forum et <strong>MediaWiki</strong> est un moteur de Wiki.</p>
<blockquote>
<p><strong>Remarque</strong>: L'usage d'un CMS est loin d'√™tre un √©l√©ment n√©gligeable de la publication sur le Web. En effet, √† la date du 09/01/2023, <strong>Wordpress est utilis√© par 43.1% des sites web</strong>, Shopify par 3.8% et Wix par 2.4%.<br />
Toutefois <strong>32.2% des sites web n'utilisent pas de CMS</strong> (c'est environ 1.5 points de moins qu'il y a un an).<br />
Source: <a href="https://w3techs.com/technologies/overview/content_management">https://w3techs.com/technologies/overview/content_management</a></p>
</blockquote>
<h2 id="2-langages-de-balisages-l√©gers"><a class="header" href="#2-langages-de-balisages-l√©gers">2. Langages de balisages l√©gers</a></h2>
<p>Il existe des langages de balisage dont la syntaxe est moins pr√©sente visuellement que le HTML. Les documents qui utilisent ces langages ont pour vocation de pouvoir √™tre cr√©√©s et modifi√©s avec un √©diteur de texte simple et se doivent d'√™tre facile √† lire dans leur forme non format√©e.</p>
<p>Ces langages de balisages l√©ger ont √©t√© con√ßus pour √™tre transform√©s vers des langages de balisage plus complexes (HTML ou LaTeX par exemple) et pour produire des documents (PDF par exemple).</p>
<ul>
<li><strong>wikitext</strong> est utilis√© pour les pages Wikipedia</li>
<li><strong>ReStructuredText</strong> est utilis√© dans la documentation Python</li>
<li><strong>Markdown</strong> est utilis√© pour la r√©daction de diff√©rentes documentations (langage Rust, README des projets sur GitHub/GitLab, etc. - ce support de TP est √©galement r√©dig√© en Markdown puis converti en HTML et en PDF)</li>
</ul>
<p><strong>√âditeurs Markdown en ligne</strong>:</p>
<ul>
<li><a href="https://dillinger.io/">https://dillinger.io/</a></li>
<li><a href="https://pandao.github.io/editor.md/en.html">https://pandao.github.io/editor.md/en.html</a></li>
<li><a href="http://socrates.io/">http://socrates.io/</a> (pas d'exemple pr√©sent √† l'ouverture de la page !)</li>
<li><a href="https://hackmd.io">https://hackmd.io/</a> (collaboratif)</li>
</ul>
<h2 id="3-quelques-tendances-du-d√©veloppement-web-en-2022"><a class="header" href="#3-quelques-tendances-du-d√©veloppement-web-en-2022">3. Quelques tendances du d√©veloppement web en 2022</a></h2>
<p>Il s'agit de morceaux choisis, sur la base de mes lectures et donc forc√©ment orient√© par mes centres d'int√©r√™t (certains des points √©voqu√©s peuvent √™tre retrouv√© sur des articles tels que <a href="https://dev.to/theme_selection/dominating-web-development-trends-2021-2ihp">https://dev.to/theme_selection/dominating-web-development-trends-2021-2ihp</a> - mis √† jour pour 2022).</p>
<p>Si vous √™tes int√©ress√©s par le d√©veloppement web vous risquez de rencontrer certains de ces termes lors de vos recherches.</p>
<h3 id="mobile-first-design"><a class="header" href="#mobile-first-design">Mobile first design</a></h3>
<p>Le <em>mobile first</em> est un concept appartenant √† la <strong>conception de sites web r√©actifs</strong>. Dans ce mode de pens√©e la construction d'une interface ergonomique pour terminaux mobiles est privil√©gi√©e, avant d'√©tablir l'ergonomie pour un terminal de bureau. Nous en avons parl√© dans les premi√®res s√©ances et c'est le principe utilis√© par le framework Bootstrap.</p>
<h3 id="dark-mode--low-light-ux"><a class="header" href="#dark-mode--low-light-ux">Dark mode &amp; low-light UX</a></h3>
<p>Application d'un th√®me de couleur plus sombre, destin√© notamment √† √©viter la lumi√®re excessive produite par l'√©cran.</p>
<p>De nombreuses applications web proposent d√©sormais un th√®me sombre :</p>
<ul>
<li><a href="https://github.blog/changelog/2020-12-08-dark-mode-public-beta/">GitHub</a> (depuis d√©cembre 2020)</li>
<li><a href="https://stackoverflow.blog/2020/03/30/introducing-dark-mode-for-stack-overflow/">StackOverlow</a> (depuis mars 2020)</li>
<li>YouTube (depuis 2017)</li>
</ul>
<p>Un des autres avantages attribu√© √† ce type de th√®mes est une utilisation moindre de la batterie.</p>
<p>L'efficacit√© de ces th√®mes sombres (notamment sur la productivit√©) semble toutefois sujette √† d√©bat.</p>
<h3 id="spa-single-page-application"><a class="header" href="#spa-single-page-application">SPA <em>(Single Page Application)</em></a></h3>
<p>Une <strong>application web monopage</strong> est une application web accessible depuis une page web unique (il n'y pas de chargement d'une nouvelle page lors d'une action de l'utilisateur, permettant de fluidifier son exp√©rience).
Voir illustration sur <a href="https://www.yoozly.com/blog/single-page-application">https://www.yoozly.com/blog/single-page-application</a> par exemple.</p>
<p>Exemples :</p>
<ul>
<li><a href="https://mail.google.com">Gmail</a></li>
<li><a href="https://github.com/">GitHub</a></li>
<li><a href="http://magrit.cnrs.fr/modules">Magrit</a></li>
</ul>
<h3 id="pwa-progressive-web-application"><a class="header" href="#pwa-progressive-web-application">PWA <em>(Progressive Web Application)</em></a></h3>
<p>Une <strong>application web progressive</strong> est une application web qui remplit un certain nombre de crit√®res tels que : fonctionne hors-ligne, est installable, peut envoyer des notifications <em>push</em>, etc. Il s'agit d'un type d'application qui peut appara√Ætre √† l'utilisateur de la m√™me mani√®re que les applications natives ou les applications mobiles. Ce type d'application tire profit des fonctionnalit√©s offertes les navigateurs modernes.</p>
<p>Exemples de PWA :</p>
<ul>
<li><a href="https://squoosh.app/">Squoosh</a> (cette application utilise √©galement WebAssembly cit√© plus bas)</li>
<li><a href="https://twitter.com/">Twitter</a></li>
<li><a href="https://app.diagrams.net/">diagrams.net</a></li>
<li>De nombreuses titres de la presse : Le Monde, 20 minutes, etc.</li>
</ul>
<p><img src="img/twitter-pwa.png" alt="" /></p>
<p>Voir par exemple <a href="https://developer.mozilla.org/fr/docs/Web/Progressive_web_apps/Introduction">https://developer.mozilla.org/fr/docs/Web/Progressive_web_apps/Introduction</a> pour plus d'informations.</p>
<h3 id="webassembly-wasm"><a class="header" href="#webassembly-wasm">WebAssembly (wasm)</a></h3>
<p>Il s'agit d'un standard du W3C pour le d√©veloppement d'application.</p>
<blockquote>
<p><em>&quot;WebAssembly est un nouveau type de code qui peut √™tre ex√©cut√© dans un navigateur web moderne. C'est un langage bas niveau, semblable √† l'assembleur permettant d'atteindre des performances proches des applications natives (par exemple √©crites en C/C++) tout en fonctionnant sur le Web. WebAssembly est con√ßu pour fonctionner en lien avec JavaScript.&quot;</em> (source: <a href="https://developer.mozilla.org/fr/docs/WebAssembly">https://developer.mozilla.org/fr/docs/WebAssembly</a>)</p>
</blockquote>
<p>Un des principaux buts du WebAssembly est donc de compl√©ter le JavaScript pour permettre la cr√©ation d'applications web performantes. Le code WebAssembly peut toutefois √™tre ex√©cut√© hors d'un navigateur web.</p>
<p>Concr√®tement, il devient possible d'utiliser des langages compil√©s (tels que le C, C++, Rust ou Go) pour √©crire des applications web. Ce code devra √™tre compil√© en utilisant le WebAssembly comme cible de compilation. Le code ainsi produit sera executable de la m√™me mani√®re sur toutes les plateformes √† travers un navigateur web moderne.</p>
<p>Exemples de jeux ou d'applications fonctionnant dans le navigateur web gr√¢ce √† WebAssembly :</p>
<ul>
<li><a href="https://beta.unity3d.com/jonas/AngryBots/">AngryBots</a></li>
<li><a href="http://wasm.continuation-labs.com/arxdemo/">Port of Arx Fatalis</a></li>
<li><a href="https://madewithwebassembly.com/showcase/autocad/">AutoCAD web app</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="glossaire---termes-importants"><a class="header" href="#glossaire---termes-importants">Glossaire - Termes importants</a></h2>
<div class="glo">
<ul>
<li>
<p><a name="API">API</a>: <em>Application Programming Interface</em> ou interface de programmation d'application - Voir <a href="https://fr.wikipedia.org/wiki/Interface_de_programmation">https://fr.wikipedia.org/wiki/Interface_de_programmation</a></p>
</li>
<li>
<p><a name="Bootstrap">Bootstrap</a>: collection d'outils (CSS et Javascript) pour la cr√©ation de sites web, d√©velopp√© par Twitter.</p>
</li>
<li>
<p><a name="CLI">CLI</a>: <em>Command Line Interface</em> - terme utilis√© pour d√©signer un outil proposant une interface en ligne de commande, c'est √† dire utilisable depuis une console du syst√®me par exemple.</p>
</li>
<li>
<p><a name="CSS">CSS</a>: <em>Cascasding StyleSheet</em> - c'est un langage permettant de d√©crire la pr√©sentation de documents HTML. Sa version actuelle est CSS3.</p>
</li>
<li>
<p><a name="DOM">DOM</a>: <em>Document Object Model</em> ou mod√®le d'objets de document - c'est une API pour les documents HTML qui d√©finit la structure logique de ces documents ainsi que des m√©thodes pour les manipuler.</p>
</li>
<li>
<p><a name="Framework">Framework</a>: Voir <a href="https://fr.wikipedia.org/wiki/Framework">https://fr.wikipedia.org/wiki/Framework</a>.</p>
</li>
<li>
<p><a name="HTML">HTML</a>: <em>HyperText Markup Language</em> - c'est un langage de balisage permettant de repr√©senter les pages Web (il permet de les structurer s√©mantiquement et logiquement, d'inclure des formulaires et diff√©rents autres types de ressources : images, vid√©os, liens vers d'autres pages ou ressources, etc.). Sa version actuelle est HTML5. C'est un des concepts central du <a href="glossaire.html#WWW">World Wide Web</a>.</p>
</li>
<li>
<p><a name="HTTP">HTTP</a>: <em>HyperText Transfert Protocol</em> - un protocole de communication client-serveur permettant notamment d'√©changer des documents hypertexte. C'est un des concepts central du <a href="glossaire.html#WWW">World Wide Web</a>.</p>
</li>
<li>
<p><a name="Javascript">Javascript</a>: un langage de scripts notamment utilis√© pour cr√©er des pages web interactives: du code JavaScript peut √™tre int√©gr√© dans les pages web pour √™tre ex√©cut√© dans le navigateur du client.</p>
</li>
<li>
<p><a name="JSON">JSON</a>: <em>JavaScript Object Notation</em> - un format de donn√©es textuelles <em>(human readable)</em> d√©riv√© de la syntaxe des objets en JavaScript.</p>
</li>
<li>
<p><a name="MoteurTemplate">Moteur de <i>template</i></a> : un syst√®me qui permet (cot√© serveur dans notre cas) de personnaliser des documents web envoy√©es au client en combinant la r√©utilisation d'√©l√©ments statiques (le mod√®le) l'utilisation d'√©l√©ments dynamiques (servant √† d√©finir le contenu) bas√©s sur les param√®tres d'une requ√™te.</p>
</li>
<li>
<p><a name="SQLite">SQLite</a>: c'est un moteur de base de donn√©es relationnelle <em>open-source</em> (son code est dans le domaine public) dont la sp√©cificit√© est de stocker l'int√©gralit√© de la BD dans un fichier ind√©pendant de la plateforme. C'est probablement le moteur de base de donn√©es le plus utilis√© au monde (<a href="https://www.sqlite.org/famous.html">https://www.sqlite.org/famous.html</a>).</p>
</li>
<li>
<p><a name="URI">URI</a>: <em>Uniform Resource Identifier</em> - c'est une cha√Æne de caract√®res qui d√©signe une ressource sur un r√©seau.</p>
</li>
<li>
<p><a name="URL">URL</a>: <em>Uniform Resource Locator</em> - c'est une cha√Æne de caract√®res qui d√©signe une ressource du <a href="glossaire.html#WWW">WWW</a>. Les URL sont parfois appel√©es <em>adresses Web</em> et composent un sous-ensemble des <a href="glossaire.html#URI">URI</a>.</p>
</li>
<li>
<p><a name="WWW">WWW</a>: <em>World Wide Web</em> - d√©crit le syst√®me d'information, utilisant le r√©seau Internet, dans lequel les ressources (documents, etc.) sont identifi√©es par une <a href="glossaire.html#URL">URL</a> et reli√©es entre elles par des liens hypertextes. Les ressources du WWW sont consultables par des <em>clients Web</em> (g√©n√©ralement des navigateurs Web), publi√©es par des <em>serveurs Web</em> et transf√©r√©es en utilisant le protocole <a href="glossaire.html#HTTP">HTTP</a>.</p>
</li>
</ul>
</div>
<h2 id="m√©mo-balises-html"><a class="header" href="#m√©mo-balises-html">M√©mo Balises HTML</a></h2>
<blockquote>
<p><strong>Remarque</strong>: ce m√©mo pr√©sente les principales balises HTML, notamment celles rencontr√©es lors de cette session de TP, mais n'est pas exhaustif - une liste plus compl√®te accompagn√©e de sa description est consultable √† l'adresse <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element">developer.mozilla.org/fr/docs/Web/HTML/Element</a>.</p>
</blockquote>
<h3 id="balises-den-t√™te"><a class="header" href="#balises-den-t√™te">Balises d'en-t√™te</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Balise</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;html&gt;</code></td><td>Balise principale du document</td></tr>
<tr><td>-</td><td>-</td></tr>
<tr><td><code>&lt;head&gt;</code></td><td>En-t√™te de la page</td></tr>
<tr><td><code>&lt;body&gt;</code></td><td>Corps de la page</td></tr>
</tbody></table>
</div>
<h3 id="balises-de-conteneur-g√©n√©rique"><a class="header" href="#balises-de-conteneur-g√©n√©rique">Balises de conteneur g√©n√©rique</a></h3>
<p><em>pas de r√¥le s√©mantique</em></p>
<div class="table-wrapper"><table><thead><tr><th>Balise</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;span&gt;</code></td><td>Conteneur g√©n√©rique en ligne <em>(inline)</em></td></tr>
<tr><td><code>&lt;div&gt;</code></td><td>Conteneur g√©n√©rique qui permet d'organiser le contenu <em>(block)</em></td></tr>
</tbody></table>
</div>
<h3 id="balises-sectionnantes"><a class="header" href="#balises-sectionnantes">Balises sectionnantes</a></h3>
<p><em>elles ont le m√™me effet qu'un √©l√©ment <code>&lt;div&gt;</code> mais ont une s√©mantique associ√©e</em></p>
<div class="table-wrapper"><table><thead><tr><th>Balise</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;header&gt;</code></td><td>El√©ment d'en-t√™te (de page, d'article, ..)</td></tr>
<tr><td><code>&lt;nav&gt;</code></td><td>√âl√©ment (barre, menu, ..) avec principaux liens de navigation</td></tr>
<tr><td><code>&lt;footer&gt;</code></td><td>El√©ment de pied (de page, d'article, ..) avec infos sur auteurs, copyright, etc.</td></tr>
<tr><td><code>&lt;section&gt;</code></td><td>Section de page</td></tr>
<tr><td><code>&lt;article&gt;</code></td><td>Article de blog, post de forum, etc. (contenu autonome)</td></tr>
<tr><td><code>&lt;aside&gt;</code></td><td>Infos compl√©mentaires (pas indispensables au contenu autonome qu'elles accompagnent)</td></tr>
</tbody></table>
</div>
<h3 id="autres-balises-avec-s√©mantique-associ√©e"><a class="header" href="#autres-balises-avec-s√©mantique-associ√©e">Autres balises avec s√©mantique associ√©e</a></h3>
<p><em>cette liste pr√©sente aussi bien des balises relatives au sectionnement du contenu que des balises relatives au contenu textuel par exemple</em></p>
<div class="table-wrapper"><table><thead><tr><th>Balise</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;abbr&gt;</code></td><td>Abr√©viation</td></tr>
<tr><td><code>&lt;blockquote&gt;</code></td><td>Citation (longue)</td></tr>
<tr><td><code>&lt;cite&gt;</code></td><td>Citation du titre d'une oeuvre</td></tr>
<tr><td><code>&lt;q&gt;</code></td><td>Citation (courte)</td></tr>
<tr><td><code>&lt;sup&gt;</code></td><td>Exposant</td></tr>
<tr><td><code>&lt;sub&gt;</code></td><td>Indice</td></tr>
<tr><td><code>&lt;strong&gt;</code></td><td>Mise en valeur forte</td></tr>
<tr><td><code>&lt;em&gt;</code></td><td>Mise en valeur</td></tr>
<tr><td><code>&lt;mark&gt;</code></td><td>Mise en valeur pour sa pertinence</td></tr>
<tr><td><code>&lt;h1&gt;</code></td><td>Titre de niveau 1</td></tr>
<tr><td><code>&lt;h2&gt;</code></td><td>Titre de niveau 2</td></tr>
<tr><td><code>&lt;h3&gt;</code></td><td>Titre de niveau 3</td></tr>
<tr><td><code>&lt;h4&gt;</code></td><td>Titre de niveau 4</td></tr>
<tr><td><code>&lt;h5&gt;</code></td><td>Titre de niveau 5</td></tr>
<tr><td><code>&lt;h6&gt;</code></td><td>Titre de niveau 6</td></tr>
<tr><td><code>&lt;img /&gt;</code></td><td>Image</td></tr>
<tr><td><code>&lt;figure&gt;</code></td><td>Figure (image, code, ...)</td></tr>
<tr><td><code>&lt;figcaption&gt;</code></td><td>Description de la figure</td></tr>
<tr><td><code>&lt;audio&gt;</code></td><td>Son</td></tr>
<tr><td><code>&lt;video&gt;</code></td><td>Vid√©o</td></tr>
<tr><td><code>&lt;source&gt;</code></td><td>Source pour <code>&lt;audio&gt;</code> et <code>&lt;vid√©o&gt;</code></td></tr>
<tr><td><code>&lt;a&gt;</code></td><td>Lien hypertexte</td></tr>
<tr><td><code>&lt;br /&gt;</code></td><td>Retour √† la ligne</td></tr>
<tr><td><code>&lt;p&gt;</code></td><td>Paragraphe</td></tr>
<tr><td><code>&lt;hr /&gt;</code></td><td>Ligne horizontale</td></tr>
<tr><td><code>&lt;del&gt;</code></td><td>Texte supprim√©</td></tr>
<tr><td><code>&lt;ins&gt;</code></td><td>Texte ins√©r√©</td></tr>
<tr><td><code>&lt;dfn&gt;</code></td><td>D√©finition</td></tr>
<tr><td><code>&lt;pre&gt;</code></td><td>Texte pr√©-formatt√© (code source, etc.)</td></tr>
<tr><td><code>&lt;progress&gt;</code></td><td>Barre de progression</td></tr>
</tbody></table>
</div>
<h3 id="balises-de-liste"><a class="header" href="#balises-de-liste">Balises de liste</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Balise</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;ul&gt;</code></td><td>Liste √† puce, non num√©rot√©e</td></tr>
<tr><td><code>&lt;ol&gt;</code></td><td>Liste num√©rot√©e</td></tr>
<tr><td><code>&lt;li&gt;</code></td><td>√âl√©ment de la liste</td></tr>
</tbody></table>
</div><!-- | `<dl>` | Liste de d√©finitions |
| `<dt>` | Terme √† d√©finir |
| `<dd>` | D√©finition du terme | -->
<h3 id="balises-de-tableau"><a class="header" href="#balises-de-tableau">Balises de tableau</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Balise</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;table&gt;</code></td><td>Tableau dans son ensemble</td></tr>
<tr><td><code>&lt;caption&gt;</code></td><td>Titre du tableau</td></tr>
<tr><td><code>&lt;tr&gt;</code></td><td>Ligne de cellules (dans l'en-t√™te ou le corps)</td></tr>
<tr><td><code>&lt;th&gt;</code></td><td>Cellule dans l'en-t√™te du tableau</td></tr>
<tr><td><code>&lt;td&gt;</code></td><td>Cellule dans le corps du tableau</td></tr>
<tr><td><code>&lt;thead&gt;</code></td><td>En-t√™te du tableau</td></tr>
<tr><td><code>&lt;tbody&gt;</code></td><td>Corps du tableau</td></tr>
</tbody></table>
</div>
<h3 id="balises-de-formulaire"><a class="header" href="#balises-de-formulaire">Balises de formulaire</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Balise</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;form&gt;</code></td><td>Formulaire</td></tr>
<tr><td><code>&lt;fieldset&gt;</code></td><td>Groupe de champs</td></tr>
<tr><td><code>&lt;legend&gt;</code></td><td></td></tr>
<tr><td><code>&lt;label&gt;</code></td><td></td></tr>
<tr><td><code>&lt;input /&gt;</code></td><td></td></tr>
<tr><td><code>&lt;textarea&gt;</code></td><td></td></tr>
<tr><td><code>&lt;select&gt;</code></td><td></td></tr>
<tr><td><code>&lt;option&gt;</code></td><td></td></tr>
<tr><td><code>&lt;optgroup&gt;</code></td><td></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h2 id="donn√©es--corrections"><a class="header" href="#donn√©es--corrections">Donn√©es &amp; corrections</a></h2>
<!-- - [PDF TP1](1-Intro-Internet-web/1-Intro-slides.pdf) -->
<ul>
<li>
<p><a href="data/TP2.zip">Donn√©es TP2</a> - <a href="data/TP2_correction.zip">Correction (.zip)</a></p>
</li>
<li>
<p><a href="data/TP3.zip">Donn√©es TP3</a> - <a href="data/TP3_correction.zip">Exemple / correction (.zip)</a> - <a href="data/TP3-demo/.html">Exemple / correction (interactif)</a></p>
</li>
<li>
<p><a href="data/TP4.zip">Donn√©es TP4</a> - <a href="data/TP4_correction.zip">Correction (.zip)</a></p>
</li>
<li>
<p><a href="data/TP7.zip">Donn√©es TP7</a></p>
</li>
<li>
<p><a href="data/TP8/app.db">Donn√©es TP8 (fichier <code>app.db</code>)</a></p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="sujets-dexamen-pr√©c√©dents"><a class="header" href="#sujets-dexamen-pr√©c√©dents">Sujets d'examen pr√©c√©dents</a></h2>
<p><a href="./data/Test_TechnoWEB_2020_v1.pdf">Example 1 - Ann√©e 2019-2020</a></p>
<p><a href="./data/Test_TechnoWEB_2020_v2.pdf">Example 2 - Ann√©e 2019-2020</a></p>
<p><a href="./data/Test_TechnoWEB_2021_variante2.pdf">Example 3 - Ann√©e 2020-2021</a></p>
<p><a href="./data/Test_TechnoWEB_2022.pdf">Example 4 - Ann√©e 2021-2022</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>






        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="src/custom.js"></script>

        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
